<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>mini.pick documentation – MINI</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//assets/logo-mini_180x180.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-0ed1a58f1961f20e100ea025a42ebf64.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-fdc1b2fd0a2d1e1fd2f41bfe1f0ec5c1.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-f4e84033c18e8c370a330967136b3407.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-5386360745f20d466fa5a7e94763a348.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": "tree",
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style> .quarto-title > h1.title { display: none } </style>


<meta property="og:title" content="mini.pick documentation – MINI">
<meta property="og:description" content="Modular Independent Neovim Improvements">
<meta property="og:image" content="https://echasnovski.github.io/mini-site/assets/logo-mini_social.png">
<meta property="og:site_name" content="MINI">
<meta property="og:image:height" content="630">
<meta property="og:image:width" content="1200">
<meta name="twitter:title" content="mini.pick documentation – MINI">
<meta name="twitter:description" content="Modular Independent Neovim Improvements">
<meta name="twitter:image" content="https://echasnovski.github.io/mini-site/assets/logo-mini_social.png">
<meta name="twitter:image-height" content="630">
<meta name="twitter:image-width" content="1200">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-dark"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = true;
    const queryPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    const darkModeDefault = queryPrefersDark.matches;
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    queryPrefersDark.addEventListener("change", e => {
      if(window.localStorage.getItem("quarto-color-scheme") !== null)
        return;
      const alternate = e.matches
      toggleColorMode(alternate);
      localAlternateSentinel = e.matches ? 'alternate' : 'default'; // this is used alongside local storage!
      toggleGiscusIfUsed(alternate, darkModeDefault);
    });
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">MINI</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../mini.nvim/index.html"> 
<span class="menu-text">mini.nvim</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/nvim-mini"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog/index.xml"> <i class="bi bi-rss-fill" role="img" aria-label="RSS">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#module" id="toc-module" class="nav-link active" data-scroll-target="#module">Module</a>
  <ul>
  <li><a href="#module-dependencies" id="toc-module-dependencies" class="nav-link" data-scroll-target="#module-dependencies">Dependencies</a></li>
  <li><a href="#module-setup" id="toc-module-setup" class="nav-link" data-scroll-target="#module-setup">Setup</a></li>
  <li><a href="#module-comparisons" id="toc-module-comparisons" class="nav-link" data-scroll-target="#module-comparisons">Comparisons</a></li>
  <li><a href="#module-highlightgroups" id="toc-module-highlightgroups" class="nav-link" data-scroll-target="#module-highlightgroups">Highlight groups</a></li>
  </ul></li>
  <li><a href="#minipick-events" id="toc-minipick-events" class="nav-link" data-scroll-target="#minipick-events">Events</a></li>
  <li><a href="#minipick-overview" id="toc-minipick-overview" class="nav-link" data-scroll-target="#minipick-overview">Overview</a>
  <ul>
  <li><a href="#minipick-overview-howtostartapicker" id="toc-minipick-overview-howtostartapicker" class="nav-link" data-scroll-target="#minipick-overview-howtostartapicker">How to start a picker</a></li>
  <li><a href="#minipick-overview-userinterface" id="toc-minipick-overview-userinterface" class="nav-link" data-scroll-target="#minipick-overview-userinterface">User interface</a></li>
  <li><a href="#minipick-overview-lifecycle" id="toc-minipick-overview-lifecycle" class="nav-link" data-scroll-target="#minipick-overview-lifecycle">Life cycle</a></li>
  <li><a href="#minipick-overview-implementationdetails" id="toc-minipick-overview-implementationdetails" class="nav-link" data-scroll-target="#minipick-overview-implementationdetails">Implementation details</a></li>
  </ul></li>
  <li><a href="#minipick-source" id="toc-minipick-source" class="nav-link" data-scroll-target="#minipick-source">Source</a>
  <ul>
  <li><a href="#minipick-source-items" id="toc-minipick-source-items" class="nav-link" data-scroll-target="#minipick-source-items">Items</a></li>
  <li><a href="#minipick-source-name" id="toc-minipick-source-name" class="nav-link" data-scroll-target="#minipick-source-name">Name</a></li>
  <li><a href="#minipick-source-currentworkingdirectory" id="toc-minipick-source-currentworkingdirectory" class="nav-link" data-scroll-target="#minipick-source-currentworkingdirectory">Current working directory</a></li>
  <li><a href="#minipick-source-match" id="toc-minipick-source-match" class="nav-link" data-scroll-target="#minipick-source-match">Match</a></li>
  <li><a href="#minipick-source-show" id="toc-minipick-source-show" class="nav-link" data-scroll-target="#minipick-source-show">Show</a></li>
  <li><a href="#minipick-source-preview" id="toc-minipick-source-preview" class="nav-link" data-scroll-target="#minipick-source-preview">Preview</a></li>
  <li><a href="#minipick-source-chooseanitem" id="toc-minipick-source-chooseanitem" class="nav-link" data-scroll-target="#minipick-source-chooseanitem">Choose an item</a></li>
  <li><a href="#minipick-source-choosemarkeditems" id="toc-minipick-source-choosemarkeditems" class="nav-link" data-scroll-target="#minipick-source-choosemarkeditems">Choose marked items</a></li>
  </ul></li>
  <li><a href="#minipick-actions" id="toc-minipick-actions" class="nav-link" data-scroll-target="#minipick-actions">Actions</a>
  <ul>
  <li><a href="#minipick-actions-built-in" id="toc-minipick-actions-built-in" class="nav-link" data-scroll-target="#minipick-actions-built-in">Built-in</a>
  <ul>
  <li><a href="#minipick-actions-built-in-caret" id="toc-minipick-actions-built-in-caret" class="nav-link" data-scroll-target="#minipick-actions-built-in-caret">Caret</a></li>
  <li><a href="#minipick-actions-built-in-choose" id="toc-minipick-actions-built-in-choose" class="nav-link" data-scroll-target="#minipick-actions-built-in-choose">Choose</a></li>
  <li><a href="#minipick-actions-built-in-delete" id="toc-minipick-actions-built-in-delete" class="nav-link" data-scroll-target="#minipick-actions-built-in-delete">Delete</a></li>
  <li><a href="#minipick-actions-built-in-mark" id="toc-minipick-actions-built-in-mark" class="nav-link" data-scroll-target="#minipick-actions-built-in-mark">Mark</a></li>
  <li><a href="#minipick-actions-built-in-move" id="toc-minipick-actions-built-in-move" class="nav-link" data-scroll-target="#minipick-actions-built-in-move">Move</a></li>
  <li><a href="#minipick-actions-built-in-paste" id="toc-minipick-actions-built-in-paste" class="nav-link" data-scroll-target="#minipick-actions-built-in-paste">Paste</a></li>
  <li><a href="#minipick-actions-built-in-refine" id="toc-minipick-actions-built-in-refine" class="nav-link" data-scroll-target="#minipick-actions-built-in-refine">Refine</a></li>
  <li><a href="#minipick-actions-built-in-scroll" id="toc-minipick-actions-built-in-scroll" class="nav-link" data-scroll-target="#minipick-actions-built-in-scroll">Scroll</a></li>
  <li><a href="#minipick-actions-built-in-stop" id="toc-minipick-actions-built-in-stop" class="nav-link" data-scroll-target="#minipick-actions-built-in-stop">Stop</a></li>
  <li><a href="#minipick-actions-built-in-toggle" id="toc-minipick-actions-built-in-toggle" class="nav-link" data-scroll-target="#minipick-actions-built-in-toggle">Toggle</a></li>
  </ul></li>
  <li><a href="#minipick-actions-custom" id="toc-minipick-actions-custom" class="nav-link" data-scroll-target="#minipick-actions-custom">Custom</a></li>
  </ul></li>
  <li><a href="#minipick-examples" id="toc-minipick-examples" class="nav-link" data-scroll-target="#minipick-examples">Examples</a>
  <ul>
  <li><a href="#minipick-examples-disableicons" id="toc-minipick-examples-disableicons" class="nav-link" data-scroll-target="#minipick-examples-disableicons">Disable icons</a></li>
  <li><a href="#minipick-examples-switchtoggleandmovekeys" id="toc-minipick-examples-switchtoggleandmovekeys" class="nav-link" data-scroll-target="#minipick-examples-switchtoggleandmovekeys">Switch toggle and move keys</a></li>
  <li><a href="#minipick-examples-differentwindowstyles" id="toc-minipick-examples-differentwindowstyles" class="nav-link" data-scroll-target="#minipick-examples-differentwindowstyles">Different window styles:</a></li>
  </ul></li>
  <li><a href="#minipick.setup" id="toc-minipick.setup" class="nav-link" data-scroll-target="#minipick.setup">setup()</a>
  <ul>
  <li><a href="#minipick.setup-pick" id="toc-minipick.setup-pick" class="nav-link" data-scroll-target="#minipick.setup-pick">:Pick</a></li>
  <li><a href="#minipick.setup-parameters" id="toc-minipick.setup-parameters" class="nav-link" data-scroll-target="#minipick.setup-parameters">Parameters</a></li>
  <li><a href="#minipick.setup-usage" id="toc-minipick.setup-usage" class="nav-link" data-scroll-target="#minipick.setup-usage">Usage</a></li>
  </ul></li>
  <li><a href="#minipick.config" id="toc-minipick.config" class="nav-link" data-scroll-target="#minipick.config">config</a>
  <ul>
  <li><a href="#minipick.config-defaults" id="toc-minipick.config-defaults" class="nav-link" data-scroll-target="#minipick.config-defaults">Defaults</a></li>
  <li><a href="#minipick.config-delays" id="toc-minipick.config-delays" class="nav-link" data-scroll-target="#minipick.config-delays">Delays</a></li>
  <li><a href="#minipick.config-mappings" id="toc-minipick.config-mappings" class="nav-link" data-scroll-target="#minipick.config-mappings">Mappings</a></li>
  <li><a href="#minipick.config-options" id="toc-minipick.config-options" class="nav-link" data-scroll-target="#minipick.config-options">Options</a></li>
  <li><a href="#minipick.config-source" id="toc-minipick.config-source" class="nav-link" data-scroll-target="#minipick.config-source">Source</a></li>
  <li><a href="#minipick.config-window" id="toc-minipick.config-window" class="nav-link" data-scroll-target="#minipick.config-window">Window</a></li>
  </ul></li>
  <li><a href="#minipick.start" id="toc-minipick.start" class="nav-link" data-scroll-target="#minipick.start">start()</a>
  <ul>
  <li><a href="#minipick.start-parameters" id="toc-minipick.start-parameters" class="nav-link" data-scroll-target="#minipick.start-parameters">Parameters</a></li>
  <li><a href="#minipick.start-return" id="toc-minipick.start-return" class="nav-link" data-scroll-target="#minipick.start-return">Return</a></li>
  </ul></li>
  <li><a href="#minipick.stop" id="toc-minipick.stop" class="nav-link" data-scroll-target="#minipick.stop">stop()</a></li>
  <li><a href="#minipick.refresh" id="toc-minipick.refresh" class="nav-link" data-scroll-target="#minipick.refresh">refresh()</a></li>
  <li><a href="#minipick.default_match" id="toc-minipick.default_match" class="nav-link" data-scroll-target="#minipick.default_match">default_match()</a>
  <ul>
  <li><a href="#minipick.default_match-specialmodes" id="toc-minipick.default_match-specialmodes" class="nav-link" data-scroll-target="#minipick.default_match-specialmodes">Special modes</a></li>
  <li><a href="#minipick.default_match-examples" id="toc-minipick.default_match-examples" class="nav-link" data-scroll-target="#minipick.default_match-examples">Examples</a></li>
  <li><a href="#minipick.default_match-parameters" id="toc-minipick.default_match-parameters" class="nav-link" data-scroll-target="#minipick.default_match-parameters">Parameters</a></li>
  <li><a href="#minipick.default_match-return" id="toc-minipick.default_match-return" class="nav-link" data-scroll-target="#minipick.default_match-return">Return</a></li>
  </ul></li>
  <li><a href="#minipick.default_show" id="toc-minipick.default_show" class="nav-link" data-scroll-target="#minipick.default_show">default_show()</a>
  <ul>
  <li><a href="#minipick.default_show-parameters" id="toc-minipick.default_show-parameters" class="nav-link" data-scroll-target="#minipick.default_show-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minipick.default_preview" id="toc-minipick.default_preview" class="nav-link" data-scroll-target="#minipick.default_preview">default_preview()</a>
  <ul>
  <li><a href="#minipick.default_preview-parameters" id="toc-minipick.default_preview-parameters" class="nav-link" data-scroll-target="#minipick.default_preview-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minipick.default_choose" id="toc-minipick.default_choose" class="nav-link" data-scroll-target="#minipick.default_choose">default_choose()</a>
  <ul>
  <li><a href="#minipick.default_choose-parameters" id="toc-minipick.default_choose-parameters" class="nav-link" data-scroll-target="#minipick.default_choose-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minipick.default_choose_marked" id="toc-minipick.default_choose_marked" class="nav-link" data-scroll-target="#minipick.default_choose_marked">default_choose_marked()</a>
  <ul>
  <li><a href="#minipick.default_choose_marked-parameters" id="toc-minipick.default_choose_marked-parameters" class="nav-link" data-scroll-target="#minipick.default_choose_marked-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minipick.ui_select" id="toc-minipick.ui_select" class="nav-link" data-scroll-target="#minipick.ui_select">ui_select()</a>
  <ul>
  <li><a href="#minipick.ui_select-usage" id="toc-minipick.ui_select-usage" class="nav-link" data-scroll-target="#minipick.ui_select-usage">Usage</a></li>
  </ul></li>
  <li><a href="#minipick.builtin" id="toc-minipick.builtin" class="nav-link" data-scroll-target="#minipick.builtin">builtin</a></li>
  <li><a href="#minipick.builtin.files" id="toc-minipick.builtin.files" class="nav-link" data-scroll-target="#minipick.builtin.files">builtin.files()</a>
  <ul>
  <li><a href="#minipick.builtin.files-parameters" id="toc-minipick.builtin.files-parameters" class="nav-link" data-scroll-target="#minipick.builtin.files-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minipick.builtin.grep" id="toc-minipick.builtin.grep" class="nav-link" data-scroll-target="#minipick.builtin.grep">builtin.grep()</a>
  <ul>
  <li><a href="#minipick.builtin.grep-parameters" id="toc-minipick.builtin.grep-parameters" class="nav-link" data-scroll-target="#minipick.builtin.grep-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minipick.builtin.grep_live" id="toc-minipick.builtin.grep_live" class="nav-link" data-scroll-target="#minipick.builtin.grep_live">builtin.grep_live()</a>
  <ul>
  <li><a href="#minipick.builtin.grep_live-parameters" id="toc-minipick.builtin.grep_live-parameters" class="nav-link" data-scroll-target="#minipick.builtin.grep_live-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minipick.builtin.help" id="toc-minipick.builtin.help" class="nav-link" data-scroll-target="#minipick.builtin.help">builtin.help()</a>
  <ul>
  <li><a href="#minipick.builtin.help-parameters" id="toc-minipick.builtin.help-parameters" class="nav-link" data-scroll-target="#minipick.builtin.help-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minipick.builtin.buffers" id="toc-minipick.builtin.buffers" class="nav-link" data-scroll-target="#minipick.builtin.buffers">builtin.buffers()</a>
  <ul>
  <li><a href="#minipick.builtin.buffers-parameters" id="toc-minipick.builtin.buffers-parameters" class="nav-link" data-scroll-target="#minipick.builtin.buffers-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minipick.builtin.cli" id="toc-minipick.builtin.cli" class="nav-link" data-scroll-target="#minipick.builtin.cli">builtin.cli()</a>
  <ul>
  <li><a href="#minipick.builtin.cli-parameters" id="toc-minipick.builtin.cli-parameters" class="nav-link" data-scroll-target="#minipick.builtin.cli-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minipick.builtin.resume" id="toc-minipick.builtin.resume" class="nav-link" data-scroll-target="#minipick.builtin.resume">builtin.resume()</a></li>
  <li><a href="#minipick.registry" id="toc-minipick.registry" class="nav-link" data-scroll-target="#minipick.registry">registry</a></li>
  <li><a href="#minipick.get_picker_items" id="toc-minipick.get_picker_items" class="nav-link" data-scroll-target="#minipick.get_picker_items">get_picker_items()</a>
  <ul>
  <li><a href="#minipick.get_picker_items-return" id="toc-minipick.get_picker_items-return" class="nav-link" data-scroll-target="#minipick.get_picker_items-return">Return</a></li>
  <li><a href="#minipick.get_picker_items-seealso" id="toc-minipick.get_picker_items-seealso" class="nav-link" data-scroll-target="#minipick.get_picker_items-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.get_picker_stritems" id="toc-minipick.get_picker_stritems" class="nav-link" data-scroll-target="#minipick.get_picker_stritems">get_picker_stritems()</a>
  <ul>
  <li><a href="#minipick.get_picker_stritems-return" id="toc-minipick.get_picker_stritems-return" class="nav-link" data-scroll-target="#minipick.get_picker_stritems-return">Return</a></li>
  <li><a href="#minipick.get_picker_stritems-seealso" id="toc-minipick.get_picker_stritems-seealso" class="nav-link" data-scroll-target="#minipick.get_picker_stritems-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.get_picker_matches" id="toc-minipick.get_picker_matches" class="nav-link" data-scroll-target="#minipick.get_picker_matches">get_picker_matches()</a>
  <ul>
  <li><a href="#minipick.get_picker_matches-return" id="toc-minipick.get_picker_matches-return" class="nav-link" data-scroll-target="#minipick.get_picker_matches-return">Return</a></li>
  <li><a href="#minipick.get_picker_matches-seealso" id="toc-minipick.get_picker_matches-seealso" class="nav-link" data-scroll-target="#minipick.get_picker_matches-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.get_picker_opts" id="toc-minipick.get_picker_opts" class="nav-link" data-scroll-target="#minipick.get_picker_opts">get_picker_opts()</a>
  <ul>
  <li><a href="#minipick.get_picker_opts-return" id="toc-minipick.get_picker_opts-return" class="nav-link" data-scroll-target="#minipick.get_picker_opts-return">Return</a></li>
  <li><a href="#minipick.get_picker_opts-seealso" id="toc-minipick.get_picker_opts-seealso" class="nav-link" data-scroll-target="#minipick.get_picker_opts-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.get_picker_state" id="toc-minipick.get_picker_state" class="nav-link" data-scroll-target="#minipick.get_picker_state">get_picker_state()</a>
  <ul>
  <li><a href="#minipick.get_picker_state-return" id="toc-minipick.get_picker_state-return" class="nav-link" data-scroll-target="#minipick.get_picker_state-return">Return</a></li>
  <li><a href="#minipick.get_picker_state-seealso" id="toc-minipick.get_picker_state-seealso" class="nav-link" data-scroll-target="#minipick.get_picker_state-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.get_picker_query" id="toc-minipick.get_picker_query" class="nav-link" data-scroll-target="#minipick.get_picker_query">get_picker_query()</a>
  <ul>
  <li><a href="#minipick.get_picker_query-return" id="toc-minipick.get_picker_query-return" class="nav-link" data-scroll-target="#minipick.get_picker_query-return">Return</a></li>
  <li><a href="#minipick.get_picker_query-seealso" id="toc-minipick.get_picker_query-seealso" class="nav-link" data-scroll-target="#minipick.get_picker_query-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.set_picker_items" id="toc-minipick.set_picker_items" class="nav-link" data-scroll-target="#minipick.set_picker_items">set_picker_items()</a>
  <ul>
  <li><a href="#minipick.set_picker_items-parameters" id="toc-minipick.set_picker_items-parameters" class="nav-link" data-scroll-target="#minipick.set_picker_items-parameters">Parameters</a></li>
  <li><a href="#minipick.set_picker_items-seealso" id="toc-minipick.set_picker_items-seealso" class="nav-link" data-scroll-target="#minipick.set_picker_items-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.set_picker_items_from_cli" id="toc-minipick.set_picker_items_from_cli" class="nav-link" data-scroll-target="#minipick.set_picker_items_from_cli">set_picker_items_from_cli()</a>
  <ul>
  <li><a href="#minipick.set_picker_items_from_cli-parameters" id="toc-minipick.set_picker_items_from_cli-parameters" class="nav-link" data-scroll-target="#minipick.set_picker_items_from_cli-parameters">Parameters</a></li>
  <li><a href="#minipick.set_picker_items_from_cli-seealso" id="toc-minipick.set_picker_items_from_cli-seealso" class="nav-link" data-scroll-target="#minipick.set_picker_items_from_cli-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.set_picker_match_inds" id="toc-minipick.set_picker_match_inds" class="nav-link" data-scroll-target="#minipick.set_picker_match_inds">set_picker_match_inds()</a>
  <ul>
  <li><a href="#minipick.set_picker_match_inds-parameters" id="toc-minipick.set_picker_match_inds-parameters" class="nav-link" data-scroll-target="#minipick.set_picker_match_inds-parameters">Parameters</a></li>
  <li><a href="#minipick.set_picker_match_inds-seealso" id="toc-minipick.set_picker_match_inds-seealso" class="nav-link" data-scroll-target="#minipick.set_picker_match_inds-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.set_picker_opts" id="toc-minipick.set_picker_opts" class="nav-link" data-scroll-target="#minipick.set_picker_opts">set_picker_opts()</a>
  <ul>
  <li><a href="#minipick.set_picker_opts-parameters" id="toc-minipick.set_picker_opts-parameters" class="nav-link" data-scroll-target="#minipick.set_picker_opts-parameters">Parameters</a></li>
  <li><a href="#minipick.set_picker_opts-seealso" id="toc-minipick.set_picker_opts-seealso" class="nav-link" data-scroll-target="#minipick.set_picker_opts-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.set_picker_target_window" id="toc-minipick.set_picker_target_window" class="nav-link" data-scroll-target="#minipick.set_picker_target_window">set_picker_target_window()</a>
  <ul>
  <li><a href="#minipick.set_picker_target_window-parameters" id="toc-minipick.set_picker_target_window-parameters" class="nav-link" data-scroll-target="#minipick.set_picker_target_window-parameters">Parameters</a></li>
  <li><a href="#minipick.set_picker_target_window-seealso" id="toc-minipick.set_picker_target_window-seealso" class="nav-link" data-scroll-target="#minipick.set_picker_target_window-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.set_picker_query" id="toc-minipick.set_picker_query" class="nav-link" data-scroll-target="#minipick.set_picker_query">set_picker_query()</a>
  <ul>
  <li><a href="#minipick.set_picker_query-parameters" id="toc-minipick.set_picker_query-parameters" class="nav-link" data-scroll-target="#minipick.set_picker_query-parameters">Parameters</a></li>
  <li><a href="#minipick.set_picker_query-seealso" id="toc-minipick.set_picker_query-seealso" class="nav-link" data-scroll-target="#minipick.set_picker_query-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.get_querytick" id="toc-minipick.get_querytick" class="nav-link" data-scroll-target="#minipick.get_querytick">get_querytick()</a>
  <ul>
  <li><a href="#minipick.get_querytick-return" id="toc-minipick.get_querytick-return" class="nav-link" data-scroll-target="#minipick.get_querytick-return">Return</a></li>
  </ul></li>
  <li><a href="#minipick.is_picker_active" id="toc-minipick.is_picker_active" class="nav-link" data-scroll-target="#minipick.is_picker_active">is_picker_active()</a>
  <ul>
  <li><a href="#minipick.is_picker_active-return" id="toc-minipick.is_picker_active-return" class="nav-link" data-scroll-target="#minipick.is_picker_active-return">Return</a></li>
  <li><a href="#minipick.is_picker_active-seealso" id="toc-minipick.is_picker_active-seealso" class="nav-link" data-scroll-target="#minipick.is_picker_active-seealso">See also</a></li>
  </ul></li>
  <li><a href="#minipick.poke_is_picker_active" id="toc-minipick.poke_is_picker_active" class="nav-link" data-scroll-target="#minipick.poke_is_picker_active">poke_is_picker_active()</a>
  <ul>
  <li><a href="#minipick.poke_is_picker_active-return" id="toc-minipick.poke_is_picker_active-return" class="nav-link" data-scroll-target="#minipick.poke_is_picker_active-return">Return</a></li>
  <li><a href="#minipick.poke_is_picker_active-seealso" id="toc-minipick.poke_is_picker_active-seealso" class="nav-link" data-scroll-target="#minipick.poke_is_picker_active-seealso">See also</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">mini.pick documentation</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><em>Generated from the <code>main</code> branch of ‘mini.nvim’</em></p>
<p><a name="mini.pick" href="../../mini.nvim/doc/mini-pick.html#mini.pick"><b>mini.pick</b></a> Pick anything</p>
<p>MIT License Copyright (c) 2023 Evgeni Chasnovski</p>
<hr>
<section id="module" class="level3">
<h3 class="anchored" data-anchor-id="module">Module</h3>
<p>Features:</p>
<ul>
<li><p>Single window general purpose interface for picking element from any array.</p></li>
<li><p>On demand toggleable preview and info views.</p></li>
<li><p>Interactive query matching (filter+sort) with fast non-blocking default which does fuzzy matching and allows other modes (<a href="../../mini.nvim/doc/mini-pick.html#minipick.default_match">MiniPick.default_match()</a>).</p></li>
<li><p>Built-in pickers (see <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin">MiniPick.builtin</a>):</p>
<ul>
<li><p>Files.</p></li>
<li><p>Pattern match (for fixed pattern or with live feedback; both allow file filtering via glob patterns).</p></li>
<li><p>Buffers.</p></li>
<li><p>Help tags.</p></li>
<li><p>CLI output.</p></li>
<li><p>Resume latest picker.</p></li>
</ul></li>
<li><p><a href="../../mini.nvim/doc/mini-pick.html#pick">:Pick</a> command to work with extensible <a href="../../mini.nvim/doc/mini-pick.html#minipick.registry">MiniPick.registry</a>.</p></li>
<li><p><a href="https://neovim.io/doc/user/helptag.html?tag=vim.ui.select()">vim.ui.select()</a> implementation. To adjust, use <a href="../../mini.nvim/doc/mini-pick.html#minipick.ui_select">MiniPick.ui_select()</a> or save-restore <code>vim.ui.select</code> manually after calling <a href="../../mini.nvim/doc/mini-pick.html#minipick.setup">MiniPick.setup()</a>.</p></li>
<li><p>Rich and customizable built-in <a href="../../mini.nvim/doc/mini-pick.html#minipick-actions">MiniPick-actions</a> when picker is active:</p>
<ul>
<li><p>Manually change currently focused item.</p></li>
<li><p>Scroll vertically and horizontally.</p></li>
<li><p>Toggle preview or info view.</p></li>
<li><p>Mark/unmark items to choose later.</p></li>
<li><p>Refine current matches (make them part of a new picker).</p></li>
<li><p>And many more.</p></li>
</ul></li>
<li><p>Minimal yet flexible <a href="../../mini.nvim/doc/mini-pick.html#minipick-source">MiniPick-source</a> specification with:</p>
<ul>
<li><p>Items (array, callable, or manually set later).</p></li>
<li><p>Source name.</p></li>
<li><p>Working directory.</p></li>
<li><p>Matching algorithm.</p></li>
<li><p>Way matches are shown in main window.</p></li>
<li><p>Item preview.</p></li>
<li><p>“On choice” action for current and marked items.</p></li>
</ul></li>
<li><p>Custom actions/keys can be configured globally, per buffer, or per picker.</p></li>
<li><p>Out of the box support for ‘ignorecase’ and ‘smartcase’.</p></li>
<li><p>Match caching to increase responsiveness on repeated prompts.</p></li>
</ul>
<p>Notes:</p>
<ul>
<li><p>Works on all supported versions but Neovim&gt;=0.10 will give more visual feedback in floating window footer.</p></li>
<li><p>For more pickers see <a href="../../mini.nvim/doc/mini-extra.html#miniextra.pickers">MiniExtra.pickers</a>.</p></li>
</ul>
<p>Sources with more details:</p>
<ul>
<li><p><a href="../../mini.nvim/doc/mini-pick.html#minipick-overview">MiniPick-overview</a></p></li>
<li><p><a href="../../mini.nvim/doc/mini-pick.html#minipick-source">MiniPick-source</a></p></li>
<li><p><a href="../../mini.nvim/doc/mini-pick.html#minipick-actions">MiniPick-actions</a></p></li>
<li><p><a href="../../mini.nvim/doc/mini-pick.html#minipick-examples">MiniPick-examples</a></p></li>
<li><p><a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin">MiniPick.builtin</a></p></li>
</ul>
<section id="module-dependencies" class="level4">
<h4 class="anchored" data-anchor-id="module-dependencies">Dependencies</h4>
<p>Suggested dependencies (provide extra functionality, will work without them):</p>
<ul>
<li><p>Enabled <a href="../../mini.nvim/doc/mini-icons.html#mini.icons">mini.icons</a> module to show icons near the items for actual paths. Falls back to ‘nvim-tree/nvim-web-devicons’ plugin or no icons will be used.</p></li>
<li><p><a name="minipick-cli-tools" href="../../mini.nvim/doc/mini-pick.html#minipick-cli-tools"><b>MiniPick-cli-tools</b></a> CLI tool(s) to power <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin.files">MiniPick.builtin.files()</a>, <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin.grep">MiniPick.builtin.grep()</a>, and <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin.grep_live">MiniPick.builtin.grep_live()</a> built-in pickers:</p>
<ul>
<li><p><code>rg</code> (github.com/BurntSushi/ripgrep; enough for all three; recommended).</p></li>
<li><p><code>fd</code> (github.com/sharkdp/fd; for <code>files</code> only).</p></li>
<li><p><code>git</code> (github.com/git/git; enough for all three).</p></li>
</ul>
<p>Note: CLI tools are called only with basic arguments needed to get items. To customize the output, use their respective configuration approaches. Here are some examples of where to start:</p>
<ul>
<li><p>github.com/BurntSushi/ripgrep/blob/master/GUIDE.md#configuration-file</p></li>
<li><p>github.com/sharkdp/fd#excluding-specific-files-or-directories</p></li>
<li><p>git-scm.com/docs/gitignore</p></li>
</ul></li>
</ul>
</section>
<section id="module-setup" class="level4">
<h4 class="anchored" data-anchor-id="module-setup">Setup</h4>
<p>This module needs a setup with <code>require('mini.pick').setup({})</code> (replace <code>{}</code> with your <code>config</code> table). It will create global Lua table <code>MiniPick</code> which you can use for scripting or manually (with <code>:lua MiniPick.*</code>).</p>
<p>See <a href="../../mini.nvim/doc/mini-pick.html#minipick.config">MiniPick.config</a> for available config settings.</p>
<p>You can override runtime config settings locally to buffer inside <code>vim.b.minipick_config</code> which should have same structure as <code>MiniPick.config</code>. See <a href="../../mini.nvim/doc/mini-nvim.html#mini.nvim-buffer-local-config">mini.nvim-buffer-local-config</a> for more details.</p>
</section>
<section id="module-comparisons" class="level4">
<h4 class="anchored" data-anchor-id="module-comparisons">Comparisons</h4>
<ul>
<li><p><a href="https://github.com/nvim-telescope/telescope.nvim">nvim-telescope/telescope.nvim</a>:</p>
<ul>
<li><p>The main inspiration for this module, so there is significant overlap.</p></li>
<li><p>Has three (or two) window UI (prompt, matches, preview), while this module combines everything in one window. It allows more straightforward customization for unusual scenarios.</p></li>
<li><p>Default match algorithm is somewhat slow, while this module should match relatively lag-free for at least 100K+ items.</p></li>
<li><p>Has many built-in pickers, while this module has handful at its core relying on other ‘mini.nvim’ modules to provide more (see <a href="../../mini.nvim/doc/mini-extra.html#mini.extra">mini.extra</a>).</p></li>
</ul></li>
<li><p><a href="https://github.com/ibhagwan/fzf-lua">ibhagwan/fzf-lua</a>:</p>
<ul>
<li><p>Mostly same comparison as with ‘nvim-telescope/telescope.nvim’.</p></li>
<li><p>Requires <a href="https://github.com/junegunn/fzf">junegunn/fzf</a> installed to power fuzzy matching, while this module provides built-in Lua matching.</p></li>
</ul></li>
</ul>
</section>
<section id="module-highlightgroups" class="level4">
<h4 class="anchored" data-anchor-id="module-highlightgroups">Highlight groups</h4>
<ul>
<li><p><code>MiniPickBorder</code> - window border.</p></li>
<li><p><code>MiniPickBorderBusy</code> - window border while picker is busy processing.</p></li>
<li><p><code>MiniPickBorderText</code> - non-prompt on border.</p></li>
<li><p><code>MiniPickCursor</code> - cursor during active picker (hidden by default).</p></li>
<li><p><code>MiniPickIconDirectory</code> - default icon for directory.</p></li>
<li><p><code>MiniPickIconFile</code> - default icon for file.</p></li>
<li><p><code>MiniPickHeader</code> - headers in info buffer and previews.</p></li>
<li><p><code>MiniPickMatchCurrent</code> - current matched item.</p></li>
<li><p><code>MiniPickMatchMarked</code> - marked matched items.</p></li>
<li><p><code>MiniPickMatchRanges</code> - ranges matching query elements.</p></li>
<li><p><code>MiniPickNormal</code> - basic foreground/background highlighting.</p></li>
<li><p><code>MiniPickPreviewLine</code> - target line in preview.</p></li>
<li><p><code>MiniPickPreviewRegion</code> - target region in preview.</p></li>
<li><p><code>MiniPickPrompt</code> - prompt.</p></li>
<li><p><code>MiniPickPromptCaret</code> - caret in prompt.</p></li>
<li><p><code>MiniPickPromptPrefix</code> - prefix of the prompt.</p></li>
</ul>
<p>To change any highlight group, set it directly with <a href="https://neovim.io/doc/user/helptag.html?tag=nvim_set_hl()">nvim_set_hl()</a>.</p>
<hr>
</section>
</section>
<section id="minipick-events" class="level3">
<h3 class="anchored" data-anchor-id="minipick-events">Events</h3>
<p>To allow user customization and integration of external tools, certain <a href="https://neovim.io/doc/user/helptag.html?tag=User">User</a> autocommand events are triggered under common circumstances:</p>
<ul>
<li><p><code>MiniPickMatch</code> - just after updating query matches or setting items.</p></li>
<li><p><code>MiniPickStart</code> - just after picker has started.</p></li>
<li><p><code>MiniPickStop</code> - just before picker is stopped.</p></li>
</ul>
<hr>
</section>
<section id="minipick-overview" class="level3">
<h3 class="anchored" data-anchor-id="minipick-overview">Overview</h3>
<p>General idea is to take array of objects, display them with interactive filter/sort/navigate/preview, and allow to choose one or more items.</p>
<section id="minipick-overview-howtostartapicker" class="level4">
<h4 class="anchored" data-anchor-id="minipick-overview-howtostartapicker">How to start a picker</h4>
<ul>
<li><p>Use <a href="../../mini.nvim/doc/mini-pick.html#minipick.start">MiniPick.start()</a> with <code>opts.source</code> defining <a href="../../mini.nvim/doc/mini-pick.html#minipick-source">MiniPick-source</a>. Example: <code>MiniPick.start({ source = { items = vim.fn.readdir('.') } })</code></p></li>
<li><p>Use any of <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin">MiniPick.builtin</a> pickers directly. Example: <code>MiniPick.builtin.files({ tool = 'git' })</code></p></li>
<li><p>Use <a href="../../mini.nvim/doc/mini-pick.html#pick">:Pick</a> command which uses customizable pickers from <a href="../../mini.nvim/doc/mini-pick.html#minipick.registry">MiniPick.registry</a>. Example: <code>:Pick files tool='git'</code></p></li>
</ul>
</section>
<section id="minipick-overview-userinterface" class="level4">
<h4 class="anchored" data-anchor-id="minipick-overview-userinterface">User interface</h4>
<p>UI consists from a single window capable of displaying three different views:</p>
<ul>
<li><p>“Main” - where current query matches are shown.</p></li>
<li><p>“Preview” - preview of current item (toggle with <code>&lt;Tab&gt;</code>).</p></li>
<li><p>“Info” - general info about picker and its state (toggle with <code>&lt;S-Tab&gt;</code>).</p></li>
</ul>
<p>Current prompt is displayed at the top left of the window border with vertical line indicating caret (current input position).</p>
<p>Bottom part of window border displays (in Neovim&gt;=0.10) extra visual feedback:</p>
<ul>
<li><p>Left part is a picker name.</p></li>
<li><p>Right part contains information in the format</p>
<pre><code>&lt;current index in matches&gt; | &lt;match count&gt; | &lt;marked count&gt; / &lt;total count&gt;</code></pre></li>
</ul>
<p>When picker is busy (like if there are no items yet set or matching is active) window border changes color to be <code>MiniPickBorderBusy</code> after <code>config.delay.busy</code> milliseconds of idle time.</p>
</section>
<section id="minipick-overview-lifecycle" class="level4">
<h4 class="anchored" data-anchor-id="minipick-overview-lifecycle">Life cycle</h4>
<ul>
<li><p>Type characters to filter and sort matches. It uses <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_match">MiniPick.default_match()</a> with <code>query</code> being an array of pressed characters. Overview of how it matches:</p>
<ul>
<li><p>If query starts with <code>'</code>, the match is exact.</p></li>
<li><p>If query starts with <code>^</code>, the match is exact at start.</p></li>
<li><p>If query ends with <code>$</code>, the match is exact at end.</p></li>
<li><p>If query starts with <code>*</code>, the match is forced to be fuzzy.</p></li>
<li><p>Otherwise match is fuzzy.</p></li>
<li><p>Sorting is done to first minimize match width and then match start. Nothing more: no favoring certain places in string, etc.</p></li>
</ul></li>
<li><p>Type special keys to perform <a href="../../mini.nvim/doc/mini-pick.html#minipick-actions">MiniPick-actions</a>. Here are some basic ones:</p>
<ul>
<li><p><code>&lt;C-n&gt;</code> / <code>&lt;Down&gt;</code> moves down; <code>&lt;C-p&gt;</code> / <code>&lt;Up&gt;</code> moves up.</p></li>
<li><p><code>&lt;Left&gt;</code> / <code>&lt;Right&gt;</code> moves prompt caret left / right.</p></li>
<li><p><code>&lt;S-Tab&gt;</code> toggles information window with all available mappings.</p></li>
<li><p><code>&lt;Tab&gt;</code> toggles preview.</p></li>
<li><p><code>&lt;C-x&gt;</code> / <code>&lt;C-a&gt;</code> toggles current / all item(s) as (un)marked.</p></li>
<li><p><code>&lt;C-Space&gt;</code> / <code>&lt;M-Space&gt;</code> makes all matches or marked items as new picker.</p></li>
<li><p><code>&lt;CR&gt;</code> / <code>&lt;M-CR&gt;</code> chooses current/marked item(s).</p></li>
<li><p><code>&lt;Esc&gt;</code> / <code>&lt;C-c&gt;</code> stops picker.</p></li>
</ul></li>
</ul>
</section>
<section id="minipick-overview-implementationdetails" class="level4">
<h4 class="anchored" data-anchor-id="minipick-overview-implementationdetails">Implementation details</h4>
<ul>
<li><p>Processing key typing is done via a dedicated key query process for more control over their side effects. As a result, regular mappings don’t work here and picker’s window needs to be current as long as it is shown. Changing window focus leads to automatic picker stop (after small delay).</p></li>
<li><p>Any picker is non-blocking but waits to return the chosen item. Example: <code>file = MiniPick.builtin.files()</code> allows other actions to be executed when picker is shown while still assigning <code>file</code> with value of the chosen item.</p></li>
</ul>
<hr>
</section>
</section>
<section id="minipick-source" class="level3">
<h3 class="anchored" data-anchor-id="minipick-source">Source</h3>
<p>Source is defined as a <code>source</code> field inside one of (in increasing priority):</p>
<ul>
<li><p><a href="../../mini.nvim/doc/mini-pick.html#minipick.config">MiniPick.config</a> - has global effect.</p></li>
<li><p><code>vim.b.minipick_config</code> - has buffer-local effect.</p></li>
<li><p><code>opts.source</code> in picker call - has effect for that particular call.</p></li>
</ul>
<p>Example of source to choose from <a href="https://neovim.io/doc/user/helptag.html?tag=arglist">arglist</a>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> <span class="va">items</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span><span class="va">fn</span><span class="op">.</span><span class="va">argv</span><span class="op">,</span> <span class="va">name</span> <span class="op">=</span> <span class="st">'Arglist'</span> <span class="op">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Note: this is mostly useful for writing pickers. Can safely skip if you want to just use provided pickers.</p>
<section id="minipick-source-items" class="level4">
<h4 class="anchored" data-anchor-id="minipick-source-items">Items</h4>
<p><a name="minipick-source.items" href="../../mini.nvim/doc/mini-pick.html#minipick-source.items"><b>MiniPick-source.items</b></a></p>
<p><code>source.items</code> defines items to choose from. It should be one of the following:</p>
<ul>
<li><p>Array of objects which can have different types. Any type is allowed.</p></li>
<li><p><code>nil</code>. Picker waits for explicit <a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_items">MiniPick.set_picker_items()</a> call.</p></li>
<li><p>Callable returning any of the previous types. Will be called once on start with source’s <code>cwd</code> set as <a href="https://neovim.io/doc/user/helptag.html?tag=current-directory">current-directory</a>.</p></li>
</ul>
<p><a name="minipick-source.items-stritems" href="../../mini.nvim/doc/mini-pick.html#minipick-source.items-stritems"><b>MiniPick-source.items-stritems</b></a> Matching is done for items array based on the string representation of its elements (here called “stritems”). For single item it is computed as follows:</p>
<ul>
<li><p>Callable is called once with output used in next steps.</p></li>
<li><p>String item is used as is.</p></li>
<li><p>String <span class="help-syntax-keys">&lt;text&gt;</span> field of table item is used (if present).</p></li>
<li><p>Use output of <a href="https://neovim.io/doc/user/helptag.html?tag=vim.inspect()">vim.inspect()</a>.</p></li>
</ul>
<p>Example:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="va">items</span> <span class="op">=</span> <span class="op">{</span> <span class="st">'aaa.txt'</span><span class="op">,</span> <span class="op">{</span> <span class="va">text</span> <span class="op">=</span> <span class="st">'bbb'</span> <span class="op">},</span> <span class="kw">function</span><span class="op">()</span> <span class="cf">return</span> <span class="st">'ccc'</span> <span class="kw">end</span> <span class="op">}</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">-- corresponding stritems are { 'aaa.txt', 'bbb', 'ccc' }</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Default value is <code>nil</code>, assuming it always be supplied by the caller.</p>
<p><a name="minipick-source.items-common" href="../../mini.nvim/doc/mini-pick.html#minipick-source.items-common"><b>MiniPick-source.items-common</b></a> There are some recommendations for common item types in order for them to work out of the box with <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_show">MiniPick.default_show()</a>, <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_preview">MiniPick.default_preview()</a>, <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_choose">MiniPick.default_choose()</a>, <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_choose_marked">MiniPick.default_choose_marked()</a>:</p>
<ul>
<li><p>Path (file or directory). Use string or <code>path</code> field of a table. Path can be either absolute, relative to the <code>source.cwd</code>, or have a general URI format (only if supplied as table field). Examples: <code>'aaa.txt'</code>, <code>{ path = 'aaa.txt' }</code></p></li>
<li><p>Buffer. Use buffer id as number, string, or <code>bufnr</code> / <code>buf_id</code> / <code>buf</code> field of a table (any name is allowed). Examples: <code>1</code>, <code>'1'</code>, <code>{ bufnr = 1 }</code>, <code>{ buf_id = 1 }</code>, <code>{ buf = 1 }</code></p></li>
<li><p>Line in file or buffer. Use table representation with <code>lnum</code> field with line number (starting from 1) or string in “<span class="help-syntax-keys">&lt;path&gt;</span>\0<span class="help-syntax-keys">&lt;line&gt;</span>” format (<code>\0</code> is an actual null character; don’t escape the slash; may need to be <code>\000</code>). Examples:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> <span class="va">path</span> <span class="op">=</span> <span class="st">'aaa.txt'</span><span class="op">,</span> <span class="va">lnum</span> <span class="op">=</span> <span class="dv">2</span> <span class="op">},</span> <span class="st">'aaa.txt</span><span class="sc">\000</span><span class="st">2'</span><span class="op">,</span> <span class="op">{</span> <span class="va">bufnr</span> <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> <span class="va">lnum</span> <span class="op">=</span> <span class="dv">3</span> <span class="op">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>Position in file or buffer. Use table representation with <code>lnum</code> and <code>col</code> fields with line and column numbers (starting from 1) or string in “<span class="help-syntax-keys">&lt;path&gt;</span>\0<span class="help-syntax-keys">&lt;line&gt;</span>\0<span class="help-syntax-keys">&lt;col&gt;</span>” format (<code>\0</code> is an actual null character, don’t escape the slash; may need to be <code>\000</code>). Examples:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> <span class="va">path</span> <span class="op">=</span> <span class="st">'aaa.txt'</span><span class="op">,</span> <span class="va">lnum</span> <span class="op">=</span> <span class="dv">2</span><span class="op">,</span> <span class="va">col</span> <span class="op">=</span> <span class="dv">3</span> <span class="op">},</span> <span class="st">'aaa.txt</span><span class="sc">\0</span><span class="st">'</span> <span class="op">..</span> <span class="st">'2</span><span class="sc">\000</span><span class="st">3'</span><span class="op">,</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> <span class="va">bufnr</span> <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> <span class="va">lnum</span> <span class="op">=</span> <span class="dv">3</span><span class="op">,</span> <span class="va">col</span> <span class="op">=</span> <span class="dv">4</span> <span class="op">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>Region in file or buffer. Use table representation with <code>lnum</code>, <code>col</code>, <code>end_lnum</code>, <code>end_col</code> fields for start and end line/column. All numbers start from 1, end line is inclusive, end column is exclusive. This naming is similar to <a href="https://neovim.io/doc/user/helptag.html?tag=getqflist()">getqflist()</a> and <a href="https://neovim.io/doc/user/helptag.html?tag=diagnostic-structure">diagnostic-structure</a>. Examples:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> <span class="va">path</span> <span class="op">=</span> <span class="st">'aaa.txt'</span><span class="op">,</span> <span class="va">lnum</span> <span class="op">=</span> <span class="dv">2</span><span class="op">,</span> <span class="va">col</span> <span class="op">=</span> <span class="dv">3</span><span class="op">,</span> <span class="va">end_lnum</span> <span class="op">=</span> <span class="dv">4</span><span class="op">,</span> <span class="va">end_col</span> <span class="op">=</span> <span class="dv">5</span> <span class="op">},</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> <span class="va">bufnr</span> <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> <span class="va">lnum</span> <span class="op">=</span> <span class="dv">3</span><span class="op">,</span> <span class="va">col</span> <span class="op">=</span> <span class="dv">4</span><span class="op">,</span> <span class="va">end_lnum</span> <span class="op">=</span> <span class="dv">5</span><span class="op">,</span> <span class="va">end_col</span> <span class="op">=</span> <span class="dv">6</span> <span class="op">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<p>Note: all table items will benefit from having <code>text</code> field for better matching.</p>
</section>
<section id="minipick-source-name" class="level4">
<h4 class="anchored" data-anchor-id="minipick-source-name">Name</h4>
<p><a name="minipick-source.name" href="../../mini.nvim/doc/mini-pick.html#minipick-source.name"><b>MiniPick-source.name</b></a></p>
<p><code>source.name</code> defines the name of the picker to be used for visual feedback.</p>
<p>Default value is “<no name="">”.</no></p>
</section>
<section id="minipick-source-currentworkingdirectory" class="level4">
<h4 class="anchored" data-anchor-id="minipick-source-currentworkingdirectory">Current working directory</h4>
<p><a name="minipick-source.cwd" href="../../mini.nvim/doc/mini-pick.html#minipick-source.cwd"><b>MiniPick-source.cwd</b></a></p>
<p><code>source.cwd</code> is a string defining the current working directory in which picker operates. It should point to a valid actually present directory path. This is a part of source to allow persistent way to use relative paths, i.e.&nbsp;not depend on current directory being constant after picker start. It also makes the <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin.resume">MiniPick.builtin.resume()</a> picker more robust.</p>
<p>It will be set as local <a href="https://neovim.io/doc/user/helptag.html?tag=current-directory">current-directory</a> (<a href="https://neovim.io/doc/user/helptag.html?tag=:lcd">:lcd</a>) of picker’s main window to allow simpler code for “in window” functions (choose/preview/custom/etc.).</p>
<p>Default value is <a href="https://neovim.io/doc/user/helptag.html?tag=current-directory">current-directory</a>.</p>
</section>
<section id="minipick-source-match" class="level4">
<h4 class="anchored" data-anchor-id="minipick-source-match">Match</h4>
<p><a name="minipick-source.match" href="../../mini.nvim/doc/mini-pick.html#minipick-source.match"><b>MiniPick-source.match</b></a></p>
<p><code>source.match</code> is a callable defining how stritems (see <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.items-stritems">MiniPick-source.items-stritems</a>) are matched (filtered and sorted) based on the query.</p>
<p>It will be called with the following arguments:</p>
<ul>
<li><p><code>stritems</code> - all available stritems for current picker.</p></li>
<li><p><code>inds</code> - array of <code>stritems</code> indexes usually pointing at current matches. It does point to current matches in the case of interactively appending character at the end of the query. It assumes that matches for such bigger query is a subset of previous matches (implementation can ignore it). This can be utilized to increase performance by checking fewer stritems.</p></li>
<li><p><code>query</code> - array of strings. Usually (like is common case of user interactively typing query) each string represents one character. However, any strings are allowed, as query can be set with <a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_query">MiniPick.set_picker_query()</a>.</p></li>
</ul>
<p>It should either return array of match indexes for stritems elements matching the query (synchronous) or explicitly use <a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_match_inds">MiniPick.set_picker_match_inds()</a> to set them (may be asynchronous).</p>
<p>Notes:</p>
<ul>
<li><p>The result can be any array of <code>stritems</code> indexes, i.e.&nbsp;not necessarily a subset of input <code>inds</code>.</p></li>
<li><p>Both <code>stritems</code> and <code>query</code> depend on values of ‘ignorecase’ and ‘smartcase’. If query shows “ignore case” properties (only ‘ignorecase’ is set or both ‘ignorecase’ / ‘smartcase’ are set and query has only lowercase characters), then <code>stritems</code> and <code>query</code> will have only lowercase characters. This allows automatic support for case insensitive matching while being faster and having simpler match function implementation.</p></li>
<li><p>Writing custom <code>source.match</code> usually means also changing <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.show">MiniPick-source.show</a> because it is used to highlight stritems parts actually matching the query.</p></li>
</ul>
<p>Example of simple “exact” <code>match()</code> preserving initial order:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">match_exact</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">stritems</span><span class="op">,</span> <span class="va">inds</span><span class="op">,</span> <span class="va">query</span><span class="op">)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">prompt_pattern</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span>pesc<span class="op">(</span><span class="fu">table.concat</span><span class="op">(</span><span class="va">query</span><span class="op">))</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">f</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="cf">return</span> <span class="va">stritems</span><span class="op">[</span><span class="va">i</span><span class="op">]:</span><span class="fu">find</span><span class="op">(</span><span class="va">prompt_pattern</span><span class="op">)</span> <span class="op">~=</span> <span class="kw">nil</span> <span class="kw">end</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="va">vim</span><span class="op">.</span>tbl_filter<span class="op">(</span><span class="va">f</span><span class="op">,</span> <span class="va">inds</span><span class="op">)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">-- For non-blocking version see `:h MiniPick.poke_is_picker_active()`</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Default value is <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_match">MiniPick.default_match()</a>.</p>
</section>
<section id="minipick-source-show" class="level4">
<h4 class="anchored" data-anchor-id="minipick-source-show">Show</h4>
<p><a name="minipick-source.show" href="../../mini.nvim/doc/mini-pick.html#minipick-source.show"><b>MiniPick-source.show</b></a></p>
<p><code>source.show</code> is a callable defining how matched items are shown in the window.</p>
<p>It will be called with the following arguments:</p>
<ul>
<li><p><code>buf_id</code> - identifier of the target buffer.</p></li>
<li><p><code>items_to_show</code> - array of actual items to be shown in <code>buf_id</code>. This is a subset of currently matched items computed to fit in current window view.</p></li>
<li><p><code>query</code> - array of strings. Same as in <code>source.match</code>.</p></li>
</ul>
<p>It should update buffer <code>buf_id</code> to visually represent <code>items_to_show</code> <strong>one item per line starting from line one</strong> (it shouldn’t depend on <code>options.content_from_bottom</code>). This also includes possible visualization of which parts of stritem actually matched query.</p>
<p>Example (assuming string items; without highlighting):</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">show_prepend</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">buf_id</span><span class="op">,</span> <span class="va">items_arr</span><span class="op">,</span> <span class="va">query</span><span class="op">)</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">lines</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span>tbl_map<span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="cf">return</span> <span class="st">'Item: '</span> <span class="op">..</span> <span class="va">x</span> <span class="kw">end</span><span class="op">,</span> <span class="va">items_arr</span><span class="op">)</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">vim</span><span class="op">.</span><span class="va">api</span><span class="op">.</span>nvim_buf_set_lines<span class="op">(</span><span class="va">buf_id</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="kw">false</span><span class="op">,</span> <span class="fu">lines</span><span class="op">)</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Default value is <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_show">MiniPick.default_show()</a>.</p>
</section>
<section id="minipick-source-preview" class="level4">
<h4 class="anchored" data-anchor-id="minipick-source-preview">Preview</h4>
<p><a name="minipick-source.preview" href="../../mini.nvim/doc/mini-pick.html#minipick-source.preview"><b>MiniPick-source.preview</b></a></p>
<p><code>source.preview</code> is a callable defining how item preview is done.</p>
<p>It will be called with the following arguments:</p>
<ul>
<li><p><code>buf_id</code> - identifier of the target buffer. Note: for every separate instance of item previewing new scratch buffer is be created.</p></li>
<li><p><code>item</code> - item to preview.</p></li>
</ul>
<p>It should update buffer <code>buf_id</code> to visually represent <code>item</code>.</p>
<p>Example:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">preview_inspect</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">buf_id</span><span class="op">,</span> <span class="va">item</span><span class="op">)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">lines</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span>split<span class="op">(</span><span class="va">vim</span><span class="op">.</span>inspect<span class="op">(</span><span class="va">item</span><span class="op">),</span> <span class="st">'</span><span class="sc">\n</span><span class="st">'</span><span class="op">)</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">vim</span><span class="op">.</span><span class="va">api</span><span class="op">.</span>nvim_buf_set_lines<span class="op">(</span><span class="va">buf_id</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="kw">false</span><span class="op">,</span> <span class="fu">lines</span><span class="op">)</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Default value is <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_preview">MiniPick.default_preview()</a>.</p>
</section>
<section id="minipick-source-chooseanitem" class="level4">
<h4 class="anchored" data-anchor-id="minipick-source-chooseanitem">Choose an item</h4>
<p><a name="minipick-source.choose" href="../../mini.nvim/doc/mini-pick.html#minipick-source.choose"><b>MiniPick-source.choose</b></a></p>
<p><code>source.choose</code> is a callable defining what to do when an item is chosen.</p>
<p>It will be called with the following arguments:</p>
<ul>
<li><code>item</code> - chosen item. Always non-<code>nil</code>.</li>
</ul>
<p>It should perform any intended “choose” action for an item and return a value indicating whether picker should continue (i.e.&nbsp;not stop): <code>nil</code> and <code>false</code> will stop picker, other values will continue.</p>
<p>Notes:</p>
<ul>
<li>It is called when picker window is still current. Use <code>windows.target</code> value from <a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_state">MiniPick.get_picker_state()</a> output to do something with target window.</li>
</ul>
<p>Example:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">choose_file_continue</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">item</span><span class="op">)</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="va">vim</span><span class="op">.</span><span class="va">fn</span><span class="op">.</span>filereadable<span class="op">(</span><span class="va">item</span><span class="op">)</span> <span class="op">==</span> <span class="dv">0</span> <span class="cf">then</span> <span class="cf">return</span> <span class="cf">end</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">vim</span><span class="op">.</span><span class="va">api</span><span class="op">.</span>nvim_win_call<span class="op">(</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">MiniPick</span><span class="op">.</span>get_picker_state<span class="op">().</span><span class="va">windows</span><span class="op">.</span><span class="va">main</span><span class="op">,</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span><span class="op">()</span> <span class="va">vim</span><span class="op">.</span>cmd<span class="op">(</span><span class="st">'edit '</span> <span class="op">..</span> <span class="va">item</span><span class="op">)</span> <span class="kw">end</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">)</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">true</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Default value is <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_choose">MiniPick.default_choose()</a>.</p>
</section>
<section id="minipick-source-choosemarkeditems" class="level4">
<h4 class="anchored" data-anchor-id="minipick-source-choosemarkeditems">Choose marked items</h4>
<p><a name="minipick-source.choose_marked" href="../../mini.nvim/doc/mini-pick.html#minipick-source.choose_marked"><b>MiniPick-source.choose_marked</b></a></p>
<p><code>source.choose_marked</code> is a callable defining what to do when marked items (see <a href="../../mini.nvim/doc/mini-pick.html#minipick-actions-mark">MiniPick-actions-mark</a>) are chosen. Serves as a companion to <code>source.choose</code> which can choose several items.</p>
<p>It will be called with the following arguments:</p>
<ul>
<li><code>items_marked</code> - array of marked items. Can be empty.</li>
</ul>
<p>It should perform any intended “choose” action for several items and return a value indicating whether picker should continue (i.e.&nbsp;not stop): <code>nil</code> and <code>false</code> will stop picker, other values will continue.</p>
<p>Notes:</p>
<ul>
<li>It is called when picker window is still current. Use <code>windows.target</code> value from <a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_state">MiniPick.get_picker_state()</a> output to do something with target window.</li>
</ul>
<p>Example:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">choose_marked_print</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">items</span><span class="op">)</span> <span class="fu">print</span><span class="op">(</span><span class="va">vim</span><span class="op">.</span>inspect<span class="op">(</span><span class="va">items</span><span class="op">))</span> <span class="kw">end</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Default value is <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_choose_marked">MiniPick.default_choose_marked()</a>.</p>
<hr>
</section>
</section>
<section id="minipick-actions" class="level3">
<h3 class="anchored" data-anchor-id="minipick-actions">Actions</h3>
<p>When picker is active, <code>mappings</code> table defines a set of special keys which when pressed will execute certain actions. Those can be of two types:</p>
<ul>
<li><p>Built-in: actions present in default <code>config.mappings</code>. Can be only overridden with a different key.</p></li>
<li><p>Custom: user defined actions. Should be a table with <code>char</code> and <code>func</code> fields.</p></li>
</ul>
<section id="minipick-actions-built-in" class="level4">
<h4 class="anchored" data-anchor-id="minipick-actions-built-in">Built-in</h4>
<section id="minipick-actions-built-in-caret" class="level5">
<h5 class="anchored" data-anchor-id="minipick-actions-built-in-caret">Caret</h5>
<p><a name="minipick-actions-caret" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-caret"><b>MiniPick-actions-caret</b></a></p>
<p>User can add character not only at query end, but more generally at caret.</p>
<ul>
<li><p><code>mappings.caret_left</code> - move caret to left.</p></li>
<li><p><code>mappings.caret_right</code> - move caret to right.</p></li>
</ul>
</section>
<section id="minipick-actions-built-in-choose" class="level5">
<h5 class="anchored" data-anchor-id="minipick-actions-built-in-choose">Choose</h5>
<p><a name="minipick-actions-choose" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-choose"><b>MiniPick-actions-choose</b></a></p>
<p>Choose is a fundamental action that actually implements the intent of calling a picker, i.e.&nbsp;pick an item.</p>
<ul>
<li><p><code>mappings.choose</code> - choose as is, i.e.&nbsp;apply <code>source.choose</code> for current item.</p></li>
<li><p><code>mappings.choose_in_split</code> - make horizontal split at target window, update target window to the new split, and choose.</p></li>
<li><p><code>mappings.choose_in_tabpage</code> - same as <code>choose_in_split</code>, but create tabpage.</p></li>
<li><p><code>mappings.choose_in_vsplit</code> - same as <code>choose_in_split</code>, but split vertically.</p></li>
<li><p><code>mappings.choose_marked</code> - choose marked items as is, i.e. apply <code>source.choose_marked</code> at current marked items.</p></li>
</ul>
</section>
<section id="minipick-actions-built-in-delete" class="level5">
<h5 class="anchored" data-anchor-id="minipick-actions-built-in-delete">Delete</h5>
<p><a name="minipick-actions-delete" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-delete"><b>MiniPick-actions-delete</b></a></p>
<p>Delete actions are for deleting elements from query.</p>
<ul>
<li><p><code>mappings.delete_char</code> - delete one character to the left.</p></li>
<li><p><code>mappings.delete_char_right</code> - delete one character to the right.</p></li>
<li><p><code>mappings.delete_left</code> - delete everything to the left (like <a href="https://neovim.io/doc/user/helptag.html?tag=i_CTRL-U">i_CTRL-U</a>).</p></li>
<li><p><code>mappings.delete_word</code> - delete word to the left (like <a href="https://neovim.io/doc/user/helptag.html?tag=i_CTRL-W">i_CTRL-W</a>).</p></li>
</ul>
</section>
<section id="minipick-actions-built-in-mark" class="level5">
<h5 class="anchored" data-anchor-id="minipick-actions-built-in-mark">Mark</h5>
<p><a name="minipick-actions-mark" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-mark"><b>MiniPick-actions-mark</b></a></p>
<p>Marking is an action of adding certain items to a separate list which then can be chosen with <code>mappings.choose_marked</code> (for example, sent to quickfix list). This is a companion to a regular choosing which can pick only one item.</p>
<ul>
<li><p><code>mappings.mark</code> - toggle marked/unmarked state of current item.</p></li>
<li><p><code>mappings.mark_all</code> - toggle marked/unmarked state (mark all if not all marked; unmark all otherwise) of all currently matched items.</p></li>
</ul>
<p>Notes:</p>
<ul>
<li>Marks persist across queries and matches. For example, user can make a query with marking all matches several times and marked items from all queries will be preserved.</li>
</ul>
</section>
<section id="minipick-actions-built-in-move" class="level5">
<h5 class="anchored" data-anchor-id="minipick-actions-built-in-move">Move</h5>
<p><a name="minipick-actions-move" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-move"><b>MiniPick-actions-move</b></a></p>
<p>Move is a fundamental action of changing which item is current.</p>
<ul>
<li><p><code>mappings.move_down</code> - change focus to the item below.</p></li>
<li><p><code>mappings.move_start</code> change focus to the first currently matched item</p></li>
<li><p><code>mappings.move_up</code> - change focus to the item above.</p></li>
</ul>
<p>Notes:</p>
<ul>
<li><p>Up and down wrap around edges: <code>move_down</code> on last item moves to first, <code>move_up</code> on first moves to last.</p></li>
<li><p>Moving when preview or info view is shown updates the view with new item.</p></li>
<li><p>These also work with non-overridable alternatives:</p>
<ul>
<li><p><code>&lt;Down&gt;</code> moves down.</p></li>
<li><p><code>&lt;Home&gt;</code> moves to first matched.</p></li>
<li><p><code>&lt;Up&gt;</code> moves up.</p></li>
</ul></li>
</ul>
</section>
<section id="minipick-actions-built-in-paste" class="level5">
<h5 class="anchored" data-anchor-id="minipick-actions-built-in-paste">Paste</h5>
<p><a name="minipick-actions-paste" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-paste"><b>MiniPick-actions-paste</b></a></p>
<p>Paste is an action to paste content of <a href="https://neovim.io/doc/user/helptag.html?tag=registers">registers</a> at caret.</p>
<ul>
<li><code>mappings.paste</code> - paste from register defined by the next key press.</li>
</ul>
<p>Notes:</p>
<ul>
<li><p>Does not support expression register <code>=</code>.</p></li>
<li><p>Supports special cases of register: <span class="help-syntax-keys">&lt;C-f&gt;</span> (as <a href="https://neovim.io/doc/user/helptag.html?tag=c_CTRL-R_CTRL-F">c_CTRL-R_CTRL-F</a>), <span class="help-syntax-keys">&lt;C-w&gt;</span> (as <a href="https://neovim.io/doc/user/helptag.html?tag=c_CTRL-R_CTRL-W">c_CTRL-R_CTRL-W</a>), <span class="help-syntax-keys">&lt;C-a&gt;</span> (as <a href="https://neovim.io/doc/user/helptag.html?tag=c_CTRL-R_CTRL-A">c_CTRL-R_CTRL-A</a>), <span class="help-syntax-keys">&lt;C-l&gt;</span> (as <a href="https://neovim.io/doc/user/helptag.html?tag=c_CTRL-R_CTRL-L">c_CTRL-R_CTRL-L</a>).</p></li>
</ul>
</section>
<section id="minipick-actions-built-in-refine" class="level5">
<h5 class="anchored" data-anchor-id="minipick-actions-built-in-refine">Refine</h5>
<p><a name="minipick-actions-refine" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-refine"><b>MiniPick-actions-refine</b></a></p>
<p>Refine is an action that primarily executes the following:</p>
<ul>
<li><p>Takes certain items and makes them be all items (in order they are present).</p></li>
<li><p>Resets query.</p></li>
<li><p>Updates <code>source.match</code> to be the one from config.</p></li>
<li><p><code>mappings.refine</code> - refine currently matched items.</p></li>
<li><p><code>mappings.refine_marked</code> - refine currently marked items.</p></li>
</ul>
<p>This action is useful in at least two cases:</p>
<ul>
<li><p>Perform consecutive “narrowing” queries. Example: to get items that contain both “hello” and “world” exact matches (in no particular order) with default matching, type “’hello” (notice “’” at the start) followed by <code>&lt;C-Space&gt;</code> and another “’world”.</p></li>
<li><p>Reset <code>match</code> to default. Particularly useful in <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin.grep_live">MiniPick.builtin.grep_live()</a>.</p></li>
</ul>
</section>
<section id="minipick-actions-built-in-scroll" class="level5">
<h5 class="anchored" data-anchor-id="minipick-actions-built-in-scroll">Scroll</h5>
<p><a name="minipick-actions-scroll" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-scroll"><b>MiniPick-actions-scroll</b></a></p>
<p>Scroll is an action to either move current item focus further than to the neighbor item or adjust window view to see more information.</p>
<ul>
<li><p><code>mappings.scroll_down</code> - when matches are shown, go down by the amount of visible matches. In preview and info view - scroll down as with <a href="https://neovim.io/doc/user/helptag.html?tag=CTRL-F">CTRL-F</a>.</p></li>
<li><p><code>mappings.scroll_left</code> - scroll left as with <a href="https://neovim.io/doc/user/helptag.html?tag=zH">zH</a>.</p></li>
<li><p><code>mappings.scroll_right</code> - scroll right as with <a href="https://neovim.io/doc/user/helptag.html?tag=zL">zL</a>.</p></li>
<li><p><code>mappings.scroll_up</code> - when matches are shown, go up by the amount of visible matches. In preview and info view - scroll up as with <a href="https://neovim.io/doc/user/helptag.html?tag=CTRL-B">CTRL-B</a>.</p></li>
</ul>
</section>
<section id="minipick-actions-built-in-stop" class="level5">
<h5 class="anchored" data-anchor-id="minipick-actions-built-in-stop">Stop</h5>
<p><a name="minipick-actions-stop" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-stop"><b>MiniPick-actions-stop</b></a></p>
<p><code>mappings.stop</code> stops the picker. <span class="help-syntax-keys">&lt;C-c&gt;</span> also always stops the picker.</p>
</section>
<section id="minipick-actions-built-in-toggle" class="level5">
<h5 class="anchored" data-anchor-id="minipick-actions-built-in-toggle">Toggle</h5>
<p><a name="minipick-actions-toggle" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-toggle"><b>MiniPick-actions-toggle</b></a></p>
<p>Toggle action is a way to change view: show if target is not shown, reset to main view otherwise.</p>
<ul>
<li><p><code>mappings.toggle_info</code> - toggle info view.</p></li>
<li><p><code>mappings.toggle_preview</code> - toggle preview.</p></li>
</ul>
<p>Note:</p>
<ul>
<li><p>Updating query in any way resets window view to show matches.</p></li>
<li><p>Moving current item focus keeps preview or info view with updated item.</p></li>
</ul>
</section>
</section>
<section id="minipick-actions-custom" class="level4">
<h4 class="anchored" data-anchor-id="minipick-actions-custom">Custom</h4>
<p><a name="minipick-actions-custom" href="../../mini.nvim/doc/mini-pick.html#minipick-actions-custom"><b>MiniPick-actions-custom</b></a></p>
<p>Along with built-in actions, users can define custom actions. This can be done by supplying custom elements to <code>mappings</code> table. The field defines action name (used to infer an action description in info view). The value is a table with the following fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;char&gt;</span> <code>(string)</code> - single character acting as action trigger.</p></li>
<li><p><span class="help-syntax-keys">&lt;func&gt;</span> <code>(function)</code> - callable to be executed without arguments after user presses <span class="help-syntax-keys">&lt;char&gt;</span>. Its return value is treated as “should stop picker after execution”, i.e.&nbsp;returning nothing, <code>nil</code>, or <code>false</code> continues picker while everything else (prefer <code>true</code>) stops it.</p></li>
</ul>
<p>Example of <code>execute</code> custom mapping:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">execute</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">char</span> <span class="op">=</span> <span class="st">'&lt;C-e&gt;'</span><span class="op">,</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">func</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span> <span class="va">vim</span><span class="op">.</span>cmd<span class="op">(</span><span class="va">vim</span><span class="op">.</span><span class="va">fn</span><span class="op">.</span>input<span class="op">(</span><span class="st">'Execute: '</span><span class="op">))</span> <span class="kw">end</span><span class="op">,</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
</section>
<section id="minipick-examples" class="level3">
<h3 class="anchored" data-anchor-id="minipick-examples">Examples</h3>
<section id="minipick-examples-disableicons" class="level4">
<h4 class="anchored" data-anchor-id="minipick-examples-disableicons">Disable icons</h4>
<p>Disable icons in <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin">MiniPick.builtin</a> pickers related to paths:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">pick</span> <span class="op">=</span> <span class="fu">require</span><span class="op">(</span><span class="st">'mini.pick'</span><span class="op">)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="va">pick</span><span class="op">.</span>setup<span class="op">({</span> <span class="va">source</span> <span class="op">=</span> <span class="op">{</span> <span class="va">show</span> <span class="op">=</span> <span class="va">pick</span><span class="op">.</span><span class="va">default_show</span> <span class="op">}</span> <span class="op">})</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="minipick-examples-switchtoggleandmovekeys" class="level4">
<h4 class="anchored" data-anchor-id="minipick-examples-switchtoggleandmovekeys">Switch toggle and move keys</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">'mini.pick'</span><span class="op">).</span>setup<span class="op">({</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="va">mappings</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">toggle_info</span>    <span class="op">=</span> <span class="st">'&lt;C-k&gt;'</span><span class="op">,</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">toggle_preview</span> <span class="op">=</span> <span class="st">'&lt;C-p&gt;'</span><span class="op">,</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">move_down</span>      <span class="op">=</span> <span class="st">'&lt;Tab&gt;'</span><span class="op">,</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">move_up</span>        <span class="op">=</span> <span class="st">'&lt;S-Tab&gt;'</span><span class="op">,</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="minipick-examples-differentwindowstyles" class="level4">
<h4 class="anchored" data-anchor-id="minipick-examples-differentwindowstyles">Different window styles:</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Different border</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> <span class="va">window</span> <span class="op">=</span> <span class="op">{</span> <span class="va">config</span> <span class="op">=</span> <span class="op">{</span> <span class="va">border</span> <span class="op">=</span> <span class="st">'double'</span> <span class="op">}</span> <span class="op">}</span> <span class="op">}</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- "Cursor tooltip"</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="va">window</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">config</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>      <span class="va">relative</span> <span class="op">=</span> <span class="st">'cursor'</span><span class="op">,</span> <span class="va">anchor</span> <span class="op">=</span> <span class="st">'NW'</span><span class="op">,</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>      <span class="va">row</span> <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="va">col</span> <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> <span class="va">width</span> <span class="op">=</span> <span class="dv">40</span><span class="op">,</span> <span class="va">height</span> <span class="op">=</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">},</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="co">-- Centered on screen</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">win_config</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">height</span> <span class="op">=</span> <span class="fu">math.floor</span><span class="op">(</span><span class="dv">0.618</span> <span class="op">*</span> <span class="va">vim</span><span class="op">.</span><span class="va">o</span><span class="op">.</span><span class="va">lines</span><span class="op">)</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">width</span> <span class="op">=</span> <span class="fu">math.floor</span><span class="op">(</span><span class="dv">0.618</span> <span class="op">*</span> <span class="va">vim</span><span class="op">.</span><span class="va">o</span><span class="op">.</span><span class="va">columns</span><span class="op">)</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="op">{</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    <span class="va">anchor</span> <span class="op">=</span> <span class="st">'NW'</span><span class="op">,</span> <span class="va">height</span> <span class="op">=</span> <span class="va">height</span><span class="op">,</span> <span class="va">width</span> <span class="op">=</span> <span class="va">width</span><span class="op">,</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>    <span class="va">row</span> <span class="op">=</span> <span class="fu">math.floor</span><span class="op">(</span><span class="dv">0.5</span> <span class="op">*</span> <span class="op">(</span><span class="va">vim</span><span class="op">.</span><span class="va">o</span><span class="op">.</span><span class="va">lines</span> <span class="op">-</span> <span class="va">height</span><span class="op">)),</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    <span class="va">col</span> <span class="op">=</span> <span class="fu">math.floor</span><span class="op">(</span><span class="dv">0.5</span> <span class="op">*</span> <span class="op">(</span><span class="va">vim</span><span class="op">.</span><span class="va">o</span><span class="op">.</span><span class="va">columns</span> <span class="op">-</span> <span class="va">width</span><span class="op">)),</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> <span class="va">window</span> <span class="op">=</span> <span class="op">{</span> <span class="va">config</span> <span class="op">=</span> <span class="va">win_config</span> <span class="op">}</span> <span class="op">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
</section>
<section id="minipick.setup" class="level3">
<h3 class="anchored" data-anchor-id="minipick.setup">setup()</h3>
<p align="center">
<code>MiniPick.setup</code>(<span class="help-syntax-special">{config}</span>)
</p>
<p>Module setup</p>
<section id="minipick.setup-pick" class="level4">
<h4 class="anchored" data-anchor-id="minipick.setup-pick">:Pick</h4>
<p><a name="pick" href="../../mini.nvim/doc/mini-pick.html#pick"><b>:Pick</b></a></p>
<p>Calling this function creates a <code>:Pick</code> user command. It takes picker name from <a href="../../mini.nvim/doc/mini-pick.html#minipick.registry">MiniPick.registry</a> as mandatory first argument and executes it with following (expanded, <a href="https://neovim.io/doc/user/helptag.html?tag=expandcmd()">expandcmd()</a>) <a href="https://neovim.io/doc/user/helptag.html?tag=%3Cf-args%3E"><span class="help-syntax-keys">&lt;f-args&gt;</span></a> combined in a single table. To add custom pickers, update <a href="../../mini.nvim/doc/mini-pick.html#minipick.registry">MiniPick.registry</a>.</p>
<p>Example:</p>
<pre class="vim"><code>:Pick files tool='git'
:Pick grep pattern='&lt;cword&gt;'</code></pre>
<p>It also sets custom <a href="https://neovim.io/doc/user/helptag.html?tag=vim.ui.select()">vim.ui.select()</a> implementation to use the module. See <a href="../../mini.nvim/doc/mini-pick.html#minipick.ui_select">MiniPick.ui_select()</a>.</p>
</section>
<section id="minipick.setup-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.setup-parameters">Parameters</h4>
<p><span class="help-syntax-special">{config}</span> <code>(table|nil)</code> Module config table. See <a href="../../mini.nvim/doc/mini-pick.html#minipick.config">MiniPick.config</a>.</p>
</section>
<section id="minipick.setup-usage" class="level4">
<h4 class="anchored" data-anchor-id="minipick.setup-usage">Usage</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">'mini.pick'</span><span class="op">).</span>setup<span class="op">()</span> <span class="co">-- use default config</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">-- OR</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">'mini.pick'</span><span class="op">).</span>setup<span class="op">({})</span> <span class="co">-- replace {} with your config table</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
</section>
<section id="minipick.config" class="level3">
<h3 class="anchored" data-anchor-id="minipick.config">config</h3>
<p align="center">
<code>MiniPick.config</code>
</p>
<section id="minipick.config-defaults" class="level4">
<h4 class="anchored" data-anchor-id="minipick.config-defaults">Defaults</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="va">MiniPick</span><span class="op">.</span><span class="va">config</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Delays (in ms; should be at least 1)</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">delay</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Delay between forcing asynchronous behavior</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">async</span> <span class="op">=</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Delay between computation start and visual feedback about it</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">busy</span> <span class="op">=</span> <span class="dv">50</span><span class="op">,</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Keys for performing actions. See `:h MiniPick-actions`.</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="va">mappings</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="va">caret_left</span>  <span class="op">=</span> <span class="st">'&lt;Left&gt;'</span><span class="op">,</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="va">caret_right</span> <span class="op">=</span> <span class="st">'&lt;Right&gt;'</span><span class="op">,</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="va">choose</span>            <span class="op">=</span> <span class="st">'&lt;CR&gt;'</span><span class="op">,</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="va">choose_in_split</span>   <span class="op">=</span> <span class="st">'&lt;C-s&gt;'</span><span class="op">,</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    <span class="va">choose_in_tabpage</span> <span class="op">=</span> <span class="st">'&lt;C-t&gt;'</span><span class="op">,</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>    <span class="va">choose_in_vsplit</span>  <span class="op">=</span> <span class="st">'&lt;C-v&gt;'</span><span class="op">,</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>    <span class="va">choose_marked</span>     <span class="op">=</span> <span class="st">'&lt;M-CR&gt;'</span><span class="op">,</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>    <span class="va">delete_char</span>       <span class="op">=</span> <span class="st">'&lt;BS&gt;'</span><span class="op">,</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>    <span class="va">delete_char_right</span> <span class="op">=</span> <span class="st">'&lt;Del&gt;'</span><span class="op">,</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>    <span class="va">delete_left</span>       <span class="op">=</span> <span class="st">'&lt;C-u&gt;'</span><span class="op">,</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>    <span class="va">delete_word</span>       <span class="op">=</span> <span class="st">'&lt;C-w&gt;'</span><span class="op">,</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>    <span class="va">mark</span>     <span class="op">=</span> <span class="st">'&lt;C-x&gt;'</span><span class="op">,</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    <span class="va">mark_all</span> <span class="op">=</span> <span class="st">'&lt;C-a&gt;'</span><span class="op">,</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    <span class="va">move_down</span>  <span class="op">=</span> <span class="st">'&lt;C-n&gt;'</span><span class="op">,</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>    <span class="va">move_start</span> <span class="op">=</span> <span class="st">'&lt;C-g&gt;'</span><span class="op">,</span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>    <span class="va">move_up</span>    <span class="op">=</span> <span class="st">'&lt;C-p&gt;'</span><span class="op">,</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>    <span class="va">paste</span> <span class="op">=</span> <span class="st">'&lt;C-r&gt;'</span><span class="op">,</span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>    <span class="va">refine</span>        <span class="op">=</span> <span class="st">'&lt;C-Space&gt;'</span><span class="op">,</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>    <span class="va">refine_marked</span> <span class="op">=</span> <span class="st">'&lt;M-Space&gt;'</span><span class="op">,</span></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>    <span class="va">scroll_down</span>  <span class="op">=</span> <span class="st">'&lt;C-f&gt;'</span><span class="op">,</span></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>    <span class="va">scroll_left</span>  <span class="op">=</span> <span class="st">'&lt;C-h&gt;'</span><span class="op">,</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>    <span class="va">scroll_right</span> <span class="op">=</span> <span class="st">'&lt;C-l&gt;'</span><span class="op">,</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>    <span class="va">scroll_up</span>    <span class="op">=</span> <span class="st">'&lt;C-b&gt;'</span><span class="op">,</span></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a>    <span class="va">stop</span> <span class="op">=</span> <span class="st">'&lt;Esc&gt;'</span><span class="op">,</span></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true" tabindex="-1"></a>    <span class="va">toggle_info</span>    <span class="op">=</span> <span class="st">'&lt;S-Tab&gt;'</span><span class="op">,</span></span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true" tabindex="-1"></a>    <span class="va">toggle_preview</span> <span class="op">=</span> <span class="st">'&lt;Tab&gt;'</span><span class="op">,</span></span>
<span id="cb18-48"><a href="#cb18-48" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb18-49"><a href="#cb18-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-50"><a href="#cb18-50" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- General options</span></span>
<span id="cb18-51"><a href="#cb18-51" aria-hidden="true" tabindex="-1"></a>  <span class="va">options</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb18-52"><a href="#cb18-52" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Whether to show content from bottom to top</span></span>
<span id="cb18-53"><a href="#cb18-53" aria-hidden="true" tabindex="-1"></a>    <span class="va">content_from_bottom</span> <span class="op">=</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb18-54"><a href="#cb18-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-55"><a href="#cb18-55" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Whether to cache matches (more speed and memory on repeated prompts)</span></span>
<span id="cb18-56"><a href="#cb18-56" aria-hidden="true" tabindex="-1"></a>    <span class="va">use_cache</span> <span class="op">=</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb18-57"><a href="#cb18-57" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb18-58"><a href="#cb18-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-59"><a href="#cb18-59" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Source definition. See `:h MiniPick-source`.</span></span>
<span id="cb18-60"><a href="#cb18-60" aria-hidden="true" tabindex="-1"></a>  <span class="va">source</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb18-61"><a href="#cb18-61" aria-hidden="true" tabindex="-1"></a>    <span class="va">items</span> <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb18-62"><a href="#cb18-62" aria-hidden="true" tabindex="-1"></a>    <span class="va">name</span>  <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb18-63"><a href="#cb18-63" aria-hidden="true" tabindex="-1"></a>    <span class="va">cwd</span>   <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb18-64"><a href="#cb18-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-65"><a href="#cb18-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">match</span>   <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb18-66"><a href="#cb18-66" aria-hidden="true" tabindex="-1"></a>    <span class="va">show</span>    <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb18-67"><a href="#cb18-67" aria-hidden="true" tabindex="-1"></a>    <span class="va">preview</span> <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb18-68"><a href="#cb18-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-69"><a href="#cb18-69" aria-hidden="true" tabindex="-1"></a>    <span class="va">choose</span>        <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb18-70"><a href="#cb18-70" aria-hidden="true" tabindex="-1"></a>    <span class="va">choose_marked</span> <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb18-71"><a href="#cb18-71" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb18-72"><a href="#cb18-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-73"><a href="#cb18-73" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Window related options</span></span>
<span id="cb18-74"><a href="#cb18-74" aria-hidden="true" tabindex="-1"></a>  <span class="va">window</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb18-75"><a href="#cb18-75" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Float window config (table or callable returning it)</span></span>
<span id="cb18-76"><a href="#cb18-76" aria-hidden="true" tabindex="-1"></a>    <span class="va">config</span> <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb18-77"><a href="#cb18-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-78"><a href="#cb18-78" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- String to use as caret in prompt</span></span>
<span id="cb18-79"><a href="#cb18-79" aria-hidden="true" tabindex="-1"></a>    <span class="va">prompt_caret</span> <span class="op">=</span> <span class="st">'▏'</span><span class="op">,</span></span>
<span id="cb18-80"><a href="#cb18-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-81"><a href="#cb18-81" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- String to use as prefix in prompt</span></span>
<span id="cb18-82"><a href="#cb18-82" aria-hidden="true" tabindex="-1"></a>    <span class="va">prompt_prefix</span> <span class="op">=</span> <span class="st">'&gt; '</span><span class="op">,</span></span>
<span id="cb18-83"><a href="#cb18-83" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb18-84"><a href="#cb18-84" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="minipick.config-delays" class="level4">
<h4 class="anchored" data-anchor-id="minipick.config-delays">Delays</h4>
<p><code>config.delay</code> defines plugin delays (in ms). All should be strictly positive.</p>
<p><code>delay.async</code> is a delay between forcing asynchronous behavior. This usually means making screen redraws and utilizing <a href="../../mini.nvim/doc/mini-pick.html#minipick.poke_is_picker_active">MiniPick.poke_is_picker_active()</a> (for example, to stop current matching if query has updated). Smaller values give smoother user experience at the cost of more computations.</p>
<p><code>delay.busy</code> is a delay between when some computation starts and showing visual feedback about it by making window border to have <code>MiniPickBorderBusy</code> highlight group. Smaller values will give feedback faster at the cost of feeling like flicker.</p>
</section>
<section id="minipick.config-mappings" class="level4">
<h4 class="anchored" data-anchor-id="minipick.config-mappings">Mappings</h4>
<p><code>config.mappings</code> defines keys for special actions to be triggered after certain keys. See <a href="../../mini.nvim/doc/mini-pick.html#minipick-actions">MiniPick-actions</a> for more information.</p>
</section>
<section id="minipick.config-options" class="level4">
<h4 class="anchored" data-anchor-id="minipick.config-options">Options</h4>
<p><code>config.options</code> contains some general purpose options.</p>
<p><code>options.content_from_bottom</code> is a boolean indicating whether content should be shown from bottom to top. That means that best matches will be shown at the bottom. Note: for better experience use Neovim&gt;=0.10, which has floating window footer capability. Default: <code>false</code>.</p>
<p><code>options.use_cache</code> is a boolean indicating whether match results should be cached per prompt (i.e.&nbsp;concatenated query). This results into faster response on repeated prompts (like when deleting query entries) at the cost of using more memory. Default: <code>false</code>.</p>
</section>
<section id="minipick.config-source" class="level4">
<h4 class="anchored" data-anchor-id="minipick.config-source">Source</h4>
<p><code>config.source</code> defines fallbacks for source specification. For example, this can be used to change default <code>match</code> to use different implementation or <code>show</code> to not show icons for some <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin">MiniPick.builtin</a> pickers (see <a href="../../mini.nvim/doc/mini-pick.html#minipick-examples">MiniPick-examples</a>). See <a href="../../mini.nvim/doc/mini-pick.html#minipick-source">MiniPick-source</a> for more information.</p>
</section>
<section id="minipick.config-window" class="level4">
<h4 class="anchored" data-anchor-id="minipick.config-window">Window</h4>
<p><code>config.window</code> contains window specific configurations.</p>
<p><code>window.config</code> defines a (parts of) default floating window config for the main picker window. This can be either a table overriding some parts or a callable returning such table. See <a href="../../mini.nvim/doc/mini-pick.html#minipick-examples">MiniPick-examples</a> for some examples.</p>
<p><code>window.prompt_caret</code> defines how caret is displayed in window’s prompt. Default: ‘▏’.</p>
<p><code>window.prompt_prefix</code> defines what prefix is used in window’s prompt. Default: ‘&gt;’.</p>
<hr>
</section>
</section>
<section id="minipick.start" class="level3">
<h3 class="anchored" data-anchor-id="minipick.start">start()</h3>
<p align="center">
<code>MiniPick.start</code>(<span class="help-syntax-special">{opts}</span>)
</p>
<p>Start picker</p>
<p>Notes:</p>
<ul>
<li><p>If there is currently an active picker, it is properly stopped and new one is started “soon” in the main event-loop (see <a href="https://neovim.io/doc/user/helptag.html?tag=vim.schedule()">vim.schedule()</a>).</p></li>
<li><p>Current window at the moment of this function call is treated as “target”. It will be set back as current after <a href="../../mini.nvim/doc/mini-pick.html#minipick.stop">MiniPick.stop()</a>. See <a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_state">MiniPick.get_picker_state()</a> and <a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_target_window">MiniPick.set_picker_target_window()</a>.</p></li>
</ul>
<section id="minipick.start-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.start-parameters">Parameters</h4>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Should have same structure as <a href="../../mini.nvim/doc/mini-pick.html#minipick.config">MiniPick.config</a>. Default values are inferred from there. Usually should have proper <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.items">MiniPick-source.items</a> defined.</p>
</section>
<section id="minipick.start-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.start-return">Return</h4>
<p><code>(any)</code> Item which was current when picker is stopped; <code>nil</code> if aborted.</p>
<hr>
</section>
</section>
<section id="minipick.stop" class="level3">
<h3 class="anchored" data-anchor-id="minipick.stop">stop()</h3>
<p align="center">
<code>MiniPick.stop</code>()
</p>
<p>Stop active picker</p>
<hr>
</section>
<section id="minipick.refresh" class="level3">
<h3 class="anchored" data-anchor-id="minipick.refresh">refresh()</h3>
<p align="center">
<code>MiniPick.refresh</code>()
</p>
<p>Refresh active picker</p>
<hr>
</section>
<section id="minipick.default_match" class="level3">
<h3 class="anchored" data-anchor-id="minipick.default_match">default_match()</h3>
<p align="center">
<code>MiniPick.default_match</code>(<span class="help-syntax-special">{stritems}</span>, <span class="help-syntax-special">{inds}</span>, <span class="help-syntax-special">{query}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Default match</p>
<p>Filter target stritems to contain query and sort from best to worst matches.</p>
<p>Implements default value for <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.match">MiniPick-source.match</a>.</p>
<p>By default (if no special modes apply) it does the following fuzzy matching:</p>
<ul>
<li><p>Stritem contains query if it contains all its elements verbatim in the same order (possibly with gaps, i.e.&nbsp;not strictly one after another). Note: empty query and empty string element is contained in any string.</p></li>
<li><p>Sorting is done with the following ordering (same as in <a href="../../mini.nvim/doc/mini-fuzzy.html#mini.fuzzy">mini.fuzzy</a>):</p>
<ul>
<li><p>The smaller the match width (end column minus start column) the better.</p></li>
<li><p>Among same match width, the smaller start column the better.</p></li>
<li><p>Among same match width and start column, preserve original order.</p></li>
</ul></li>
</ul>
<p>Notes:</p>
<ul>
<li>Most common interactive usage results into <code>query</code> containing one typed character per element.</li>
</ul>
<section id="minipick.default_match-specialmodes" class="level4">
<h4 class="anchored" data-anchor-id="minipick.default_match-specialmodes">Special modes</h4>
<ul>
<li><p>Forced modes:</p>
<ul>
<li><p>Query starts with “*“: match the rest fuzzy (without other modes).</p></li>
<li><p>Query starts with “’”: match the rest exactly (without gaps).</p></li>
</ul></li>
<li><p>Place modes:</p>
<ul>
<li><p>Query starts with ‘^’: match the rest exactly at start.</p></li>
<li><p>Query ends with ‘$’: match the rest exactly at end.</p></li>
<li><p>Both modes can be used simultaneously.</p></li>
</ul></li>
<li><p>Grouped: query contains at least one whitespace element. Output is computed as if query is split at whitespace indexes with concatenation between them.</p></li>
</ul>
<p>Precedence of modes: “forced exact” = “forced fuzzy” &gt; “place start/end” &gt; “grouped” &gt; “default”</p>
</section>
<section id="minipick.default_match-examples" class="level4">
<h4 class="anchored" data-anchor-id="minipick.default_match-examples">Examples</h4>
<p>Assuming <code>stritems</code> are <code>{ '_abc', 'a_bc', 'ab_c', 'abc_' }</code>, here are some example matches based on prompt (concatenated query):</p>
<pre><code>| Prompt | Matches                |
|--------|------------------------|
| abc    | All                    |
| *abc   | All                    |
|        |                        |
| 'abc   | abc_, _abc             |
| *'abc  | None (no "'" in items) |
|        |                        |
| ^abc   | abc_                   |
| *^abc  | None (no "^" in items) |
|        |                        |
| abc$   | _abc                   |
| *abc$  | None (no "$" in items) |
|        |                        |
| ab c   | abc_, _abc, ab_c       |
| *ab c  | None (no " " in items) |</code></pre>
<p>Having query <code>{ 'ab', 'c' }</code> is the same as “ab c” prompt.</p>
<p>You can have a feel of how this works with this command:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="va">MiniPick</span><span class="op">.</span>start<span class="op">({</span> <span class="va">source</span> <span class="op">=</span> <span class="op">{</span> <span class="va">items</span> <span class="op">=</span> <span class="op">{</span> <span class="st">'_abc'</span><span class="op">,</span> <span class="st">'a_bc'</span><span class="op">,</span> <span class="st">'ab_c'</span><span class="op">,</span> <span class="st">'abc_'</span> <span class="op">}</span> <span class="op">}</span> <span class="op">})</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="minipick.default_match-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.default_match-parameters">Parameters</h4>
<p><span class="help-syntax-special">{stritems}</span> <code>(table)</code> Array of all stritems.</p>
<p><span class="help-syntax-special">{inds}</span> <code>(table)</code> Array of <code>stritems</code> indexes to match. All of them should point at string elements of <code>stritems</code>. No check is done for performance reasons.</p>
<p><span class="help-syntax-special">{query}</span> <code>(table)</code> Array of strings.</p>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Possible fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;sync&gt;</span> <code>(boolean)</code> - Whether to match synchronously. Default: <code>false</code>.</p></li>
<li><p><span class="help-syntax-keys">&lt;preserve_order&gt;</span> <code>(boolean)</code> - Whether to skip sort step. Default: <code>false</code>.</p></li>
</ul>
</section>
<section id="minipick.default_match-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.default_match-return">Return</h4>
<p><code>(table|nil)</code> Depending on whether computation is synchronous (either <code>opts.sync</code> is <code>true</code> or there is an active picker):</p>
<ul>
<li><p>If yes, array of <code>stritems</code> indexes matching the <code>query</code> (from best to worst).</p></li>
<li><p>If no, <code>nil</code> is returned with <a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_match_inds">MiniPick.set_picker_match_inds()</a> used later.</p></li>
</ul>
<hr>
</section>
</section>
<section id="minipick.default_show" class="level3">
<h3 class="anchored" data-anchor-id="minipick.default_show">default_show()</h3>
<p align="center">
<code>MiniPick.default_show</code>(<span class="help-syntax-special">{buf_id}</span>, <span class="help-syntax-special">{items}</span>, <span class="help-syntax-special">{query}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Default show</p>
<p>Show items in a buffer and highlight parts that actually match query (assuming match is done with <a href="../../mini.nvim/doc/mini-pick.html#minipick.default_match">MiniPick.default_match()</a>). Lines are computed based on the <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.items-stritems">MiniPick-source.items-stritems</a>.</p>
<p>Implements default value for <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.show">MiniPick-source.show</a>.</p>
<p>Uses the following highlight groups (see <a href="../../mini.nvim/doc/mini-pick.html#mini.pick">mini.pick</a> for their description):</p>
<ul>
<li><p><code>MiniPickIconDirectory</code></p></li>
<li><p><code>MiniPickIconFile</code></p></li>
<li><p><code>MiniPickMatchCurrent</code></p></li>
<li><p><code>MiniPickMatchMarked</code></p></li>
<li><p><code>MiniPickMatchRanges</code></p></li>
</ul>
<section id="minipick.default_show-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.default_show-parameters">Parameters</h4>
<p><span class="help-syntax-special">{buf_id}</span> <code>(number)</code> Identifier of target buffer.</p>
<p><span class="help-syntax-special">{items}</span> <code>(table)</code> Array of items to show.</p>
<p><span class="help-syntax-special">{query}</span> <code>(table)</code> Array of strings representing query.</p>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Possible fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;show_icons&gt;</span> <code>(boolean)</code> - whether to show icons for entries recognized as valid actually present paths on disk (see <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.items-common">MiniPick-source.items-common</a>), empty space otherwise. Tries to use <code>text</code> field as fallback for path. Default: <code>false</code>. Note: <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin">MiniPick.builtin</a> pickers showing file/directory paths use <code>true</code> by default.</p></li>
<li><p><span class="help-syntax-keys">&lt;icons&gt;</span> <code>(table)</code> - table with fallback icons used if icon provider does not itself supply default icons for category. Can have fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;directory&gt;</span> <code>(string)</code> - icon for directory. Default: “”.</p></li>
<li><p><span class="help-syntax-keys">&lt;file&gt;</span> <code>(string)</code> - icon for file. Default: “”.</p></li>
<li><p><span class="help-syntax-keys">&lt;none&gt;</span> <code>(string)</code> - icon for non-valid path. Default: ” “.</p></li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="minipick.default_preview" class="level3">
<h3 class="anchored" data-anchor-id="minipick.default_preview">default_preview()</h3>
<p align="center">
<code>MiniPick.default_preview</code>(<span class="help-syntax-special">{buf_id}</span>, <span class="help-syntax-special">{item}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Default preview</p>
<p>Preview item. Logic follows the rules in <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.items-common">MiniPick-source.items-common</a>:</p>
<ul>
<li><p>File and buffer are shown at the start.</p></li>
<li><p>Directory has its content listed.</p></li>
<li><p>Line/position/region in file or buffer is shown at start.</p></li>
<li><p>Others are shown directly with <a href="https://neovim.io/doc/user/helptag.html?tag=vim.inspect()">vim.inspect()</a>.</p></li>
</ul>
<p>Implements default value for <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.preview">MiniPick-source.preview</a>.</p>
<p>Uses the following highlight groups (see <a href="../../mini.nvim/doc/mini-pick.html#mini.pick">mini.pick</a> for their description):</p>
<ul>
<li><p><code>MiniPickPreviewLine</code></p></li>
<li><p><code>MiniPickPreviewRegion</code></p></li>
</ul>
<section id="minipick.default_preview-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.default_preview-parameters">Parameters</h4>
<p><span class="help-syntax-special">{buf_id}</span> <code>(number)</code> Identifier of target buffer.</p>
<p><span class="help-syntax-special">{item}</span> <code>(any)</code> Item to preview.</p>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Possible values:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;n_context_lines&gt;</span> <code>(number)</code> - number of lines to load past target position when reading from disk. Useful to explore context. Default: ‘lines’ twice.</p></li>
<li><p><span class="help-syntax-keys">&lt;line_position&gt;</span> <code>(string)</code> - where in the window to show item position. One of “top”, “center”, “bottom”. Default: “top”.</p></li>
</ul>
<hr>
</section>
</section>
<section id="minipick.default_choose" class="level3">
<h3 class="anchored" data-anchor-id="minipick.default_choose">default_choose()</h3>
<p align="center">
<code>MiniPick.default_choose</code>(<span class="help-syntax-special">{item}</span>)
</p>
<p>Default choose</p>
<p>Choose item. Logic follows the rules in <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.items-common">MiniPick-source.items-common</a>:</p>
<ul>
<li><p>File uses <a href="https://neovim.io/doc/user/helptag.html?tag=bufadd()">bufadd()</a> and sets cursor at the start of line/position/region.</p></li>
<li><p>Buffer is set as current in target window and sets cursor similarly.</p></li>
<li><p>Directory is called with <a href="https://neovim.io/doc/user/helptag.html?tag=:edit">:edit</a> in the target window.</p></li>
<li><p>Others have the output of <a href="https://neovim.io/doc/user/helptag.html?tag=vim.inspect()">vim.inspect()</a> printed in Command line.</p></li>
</ul>
<p>Implements default value for <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.choose">MiniPick-source.choose</a>.</p>
<section id="minipick.default_choose-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.default_choose-parameters">Parameters</h4>
<p><span class="help-syntax-special">{item}</span> <code>(any)</code> Item to choose.</p>
<hr>
</section>
</section>
<section id="minipick.default_choose_marked" class="level3">
<h3 class="anchored" data-anchor-id="minipick.default_choose_marked">default_choose_marked()</h3>
<p align="center">
<code>MiniPick.default_choose_marked</code>(<span class="help-syntax-special">{items}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Default choose marked items</p>
<p>Choose marked items. Logic follows the rules in <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.items-common">MiniPick-source.items-common</a>:</p>
<ul>
<li><p>If among items there is at least one file or buffer, quickfix list is opened with all file or buffer lines/positions/regions.</p></li>
<li><p>Otherwise, picker’s <code>source.choose</code> is called on the first item.</p></li>
</ul>
<p>Implements default value for <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.choose_marked">MiniPick-source.choose_marked</a>.</p>
<section id="minipick.default_choose_marked-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.default_choose_marked-parameters">Parameters</h4>
<p><span class="help-syntax-special">{items}</span> <code>(table)</code> Array of items to choose.</p>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Possible fields:</p>
<ul>
<li><span class="help-syntax-keys">&lt;list_type&gt;</span> <code>(string)</code> - which type of list to open. One of “quickfix” or “location”. Default: “quickfix”.</li>
</ul>
<hr>
</section>
</section>
<section id="minipick.ui_select" class="level3">
<h3 class="anchored" data-anchor-id="minipick.ui_select">ui_select()</h3>
<p align="center">
<code>MiniPick.ui_select</code>(<span class="help-syntax-special">{items}</span>, <span class="help-syntax-special">{opts}</span>, <span class="help-syntax-special">{on_choice}</span>, <span class="help-syntax-special">{start_opts}</span>)
</p>
<p>Select rewrite</p>
<p>Function which can be used to directly override <a href="https://neovim.io/doc/user/helptag.html?tag=vim.ui.select()">vim.ui.select()</a> to use ‘mini.pick’ for any “select” type of tasks. Set automatically in <a href="../../mini.nvim/doc/mini-pick.html#minipick.setup">MiniPick.setup()</a>.</p>
<p>Implements required by <code>vim.ui.select()</code> signature, with some differencies:</p>
<ul>
<li><p>Allows <code>opts.preview_item</code> that returns an array of lines for item preview.</p></li>
<li><p>Allows fourth <code>start_opts</code> argument to customize <a href="../../mini.nvim/doc/mini-pick.html#minipick.start">MiniPick.start()</a> call.</p></li>
</ul>
<p>Notes:</p>
<ul>
<li><code>on_choice</code> is called when target window is current.</li>
</ul>
<section id="minipick.ui_select-usage" class="level4">
<h4 class="anchored" data-anchor-id="minipick.ui_select-usage">Usage</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Customize with fourth argument inside a function wrapper</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">ui</span><span class="op">.</span><span class="va">select</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">items</span><span class="op">,</span> <span class="va">opts</span><span class="op">,</span> <span class="va">on_choice</span><span class="op">)</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">start_opts</span> <span class="op">=</span> <span class="op">{</span> <span class="va">window</span> <span class="op">=</span> <span class="op">{</span> <span class="va">config</span> <span class="op">=</span> <span class="op">{</span> <span class="va">width</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span><span class="va">o</span><span class="op">.</span><span class="va">columns</span> <span class="op">}</span> <span class="op">}</span> <span class="op">}</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="va">MiniPick</span><span class="op">.</span>ui_select<span class="op">(</span><span class="va">items</span><span class="op">,</span> <span class="va">opts</span><span class="op">,</span> <span class="va">on_choice</span><span class="op">,</span> <span class="va">start_opts</span><span class="op">)</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>To preserve original <code>vim.ui.select()</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">ui_select_orig</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span><span class="va">ui</span><span class="op">.</span><span class="va">select</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">'mini.pick'</span><span class="op">).</span>setup<span class="op">()</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">ui</span><span class="op">.</span><span class="va">select</span> <span class="op">=</span> <span class="va">ui_select_orig</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
</section>
<section id="minipick.builtin" class="level3">
<h3 class="anchored" data-anchor-id="minipick.builtin">builtin</h3>
<p align="center">
<code>MiniPick.builtin</code>
</p>
<p>Table with built-in pickers</p>
<hr>
</section>
<section id="minipick.builtin.files" class="level3">
<h3 class="anchored" data-anchor-id="minipick.builtin.files">builtin.files()</h3>
<p align="center">
<code>MiniPick.builtin.files</code>(<span class="help-syntax-special">{local_opts}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Pick from files</p>
<p>Lists all files recursively in all subdirectories. Tries to use one of the CLI tools to create items (see <a href="../../mini.nvim/doc/mini-pick.html#minipick-cli-tools">MiniPick-cli-tools</a>): <code>rg</code>, <code>fd</code>, <code>git</code>. If none is present, uses fallback which utilizes <a href="https://neovim.io/doc/user/helptag.html?tag=vim.fs.dir()">vim.fs.dir()</a>.</p>
<p>To customize CLI tool search, either use tool’s global configuration approach or directly <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin.cli">MiniPick.builtin.cli()</a> with specific command.</p>
<section id="minipick.builtin.files-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.builtin.files-parameters">Parameters</h4>
<p><span class="help-syntax-special">{local_opts}</span> <code>(table|nil)</code> Options defining behavior of this particular picker. Possible fields:</p>
<ul>
<li><span class="help-syntax-keys">&lt;tool&gt;</span> <code>(string)</code> - which tool to use. One of “rg”, “fd”, “git”, “fallback”. Default: whichever tool is present, trying in that same order.</li>
</ul>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options forwarded to <a href="../../mini.nvim/doc/mini-pick.html#minipick.start">MiniPick.start()</a>.</p>
<hr>
</section>
</section>
<section id="minipick.builtin.grep" class="level3">
<h3 class="anchored" data-anchor-id="minipick.builtin.grep">builtin.grep()</h3>
<p align="center">
<code>MiniPick.builtin.grep</code>(<span class="help-syntax-special">{local_opts}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Pick from pattern matches</p>
<p>Lists all pattern matches recursively in all subdirectories. Tries to use one of the CLI tools to create items (see <a href="../../mini.nvim/doc/mini-pick.html#minipick-cli-tools">MiniPick-cli-tools</a>): <code>rg</code>, <code>git</code>. If none is present, uses fallback which utilizes <a href="https://neovim.io/doc/user/helptag.html?tag=vim.fs.dir()">vim.fs.dir()</a> and Lua pattern matches (NOT recommended in large directories).</p>
<p>To customize CLI tool search, either use tool’s global configuration approach or directly <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin.cli">MiniPick.builtin.cli()</a> with specific command.</p>
<section id="minipick.builtin.grep-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.builtin.grep-parameters">Parameters</h4>
<p><span class="help-syntax-special">{local_opts}</span> <code>(table|nil)</code> Options defining behavior of this particular picker. Possible fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;tool&gt;</span> <code>(string)</code> - which tool to use. One of “rg”, “git”, “fallback”. Default: whichever tool is present, trying in that same order.</p></li>
<li><p><span class="help-syntax-keys">&lt;pattern&gt;</span> <code>(string)</code> - string pattern to search. If not given, asks user interactively with <a href="https://neovim.io/doc/user/helptag.html?tag=input()">input()</a>.</p></li>
<li><p><span class="help-syntax-keys">&lt;globs&gt;</span> <code>(table)</code> - array of string glob patterns to restrict search to matching files. Supported only by “rg” and “git” tools, respects their specific glob syntax and effects. Default: <code>{}</code> (no restriction). Example: <code>{ '*.lua', 'lua/**' }</code> for Lua files and files in “lua” directory.</p></li>
</ul>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options forwarded to <a href="../../mini.nvim/doc/mini-pick.html#minipick.start">MiniPick.start()</a>.</p>
<hr>
</section>
</section>
<section id="minipick.builtin.grep_live" class="level3">
<h3 class="anchored" data-anchor-id="minipick.builtin.grep_live">builtin.grep_live()</h3>
<p align="center">
<code>MiniPick.builtin.grep_live</code>(<span class="help-syntax-special">{local_opts}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Pick from pattern matches with live feedback</p>
<p>Perform pattern matching treating prompt as pattern. Gives live feedback on which matches are found. Use <a href="../../mini.nvim/doc/mini-pick.html#minipick-actions-refine">MiniPick-actions-refine</a> to revert to regular matching. Use <code>&lt;C-o&gt;</code> to restrict search to files matching glob patterns. Tries to use one of the CLI tools to create items (see <a href="../../mini.nvim/doc/mini-pick.html#minipick-cli-tools">MiniPick-cli-tools</a>): <code>rg</code>, <code>git</code>. If none is present, error is thrown (for performance reasons).</p>
<p>To customize search, use tool’s global configuration approach.</p>
<section id="minipick.builtin.grep_live-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.builtin.grep_live-parameters">Parameters</h4>
<p><span class="help-syntax-special">{local_opts}</span> <code>(table|nil)</code> Options defining behavior of this particular picker. Possible fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;tool&gt;</span> <code>(string)</code> - which tool to use. One of “rg”, “git”. Default: whichever tool is present, trying in that same order.</p></li>
<li><p><span class="help-syntax-keys">&lt;globs&gt;</span> <code>(table)</code> - array of string glob patterns to restrict search to matching files. Supported only by “rg” and “git” tools, respects their specific glob syntax and effects. Default: <code>{}</code> (no restriction). Example: <code>{ '*.lua', 'lua/**' }</code> for Lua files and files in “lua” directory. Use <code>&lt;C-o&gt;</code> custom mapping to add glob to the array.</p></li>
</ul>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options forwarded to <a href="../../mini.nvim/doc/mini-pick.html#minipick.start">MiniPick.start()</a>.</p>
<hr>
</section>
</section>
<section id="minipick.builtin.help" class="level3">
<h3 class="anchored" data-anchor-id="minipick.builtin.help">builtin.help()</h3>
<p align="center">
<code>MiniPick.builtin.help</code>(<span class="help-syntax-special">{local_opts}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Pick from help tags</p>
<p>Notes:</p>
<ul>
<li>On choose directly executes <a href="https://neovim.io/doc/user/helptag.html?tag=:help">:help</a> command with appropriate modifier (none, <a href="https://neovim.io/doc/user/helptag.html?tag=:vertical">:vertical</a>, <a href="https://neovim.io/doc/user/helptag.html?tag=:tab">:tab</a>). This is done through custom mappings named <code>show_help_in_{split,vsplit,tab}</code>. Not <code>choose_in_{split,vsplit,tab}</code> because there is no split guarantee (like if there is already help window opened).</li>
</ul>
<section id="minipick.builtin.help-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.builtin.help-parameters">Parameters</h4>
<p><span class="help-syntax-special">{local_opts}</span> <code>(table|nil)</code> Options defining behavior of this particular picker. Possible fields:</p>
<ul>
<li><span class="help-syntax-keys">&lt;default_split&gt;</span> <code>(string)</code> - direction of a split for <code>choose</code> action. One of “horizontal”, “vertical”, “tab”. Default: “horizontal”.</li>
</ul>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options forwarded to <a href="../../mini.nvim/doc/mini-pick.html#minipick.start">MiniPick.start()</a>.</p>
<hr>
</section>
</section>
<section id="minipick.builtin.buffers" class="level3">
<h3 class="anchored" data-anchor-id="minipick.builtin.buffers">builtin.buffers()</h3>
<p align="center">
<code>MiniPick.builtin.buffers</code>(<span class="help-syntax-special">{local_opts}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Pick from buffers</p>
<p>Notes:</p>
<ul>
<li><p>There are not built-in mappings for buffer manipulation. Here is an example of how to call this function with mapping to wipeout the current item:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">wipeout_cur</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="va">vim</span><span class="op">.</span><span class="va">api</span><span class="op">.</span>nvim_buf_delete<span class="op">(</span><span class="va">MiniPick</span><span class="op">.</span>get_picker_matches<span class="op">().</span><span class="va">current</span><span class="op">.</span><span class="va">bufnr</span><span class="op">,</span> <span class="op">{})</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">buffer_mappings</span> <span class="op">=</span> <span class="op">{</span> <span class="va">wipeout</span> <span class="op">=</span> <span class="op">{</span> <span class="fu">char</span> <span class="op">=</span> <span class="st">'&lt;C-d&gt;'</span><span class="op">,</span> <span class="va">func</span> <span class="op">=</span> <span class="va">wipeout_cur</span> <span class="op">}</span> <span class="op">}</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="va">MiniPick</span><span class="op">.</span><span class="va">builtin</span><span class="op">.</span>buffers<span class="op">(</span><span class="va">local_opts</span><span class="op">,</span> <span class="op">{</span> <span class="va">mappings</span> <span class="op">=</span> <span class="va">buffer_mappings</span> <span class="op">})</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="minipick.builtin.buffers-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.builtin.buffers-parameters">Parameters</h4>
<p><span class="help-syntax-special">{local_opts}</span> <code>(table|nil)</code> Options defining behavior of this particular picker. Possible fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;include_current&gt;</span> <code>(boolean)</code> - whether to include current buffer in the output. Default: <code>true</code>.</p></li>
<li><p><span class="help-syntax-keys">&lt;include_unlisted&gt;</span> <code>(boolean)</code> - whether to include <a href="https://neovim.io/doc/user/helptag.html?tag=unlisted-buffer">unlisted-buffer</a>s in the output. Default: <code>false</code>.</p></li>
</ul>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options forwarded to <a href="../../mini.nvim/doc/mini-pick.html#minipick.start">MiniPick.start()</a>.</p>
<hr>
</section>
</section>
<section id="minipick.builtin.cli" class="level3">
<h3 class="anchored" data-anchor-id="minipick.builtin.cli">builtin.cli()</h3>
<p align="center">
<code>MiniPick.builtin.cli</code>(<span class="help-syntax-special">{local_opts}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Pick from CLI output</p>
<p>Executes command line tool and constructs items based on its output. Uses <a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_items_from_cli">MiniPick.set_picker_items_from_cli()</a>.</p>
<p>Example: <code>MiniPick.builtin.cli({ command = { 'echo', 'a\nb\nc' } })</code></p>
<section id="minipick.builtin.cli-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.builtin.cli-parameters">Parameters</h4>
<p><span class="help-syntax-special">{local_opts}</span> <code>(table|nil)</code> Options defining behavior of this particular picker. Possible fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;command&gt;</span> <code>(table)</code> - forwarded to <code>set_picker_items_from_cli()</code>.</p></li>
<li><p><span class="help-syntax-keys">&lt;postprocess&gt;</span> <code>(function)</code> - forwarded to <code>set_picker_items_from_cli()</code>.</p></li>
<li><p><span class="help-syntax-keys">&lt;spawn_opts&gt;</span> <code>(table)</code> - forwarded to <code>set_picker_items_from_cli()</code>. Note: if <code>cwd</code> field is absent, it is inferred from <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.cwd">MiniPick-source.cwd</a>.</p></li>
</ul>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options forwarded to <a href="../../mini.nvim/doc/mini-pick.html#minipick.start">MiniPick.start()</a>.</p>
<hr>
</section>
</section>
<section id="minipick.builtin.resume" class="level3">
<h3 class="anchored" data-anchor-id="minipick.builtin.resume">builtin.resume()</h3>
<p align="center">
<code>MiniPick.builtin.resume</code>()
</p>
<p>Resume latest picker</p>
<hr>
</section>
<section id="minipick.registry" class="level3">
<h3 class="anchored" data-anchor-id="minipick.registry">registry</h3>
<p align="center">
<code>MiniPick.registry</code>
</p>
<p>Picker registry</p>
<p>Place for users and extensions to manage pickers with their commonly used local options. By default contains all <a href="../../mini.nvim/doc/mini-pick.html#minipick.builtin">MiniPick.builtin</a> pickers. All entries should accept only a single <code>local_opts</code> table argument.</p>
<p>Serves as a source for <a href="../../mini.nvim/doc/mini-pick.html#pick">:Pick</a> command.</p>
<p>Customization examples:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Adding custom picker to pick `register` entries</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="va">MiniPick</span><span class="op">.</span><span class="va">registry</span><span class="op">.</span><span class="va">registry</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">items</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span>tbl_keys<span class="op">(</span><span class="va">MiniPick</span><span class="op">.</span><span class="va">registry</span><span class="op">)</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table.sort</span><span class="op">(</span><span class="va">items</span><span class="op">)</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">source</span> <span class="op">=</span> <span class="op">{</span><span class="va">items</span> <span class="op">=</span> <span class="va">items</span><span class="op">,</span> <span class="va">name</span> <span class="op">=</span> <span class="st">'Registry'</span><span class="op">,</span> <span class="va">choose</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span> <span class="kw">end</span><span class="op">}</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">chosen_picker_name</span> <span class="op">=</span> <span class="va">MiniPick</span><span class="op">.</span>start<span class="op">({</span> <span class="va">source</span> <span class="op">=</span> <span class="va">source</span> <span class="op">})</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="va">chosen_picker_name</span> <span class="op">==</span> <span class="kw">nil</span> <span class="cf">then</span> <span class="cf">return</span> <span class="cf">end</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="va">MiniPick</span><span class="op">.</span><span class="va">registry</span><span class="op">[</span><span class="va">chosen_picker_name</span><span class="op">]()</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co">-- Make `:Pick files` accept `cwd`</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="va">MiniPick</span><span class="op">.</span><span class="va">registry</span><span class="op">.</span><span class="va">files</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">local_opts</span><span class="op">)</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">opts</span> <span class="op">=</span> <span class="op">{</span> <span class="va">source</span> <span class="op">=</span> <span class="op">{</span> <span class="va">cwd</span> <span class="op">=</span> <span class="va">local_opts</span><span class="op">.</span><span class="va">cwd</span> <span class="op">}</span> <span class="op">}</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="va">local_opts</span><span class="op">.</span><span class="va">cwd</span> <span class="op">=</span> <span class="kw">nil</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="va">MiniPick</span><span class="op">.</span><span class="va">builtin</span><span class="op">.</span>files<span class="op">(</span><span class="va">local_opts</span><span class="op">,</span> <span class="va">opts</span><span class="op">)</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
<section id="minipick.get_picker_items" class="level3">
<h3 class="anchored" data-anchor-id="minipick.get_picker_items">get_picker_items()</h3>
<p align="center">
<code>MiniPick.get_picker_items</code>()
</p>
<p>Get items of active picker</p>
<section id="minipick.get_picker_items-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_items-return">Return</h4>
<p><code>(table|nil)</code> Picker items or <code>nil</code> if no active picker.</p>
</section>
<section id="minipick.get_picker_items-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_items-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_items">MiniPick.set_picker_items()</a> and <a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_items_from_cli">MiniPick.set_picker_items_from_cli()</a></p>
<hr>
</section>
</section>
<section id="minipick.get_picker_stritems" class="level3">
<h3 class="anchored" data-anchor-id="minipick.get_picker_stritems">get_picker_stritems()</h3>
<p align="center">
<code>MiniPick.get_picker_stritems</code>()
</p>
<p>Get stritems of active picker</p>
<section id="minipick.get_picker_stritems-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_stritems-return">Return</h4>
<p><code>(table|nil)</code> Picker stritems (<a href="../../mini.nvim/doc/mini-pick.html#minipick-source.items-stritems">MiniPick-source.items-stritems</a>) or <code>nil</code> if no active picker.</p>
</section>
<section id="minipick.get_picker_stritems-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_stritems-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_items">MiniPick.set_picker_items()</a> and <a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_items_from_cli">MiniPick.set_picker_items_from_cli()</a></p>
<hr>
</section>
</section>
<section id="minipick.get_picker_matches" class="level3">
<h3 class="anchored" data-anchor-id="minipick.get_picker_matches">get_picker_matches()</h3>
<p align="center">
<code>MiniPick.get_picker_matches</code>()
</p>
<p>Get matches of active picker</p>
<section id="minipick.get_picker_matches-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_matches-return">Return</h4>
<p><code>(table|nil)</code> Picker matches or <code>nil</code> if no active picker. Matches is a table with the following fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;all&gt;</span> <code>(table|nil)</code> - all currently matched items.</p></li>
<li><p><span class="help-syntax-keys">&lt;all_inds&gt;</span> <code>(table|nil)</code> - indexes of all currently matched items.</p></li>
<li><p><span class="help-syntax-keys">&lt;current&gt;</span> <code>(any)</code> - current matched item.</p></li>
<li><p><span class="help-syntax-keys">&lt;current_ind&gt;</span> <code>(number|nil)</code> - index of current matched item.</p></li>
<li><p><span class="help-syntax-keys">&lt;marked&gt;</span> <code>(table|nil)</code> - marked items.</p></li>
<li><p><span class="help-syntax-keys">&lt;marked_inds&gt;</span> <code>(table|nil)</code> - indexes of marked items.</p></li>
<li><p><span class="help-syntax-keys">&lt;shown&gt;</span> <code>(table|nil)</code> - shown items (from top to bottom).</p></li>
<li><p><span class="help-syntax-keys">&lt;shown_inds&gt;</span> <code>(table|nil)</code> - indexes of shown items (from top to bottom).</p></li>
</ul>
</section>
<section id="minipick.get_picker_matches-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_matches-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_match_inds">MiniPick.set_picker_match_inds()</a></p>
<hr>
</section>
</section>
<section id="minipick.get_picker_opts" class="level3">
<h3 class="anchored" data-anchor-id="minipick.get_picker_opts">get_picker_opts()</h3>
<p align="center">
<code>MiniPick.get_picker_opts</code>()
</p>
<p>Get config of active picker</p>
<section id="minipick.get_picker_opts-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_opts-return">Return</h4>
<p><code>(table|nil)</code> Picker config (<code>start()</code>’s input <code>opts</code> table) or <code>nil</code> if no active picker.</p>
</section>
<section id="minipick.get_picker_opts-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_opts-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_opts">MiniPick.set_picker_opts()</a></p>
<hr>
</section>
</section>
<section id="minipick.get_picker_state" class="level3">
<h3 class="anchored" data-anchor-id="minipick.get_picker_state">get_picker_state()</h3>
<p align="center">
<code>MiniPick.get_picker_state</code>()
</p>
<p>Get state data of active picker</p>
<section id="minipick.get_picker_state-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_state-return">Return</h4>
<p><code>(table|nil)</code> Table with picker state data or <code>nil</code> if no active picker. State data is a table with the following fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;buffers&gt;</span> <code>(table)</code> - table with <code>main</code>, <code>preview</code>, <code>info</code> fields representing buffer identifier (or <code>nil</code>) for corresponding view.</p></li>
<li><p><span class="help-syntax-keys">&lt;windows&gt;</span> <code>(table)</code> - table with <code>main</code> and <code>target</code> fields representing window identifiers for main and target windows.</p></li>
<li><p><span class="help-syntax-keys">&lt;caret&gt;</span> <code>(number)</code> - caret column.</p></li>
<li><p><span class="help-syntax-keys">&lt;is_busy&gt;</span> <code>(boolean)</code> - whether picker is busy with computations.</p></li>
</ul>
</section>
<section id="minipick.get_picker_state-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_state-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_target_window">MiniPick.set_picker_target_window()</a></p>
<hr>
</section>
</section>
<section id="minipick.get_picker_query" class="level3">
<h3 class="anchored" data-anchor-id="minipick.get_picker_query">get_picker_query()</h3>
<p align="center">
<code>MiniPick.get_picker_query</code>()
</p>
<p>Get query of active picker</p>
<section id="minipick.get_picker_query-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_query-return">Return</h4>
<p><code>(table|nil)</code> Array of picker query or <code>nil</code> if no active picker.</p>
</section>
<section id="minipick.get_picker_query-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_picker_query-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_query">MiniPick.set_picker_query()</a></p>
<hr>
</section>
</section>
<section id="minipick.set_picker_items" class="level3">
<h3 class="anchored" data-anchor-id="minipick.set_picker_items">set_picker_items()</h3>
<p align="center">
<code>MiniPick.set_picker_items</code>(<span class="help-syntax-special">{items}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Set items for active picker</p>
<p>Note: sets items asynchronously in non-blocking fashion.</p>
<section id="minipick.set_picker_items-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_items-parameters">Parameters</h4>
<p><span class="help-syntax-special">{items}</span> <code>(table)</code> Array of items.</p>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Possible fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;do_match&gt;</span> <code>(boolean)</code> - whether to perform match after setting items. Default: <code>true</code>.</p></li>
<li><p><span class="help-syntax-keys">&lt;querytick&gt;</span> <code>(number|nil)</code> - value of querytick (<a href="../../mini.nvim/doc/mini-pick.html#minipick.get_querytick">MiniPick.get_querytick()</a>) to periodically check against when setting items. If checked querytick differs from supplied, no items are set.</p></li>
</ul>
</section>
<section id="minipick.set_picker_items-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_items-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_items">MiniPick.get_picker_items()</a> and <a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_stritems">MiniPick.get_picker_stritems()</a></p>
<hr>
</section>
</section>
<section id="minipick.set_picker_items_from_cli" class="level3">
<h3 class="anchored" data-anchor-id="minipick.set_picker_items_from_cli">set_picker_items_from_cli()</h3>
<p align="center">
<code>MiniPick.set_picker_items_from_cli</code>(<span class="help-syntax-special">{command}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Set items for active picker based on CLI output</p>
<p>Asynchronously executes <code>command</code> and sets items to its postprocessed output.</p>
<p>Example:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">items</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span>schedule_wrap<span class="op">(</span><span class="kw">function</span><span class="op">()</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="va">MiniPick</span><span class="op">.</span>set_picker_items_from_cli<span class="op">({</span> <span class="st">'echo'</span><span class="op">,</span> <span class="st">'a</span><span class="sc">\n</span><span class="st">b</span><span class="sc">\n</span><span class="st">c'</span> <span class="op">})</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span><span class="op">)</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="va">MiniPick</span><span class="op">.</span>start<span class="op">({</span> <span class="va">source</span> <span class="op">=</span> <span class="op">{</span> <span class="va">items</span> <span class="op">=</span> <span class="va">items</span><span class="op">,</span> <span class="va">name</span> <span class="op">=</span> <span class="st">'Echo abc'</span> <span class="op">}</span> <span class="op">})</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section id="minipick.set_picker_items_from_cli-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_items_from_cli-parameters">Parameters</h4>
<p><span class="help-syntax-special">{command}</span> <code>(table)</code> Array with (at least one) string command parts.</p>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Possible fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;postprocess&gt;</span> <code>(function)</code> - callable performing postprocessing of output. Will be called with array of lines as input, should return array of items. Default: removes trailing empty lines and uses rest as string items.</p></li>
<li><p><span class="help-syntax-keys">&lt;spawn_opts&gt;</span> <code>(table)</code> - <code>options</code> for <a href="https://neovim.io/doc/user/helptag.html?tag=uv.spawn()">uv.spawn()</a>, except <code>args</code> and <code>stdio</code>. Note: relative <code>cwd</code> path is resolved against active picker’s <code>cwd</code>.</p></li>
<li><p><span class="help-syntax-keys">&lt;set_items_opts&gt;</span> <code>(table)</code> - table forwarded to <a href="../../mini.nvim/doc/mini-pick.html#minipick.set_picker_items">MiniPick.set_picker_items()</a>.</p></li>
</ul>
</section>
<section id="minipick.set_picker_items_from_cli-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_items_from_cli-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_items">MiniPick.get_picker_items()</a> and <a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_stritems">MiniPick.get_picker_stritems()</a></p>
<hr>
</section>
</section>
<section id="minipick.set_picker_match_inds" class="level3">
<h3 class="anchored" data-anchor-id="minipick.set_picker_match_inds">set_picker_match_inds()</h3>
<p align="center">
<code>MiniPick.set_picker_match_inds</code>(<span class="help-syntax-special">{match_inds}</span>, <span class="help-syntax-special">{match_type}</span>)
</p>
<p>Set match indexes for active picker</p>
<p>There are two intended use cases:</p>
<ul>
<li><p>Inside custom asynchronous <a href="../../mini.nvim/doc/mini-pick.html#minipick-source.match">MiniPick-source.match</a> function to set which of picker’s stritems match the query. See <a href="../../mini.nvim/doc/mini-pick.html#minipick.poke_is_picker_active">MiniPick.poke_is_picker_active()</a>.</p></li>
<li><p>To programmatically set current match and marked items. See <a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_matches">MiniPick.get_picker_matches()</a>.</p></li>
</ul>
<section id="minipick.set_picker_match_inds-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_match_inds-parameters">Parameters</h4>
<p><span class="help-syntax-special">{match_inds}</span> <code>(table)</code> Array of numbers with picker’s items indexes.</p>
<p><span class="help-syntax-special">{match_type}</span> <code>(string|nil)</code> Type of match indexes to set. One of:</p>
<ul>
<li><p><code>"all"</code> (default) - indexes of items that match query.</p></li>
<li><p><code>"current"</code> - index of current match. Only first element is used and should also be present among query matches.</p></li>
<li><p><code>"marked"</code> - indexes of marked items. Values can be not among query matches. Will make only input indexes be marked, i.e.&nbsp;current marks are reset. Note: no <code>"shown"</code> match type as those indexes are computed automatically.</p></li>
</ul>
</section>
<section id="minipick.set_picker_match_inds-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_match_inds-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_matches">MiniPick.get_picker_matches()</a></p>
<hr>
</section>
</section>
<section id="minipick.set_picker_opts" class="level3">
<h3 class="anchored" data-anchor-id="minipick.set_picker_opts">set_picker_opts()</h3>
<p align="center">
<code>MiniPick.set_picker_opts</code>(<span class="help-syntax-special">{opts}</span>)
</p>
<p>Set config for active picker</p>
<section id="minipick.set_picker_opts-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_opts-parameters">Parameters</h4>
<p><span class="help-syntax-special">{opts}</span> <code>(table)</code> Table overriding initial <code>opts</code> input of <a href="../../mini.nvim/doc/mini-pick.html#minipick.start">MiniPick.start()</a>.</p>
</section>
<section id="minipick.set_picker_opts-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_opts-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_opts">MiniPick.get_picker_opts()</a></p>
<hr>
</section>
</section>
<section id="minipick.set_picker_target_window" class="level3">
<h3 class="anchored" data-anchor-id="minipick.set_picker_target_window">set_picker_target_window()</h3>
<p align="center">
<code>MiniPick.set_picker_target_window</code>(<span class="help-syntax-special">{win_id}</span>)
</p>
<p>Set target window for active picker</p>
<section id="minipick.set_picker_target_window-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_target_window-parameters">Parameters</h4>
<p><span class="help-syntax-special">{win_id}</span> <code>(number)</code> Valid window identifier to be used as the new target window.</p>
</section>
<section id="minipick.set_picker_target_window-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_target_window-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_state">MiniPick.get_picker_state()</a></p>
<hr>
</section>
</section>
<section id="minipick.set_picker_query" class="level3">
<h3 class="anchored" data-anchor-id="minipick.set_picker_query">set_picker_query()</h3>
<p align="center">
<code>MiniPick.set_picker_query</code>(<span class="help-syntax-special">{query}</span>)
</p>
<p>Set query for active picker</p>
<section id="minipick.set_picker_query-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_query-parameters">Parameters</h4>
<p><span class="help-syntax-special">{query}</span> <code>(table)</code> Array of strings to be set as the new picker query.</p>
</section>
<section id="minipick.set_picker_query-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.set_picker_query-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.get_picker_query">MiniPick.get_picker_query()</a></p>
<hr>
</section>
</section>
<section id="minipick.get_querytick" class="level3">
<h3 class="anchored" data-anchor-id="minipick.get_querytick">get_querytick()</h3>
<p align="center">
<code>MiniPick.get_querytick</code>()
</p>
<p>Get query tick</p>
<p>Query tick is a unique query identifier. Intended to be used to detect user activity during and between <a href="../../mini.nvim/doc/mini-pick.html#minipick.start">MiniPick.start()</a> calls for efficient non-blocking functionality. Updates after any query change, picker start and stop.</p>
<p>See <a href="../../mini.nvim/doc/mini-pick.html#minipick.poke_is_picker_active">MiniPick.poke_is_picker_active()</a> for usage example.</p>
<section id="minipick.get_querytick-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.get_querytick-return">Return</h4>
<p><code>(number)</code> Query tick.</p>
<hr>
</section>
</section>
<section id="minipick.is_picker_active" class="level3">
<h3 class="anchored" data-anchor-id="minipick.is_picker_active">is_picker_active()</h3>
<p align="center">
<code>MiniPick.is_picker_active</code>()
</p>
<p>Check if there is an active picker</p>
<section id="minipick.is_picker_active-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.is_picker_active-return">Return</h4>
<p><code>(boolean)</code> Whether there is currently an active picker.</p>
</section>
<section id="minipick.is_picker_active-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.is_picker_active-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.poke_is_picker_active">MiniPick.poke_is_picker_active()</a></p>
<hr>
</section>
</section>
<section id="minipick.poke_is_picker_active" class="level3">
<h3 class="anchored" data-anchor-id="minipick.poke_is_picker_active">poke_is_picker_active()</h3>
<p align="center">
<code>MiniPick.poke_is_picker_active</code>()
</p>
<p>Poke if picker is active</p>
<p>Intended to be used for non-blocking implementation of source methods. Returns an output of <a href="../../mini.nvim/doc/mini-pick.html#minipick.is_picker_active">MiniPick.is_picker_active()</a>, but depending on whether there is a coroutine running:</p>
<ul>
<li><p>If no, return it immediately.</p></li>
<li><p>If yes, return it after <code>coroutine.yield()</code> with <code>coroutine.resume()</code> called “soon” by the main event-loop (see <a href="https://neovim.io/doc/user/helptag.html?tag=vim.schedule()">vim.schedule()</a>).</p></li>
</ul>
<p>Example of non-blocking exact <code>match</code> (as demo; can be optimized further):</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">match_nonblock</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">match_inds</span><span class="op">,</span> <span class="va">stritems</span><span class="op">,</span> <span class="va">query</span><span class="op">)</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">prompt</span><span class="op">,</span> <span class="va">querytick</span> <span class="op">=</span> <span class="fu">table.concat</span><span class="op">(</span><span class="va">query</span><span class="op">),</span> <span class="va">MiniPick</span><span class="op">.</span>get_querytick<span class="op">()</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">f</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">local</span> <span class="va">res</span> <span class="op">=</span> <span class="op">{}</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="cn">_</span><span class="op">,</span> <span class="va">ind</span> <span class="kw">in</span> <span class="fu">ipairs</span><span class="op">(</span><span class="va">match_inds</span><span class="op">)</span> <span class="cf">do</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>      <span class="kw">local</span> <span class="va">should_stop</span> <span class="op">=</span> <span class="kw">not</span> <span class="va">MiniPick</span><span class="op">.</span>poke_is_picker_active<span class="op">()</span> <span class="kw">or</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">MiniPick</span><span class="op">.</span>get_querytick<span class="op">()</span> <span class="op">~=</span> <span class="va">querytick</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> <span class="va">should_stop</span> <span class="cf">then</span> <span class="cf">return</span> <span class="cf">end</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> <span class="va">stritems</span><span class="op">[</span><span class="va">ind</span><span class="op">]:</span><span class="fu">find</span><span class="op">(</span><span class="va">prompt</span><span class="op">)</span> <span class="op">~=</span> <span class="kw">nil</span> <span class="cf">then</span> <span class="fu">table.insert</span><span class="op">(</span><span class="va">res</span><span class="op">,</span> <span class="va">ind</span><span class="op">)</span> <span class="cf">end</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    <span class="va">MiniPick</span><span class="op">.</span>set_picker_match_inds<span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coroutine.resume</span><span class="op">(</span><span class="fu">coroutine.create</span><span class="op">(</span><span class="va">f</span><span class="op">))</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section id="minipick.poke_is_picker_active-return" class="level4">
<h4 class="anchored" data-anchor-id="minipick.poke_is_picker_active-return">Return</h4>
<p><code>(boolean)</code> Whether there is an active picker.</p>
</section>
<section id="minipick.poke_is_picker_active-seealso" class="level4">
<h4 class="anchored" data-anchor-id="minipick.poke_is_picker_active-seealso">See also</h4>
<p><a href="../../mini.nvim/doc/mini-pick.html#minipick.is_picker_active">MiniPick.is_picker_active()</a></p>


</section>
</section>

</main> <!-- /main -->
<!-- Original source: https://gc.zgo.at/count.js -->
<!-- Inlined for security reasons (less supply chain attack possibility) -->
<script data-goatcounter="https://nvim-mini.goatcounter.com/count">
// GoatCounter: https://www.goatcounter.com
// This file is released under the ISC license: https://opensource.org/licenses/ISC
;(function() {
	'use strict';

	window.goatcounter = window.goatcounter || {}

	// Load settings from data-goatcounter-settings.
	var s = document.querySelector('script[data-goatcounter]')
	if (s && s.dataset.goatcounterSettings) {
		try         { var set = JSON.parse(s.dataset.goatcounterSettings) }
		catch (err) { console.error('invalid JSON in data-goatcounter-settings: ' + err) }
		for (var k in set)
			if (['no_onload', 'no_events', 'allow_local', 'allow_frame', 'path', 'title', 'referrer', 'event'].indexOf(k) > -1)
				window.goatcounter[k] = set[k]
	}

	var enc = encodeURIComponent

	// Get all data we're going to send off to the counter endpoint.
	window.goatcounter.get_data = function(vars) {
		vars = vars || {}
		var data = {
			p: (vars.path     === undefined ? goatcounter.path     : vars.path),
			r: (vars.referrer === undefined ? goatcounter.referrer : vars.referrer),
			t: (vars.title    === undefined ? goatcounter.title    : vars.title),
			e: !!(vars.event || goatcounter.event),
			s: window.screen.width,
			b: is_bot(),
			q: location.search,
		}

		var rcb, pcb, tcb  // Save callbacks to apply later.
		if (typeof(data.r) === 'function') rcb = data.r
		if (typeof(data.t) === 'function') tcb = data.t
		if (typeof(data.p) === 'function') pcb = data.p

		if (is_empty(data.r)) data.r = document.referrer
		if (is_empty(data.t)) data.t = document.title
		if (is_empty(data.p)) data.p = get_path()

		if (rcb) data.r = rcb(data.r)
		if (tcb) data.t = tcb(data.t)
		if (pcb) data.p = pcb(data.p)
		return data
	}

	// Check if a value is "empty" for the purpose of get_data().
	var is_empty = function(v) { return v === null || v === undefined || typeof(v) === 'function' }

	// See if this looks like a bot; there is some additional filtering on the
	// backend, but these properties can't be fetched from there.
	var is_bot = function() {
		// Headless browsers are probably a bot.
		var w = window, d = document
		if (w.callPhantom || w._phantom || w.phantom)
			return 150
		if (w.__nightmare)
			return 151
		if (d.__selenium_unwrapped || d.__webdriver_evaluate || d.__driver_evaluate)
			return 152
		if (navigator.webdriver)
			return 153
		return 0
	}

	// Object to urlencoded string, starting with a ?.
	var urlencode = function(obj) {
		var p = []
		for (var k in obj)
			if (obj[k] !== '' && obj[k] !== null && obj[k] !== undefined && obj[k] !== false)
				p.push(enc(k) + '=' + enc(obj[k]))
		return '?' + p.join('&')
	}

	// Show a warning in the console.
	var warn = function(msg) {
		if (console && 'warn' in console)
			console.warn('goatcounter: ' + msg)
	}

	// Get the endpoint to send requests to.
	var get_endpoint = function() {
		var s = document.querySelector('script[data-goatcounter]')
		return (s && s.dataset.goatcounter) ? s.dataset.goatcounter : goatcounter.endpoint
	}

	// Get current path.
	var get_path = function() {
		var loc = location,
			c = document.querySelector('link[rel="canonical"][href]')
		if (c) {  // May be relative or point to different domain.
			var a = document.createElement('a')
			a.href = c.href
			if (a.hostname.replace(/^www\./, '') === location.hostname.replace(/^www\./, ''))
				loc = a
		}
		return (loc.pathname + loc.search) || '/'
	}

	// Run function after DOM is loaded.
	var on_load = function(f) {
		if (document.body === null)
			document.addEventListener('DOMContentLoaded', function() { f() }, false)
		else
			f()
	}

	// Filter some requests that we (probably) don't want to count.
	window.goatcounter.filter = function() {
		if ('visibilityState' in document && document.visibilityState === 'prerender')
			return 'visibilityState'
		if (!goatcounter.allow_frame && location !== parent.location)
			return 'frame'
		if (!goatcounter.allow_local && location.hostname.match(/(localhost$|^127\.|^10\.|^172\.(1[6-9]|2[0-9]|3[0-1])\.|^192\.168\.|^0\.0\.0\.0$)/))
			return 'localhost'
		if (!goatcounter.allow_local && location.protocol === 'file:')
			return 'localfile'
		if (localStorage && localStorage.getItem('skipgc') === 't')
			return 'disabled with #toggle-goatcounter'
		return false
	}

	// Get URL to send to GoatCounter.
	window.goatcounter.url = function(vars) {
		var data = window.goatcounter.get_data(vars || {})
		if (data.p === null)  // null from user callback.
			return
		data.rnd = Math.random().toString(36).substr(2, 5)  // Browsers don't always listen to Cache-Control.

		var endpoint = get_endpoint()
		if (!endpoint)
			return warn('no endpoint found')

		return endpoint + urlencode(data)
	}

	// Count a hit.
	window.goatcounter.count = function(vars) {
		var f = goatcounter.filter()
		if (f)
			return warn('not counting because of: ' + f)
		var url = goatcounter.url(vars)
		if (!url)
			return warn('not counting because path callback returned null')

		if (!navigator.sendBeacon(url)) {
			// This mostly fails due to being blocked by CSP; try again with an
			// image-based fallback.
			var img = document.createElement('img')
			img.src = url
			img.style.position = 'absolute'  // Affect layout less.
			img.style.bottom = '0px'
			img.style.width = '1px'
			img.style.height = '1px'
			img.loading = 'eager'
			img.setAttribute('alt', '')
			img.setAttribute('aria-hidden', 'true')

			var rm = function() { if (img && img.parentNode) img.parentNode.removeChild(img) }
			img.addEventListener('load', rm, false)
			document.body.appendChild(img)
		}
	}

	// Get a query parameter.
	window.goatcounter.get_query = function(name) {
		var s = location.search.substr(1).split('&')
		for (var i = 0; i < s.length; i++)
			if (s[i].toLowerCase().indexOf(name.toLowerCase() + '=') === 0)
				return s[i].substr(name.length + 1)
	}

	// Track click events.
	window.goatcounter.bind_events = function() {
		if (!document.querySelectorAll)  // Just in case someone uses an ancient browser.
			return

		var send = function(elem) {
			return function() {
				goatcounter.count({
					event:    true,
					path:     (elem.dataset.goatcounterClick || elem.name || elem.id || ''),
					title:    (elem.dataset.goatcounterTitle || elem.title || (elem.innerHTML || '').substr(0, 200) || ''),
					referrer: (elem.dataset.goatcounterReferrer || elem.dataset.goatcounterReferral || ''),
				})
			}
		}

		Array.prototype.slice.call(document.querySelectorAll("*[data-goatcounter-click]")).forEach(function(elem) {
			if (elem.dataset.goatcounterBound)
				return
			var f = send(elem)
			elem.addEventListener('click', f, false)
			elem.addEventListener('auxclick', f, false)  // Middle click.
			elem.dataset.goatcounterBound = 'true'
		})
	}

	// Add a "visitor counter" frame or image.
	window.goatcounter.visit_count = function(opt) {
		on_load(function() {
			opt        = opt        || {}
			opt.type   = opt.type   || 'html'
			opt.append = opt.append || 'body'
			opt.path   = opt.path   || get_path()
			opt.attr   = opt.attr   || {width: '200', height: (opt.no_branding ? '60' : '80')}

			opt.attr['src'] = get_endpoint() + 'er/' + enc(opt.path) + '.' + enc(opt.type) + '?'
			if (opt.no_branding) opt.attr['src'] += '&no_branding=1'
			if (opt.style)       opt.attr['src'] += '&style=' + enc(opt.style)
			if (opt.start)       opt.attr['src'] += '&start=' + enc(opt.start)
			if (opt.end)         opt.attr['src'] += '&end='   + enc(opt.end)

			var tag = {png: 'img', svg: 'img', html: 'iframe'}[opt.type]
			if (!tag)
				return warn('visit_count: unknown type: ' + opt.type)

			if (opt.type === 'html') {
				opt.attr['frameborder'] = '0'
				opt.attr['scrolling']   = 'no'
			}

			var d = document.createElement(tag)
			for (var k in opt.attr)
				d.setAttribute(k, opt.attr[k])

			var p = document.querySelector(opt.append)
			if (!p)
				return warn('visit_count: element to append to not found: ' + opt.append)
			p.appendChild(d)
		})
	}

	// Make it easy to skip your own views.
	if (location.hash === '#toggle-goatcounter') {
		if (localStorage.getItem('skipgc') === 't') {
			localStorage.removeItem('skipgc', 't')
			alert('GoatCounter tracking is now ENABLED in this browser.')
		}
		else {
			localStorage.setItem('skipgc', 't')
			alert('GoatCounter tracking is now DISABLED in this browser until ' + location + ' is loaded again.')
		}
	}

	if (!goatcounter.no_onload)
		on_load(function() {
			// 1. Page is visible, count request.
			// 2. Page is not yet visible; wait until it switches to 'visible' and count.
			// See #487
			if (!('visibilityState' in document) || document.visibilityState === 'visible')
				goatcounter.count()
			else {
				var f = function(e) {
					if (document.visibilityState !== 'visible')
						return
					document.removeEventListener('visibilitychange', f)
					goatcounter.count()
				}
				document.addEventListener('visibilitychange', f)
			}

			if (!goatcounter.no_events)
				goatcounter.bind_events()
		})
})();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/echasnovski\.github\.io\/mini-site");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© Evgeni Chasnovski, <a href="https://choosealicense.com/licenses/mit/">MIT</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>