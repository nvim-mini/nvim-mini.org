<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>mini.deps documentation – MINI</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//assets/logo-mini_180x180.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-0ed1a58f1961f20e100ea025a42ebf64.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-fdc1b2fd0a2d1e1fd2f41bfe1f0ec5c1.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-deb52f76cf1f38a7748e513572c41f9a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-fc10660e286e6ab0b07026e33ebb6568.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": "tree",
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style> .quarto-title > h1.title { display: none } </style>


<meta property="og:title" content="mini.deps documentation – MINI">
<meta property="og:description" content="Modular Independent Neovim Improvements">
<meta property="og:image" content="https://nvim-mini.org/assets/logo-mini_social.png">
<meta property="og:site_name" content="MINI">
<meta property="og:image:height" content="630">
<meta property="og:image:width" content="1200">
<meta name="twitter:title" content="mini.deps documentation – MINI">
<meta name="twitter:description" content="Modular Independent Neovim Improvements">
<meta name="twitter:image" content="https://nvim-mini.org/assets/logo-mini_social.png">
<meta name="twitter:image-height" content="630">
<meta name="twitter:image-width" content="1200">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-dark"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = true;
    const queryPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    const darkModeDefault = queryPrefersDark.matches;
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    queryPrefersDark.addEventListener("change", e => {
      if(window.localStorage.getItem("quarto-color-scheme") !== null)
        return;
      const alternate = e.matches
      toggleColorMode(alternate);
      localAlternateSentinel = e.matches ? 'alternate' : 'default'; // this is used alongside local storage!
      toggleGiscusIfUsed(alternate, darkModeDefault);
    });
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">MINI</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../mini.nvim/index.html"> 
<span class="menu-text">mini.nvim</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../MiniMax/index.html"> 
<span class="menu-text">MiniMax</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/nvim-mini"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog/index.xml"> <i class="bi bi-rss-fill" role="img" aria-label="RSS">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#module" id="toc-module" class="nav-link active" data-scroll-target="#module">Module</a>
  <ul>
  <li><a href="#module-dependencies" id="toc-module-dependencies" class="nav-link" data-scroll-target="#module-dependencies">Dependencies</a></li>
  <li><a href="#module-setup" id="toc-module-setup" class="nav-link" data-scroll-target="#module-setup">Setup</a></li>
  <li><a href="#module-comparisons" id="toc-module-comparisons" class="nav-link" data-scroll-target="#module-comparisons">Comparisons</a></li>
  <li><a href="#module-highlightgroups" id="toc-module-highlightgroups" class="nav-link" data-scroll-target="#module-highlightgroups">Highlight groups</a></li>
  </ul></li>
  <li><a href="#minideps-overview" id="toc-minideps-overview" class="nav-link" data-scroll-target="#minideps-overview">Overview</a>
  <ul>
  <li><a href="#minideps-overview-directorystructure" id="toc-minideps-overview-directorystructure" class="nav-link" data-scroll-target="#minideps-overview-directorystructure">Directory structure</a></li>
  <li><a href="#minideps-overview-addplugin" id="toc-minideps-overview-addplugin" class="nav-link" data-scroll-target="#minideps-overview-addplugin">Add plugin</a></li>
  <li><a href="#minideps-overview-lazyloading" id="toc-minideps-overview-lazyloading" class="nav-link" data-scroll-target="#minideps-overview-lazyloading">Lazy loading</a></li>
  <li><a href="#minideps-overview-update" id="toc-minideps-overview-update" class="nav-link" data-scroll-target="#minideps-overview-update">Update</a></li>
  <li><a href="#minideps-overview-modify" id="toc-minideps-overview-modify" class="nav-link" data-scroll-target="#minideps-overview-modify">Modify</a></li>
  <li><a href="#minideps-overview-snapshots" id="toc-minideps-overview-snapshots" class="nav-link" data-scroll-target="#minideps-overview-snapshots">Snapshots</a></li>
  <li><a href="#minideps-overview-freeze" id="toc-minideps-overview-freeze" class="nav-link" data-scroll-target="#minideps-overview-freeze">Freeze</a></li>
  <li><a href="#minideps-overview-rollback" id="toc-minideps-overview-rollback" class="nav-link" data-scroll-target="#minideps-overview-rollback">Rollback</a></li>
  <li><a href="#minideps-overview-remove" id="toc-minideps-overview-remove" class="nav-link" data-scroll-target="#minideps-overview-remove">Remove</a></li>
  </ul></li>
  <li><a href="#minideps-plugin-specification" id="toc-minideps-plugin-specification" class="nav-link" data-scroll-target="#minideps-plugin-specification">Plugin specification</a></li>
  <li><a href="#minideps-commands" id="toc-minideps-commands" class="nav-link" data-scroll-target="#minideps-commands">Commands</a>
  <ul>
  <li><a href="#minideps-commands-depsadd" id="toc-minideps-commands-depsadd" class="nav-link" data-scroll-target="#minideps-commands-depsadd">:DepsAdd</a></li>
  <li><a href="#minideps-commands-depsupdate" id="toc-minideps-commands-depsupdate" class="nav-link" data-scroll-target="#minideps-commands-depsupdate">:DepsUpdate</a></li>
  <li><a href="#minideps-commands-depsupdateoffline" id="toc-minideps-commands-depsupdateoffline" class="nav-link" data-scroll-target="#minideps-commands-depsupdateoffline">:DepsUpdateOffline</a></li>
  <li><a href="#minideps-commands-depsshowlog" id="toc-minideps-commands-depsshowlog" class="nav-link" data-scroll-target="#minideps-commands-depsshowlog">:DepsShowLog</a></li>
  <li><a href="#minideps-commands-depsclean" id="toc-minideps-commands-depsclean" class="nav-link" data-scroll-target="#minideps-commands-depsclean">:DepsClean</a></li>
  <li><a href="#minideps-commands-depssnapsave" id="toc-minideps-commands-depssnapsave" class="nav-link" data-scroll-target="#minideps-commands-depssnapsave">:DepsSnapSave</a></li>
  <li><a href="#minideps-commands-depssnapload" id="toc-minideps-commands-depssnapload" class="nav-link" data-scroll-target="#minideps-commands-depssnapload">:DepsSnapLoad</a></li>
  </ul></li>
  <li><a href="#minideps.setup" id="toc-minideps.setup" class="nav-link" data-scroll-target="#minideps.setup">setup()</a>
  <ul>
  <li><a href="#minideps.setup-parameters" id="toc-minideps.setup-parameters" class="nav-link" data-scroll-target="#minideps.setup-parameters">Parameters</a></li>
  <li><a href="#minideps.setup-usage" id="toc-minideps.setup-usage" class="nav-link" data-scroll-target="#minideps.setup-usage">Usage</a></li>
  </ul></li>
  <li><a href="#minideps.config" id="toc-minideps.config" class="nav-link" data-scroll-target="#minideps.config">config</a>
  <ul>
  <li><a href="#minideps.config-defaults" id="toc-minideps.config-defaults" class="nav-link" data-scroll-target="#minideps.config-defaults">Defaults</a></li>
  <li><a href="#minideps.config-job" id="toc-minideps.config-job" class="nav-link" data-scroll-target="#minideps.config-job">Job</a></li>
  <li><a href="#minideps.config-paths" id="toc-minideps.config-paths" class="nav-link" data-scroll-target="#minideps.config-paths">Paths</a></li>
  <li><a href="#minideps.config-silent" id="toc-minideps.config-silent" class="nav-link" data-scroll-target="#minideps.config-silent">Silent</a></li>
  </ul></li>
  <li><a href="#minideps.add" id="toc-minideps.add" class="nav-link" data-scroll-target="#minideps.add">add()</a>
  <ul>
  <li><a href="#minideps.add-parameters" id="toc-minideps.add-parameters" class="nav-link" data-scroll-target="#minideps.add-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minideps.update" id="toc-minideps.update" class="nav-link" data-scroll-target="#minideps.update">update()</a>
  <ul>
  <li><a href="#minideps.update-parameters" id="toc-minideps.update-parameters" class="nav-link" data-scroll-target="#minideps.update-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minideps.clean" id="toc-minideps.clean" class="nav-link" data-scroll-target="#minideps.clean">clean()</a>
  <ul>
  <li><a href="#minideps.clean-parameters" id="toc-minideps.clean-parameters" class="nav-link" data-scroll-target="#minideps.clean-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minideps.snap_get" id="toc-minideps.snap_get" class="nav-link" data-scroll-target="#minideps.snap_get">snap_get()</a>
  <ul>
  <li><a href="#minideps.snap_get-return" id="toc-minideps.snap_get-return" class="nav-link" data-scroll-target="#minideps.snap_get-return">Return</a></li>
  </ul></li>
  <li><a href="#minideps.snap_set" id="toc-minideps.snap_set" class="nav-link" data-scroll-target="#minideps.snap_set">snap_set()</a>
  <ul>
  <li><a href="#minideps.snap_set-parameters" id="toc-minideps.snap_set-parameters" class="nav-link" data-scroll-target="#minideps.snap_set-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minideps.snap_save" id="toc-minideps.snap_save" class="nav-link" data-scroll-target="#minideps.snap_save">snap_save()</a>
  <ul>
  <li><a href="#minideps.snap_save-parameters" id="toc-minideps.snap_save-parameters" class="nav-link" data-scroll-target="#minideps.snap_save-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minideps.snap_load" id="toc-minideps.snap_load" class="nav-link" data-scroll-target="#minideps.snap_load">snap_load()</a>
  <ul>
  <li><a href="#minideps.snap_load-parameters" id="toc-minideps.snap_load-parameters" class="nav-link" data-scroll-target="#minideps.snap_load-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minideps.get_session" id="toc-minideps.get_session" class="nav-link" data-scroll-target="#minideps.get_session">get_session()</a>
  <ul>
  <li><a href="#minideps.get_session-return" id="toc-minideps.get_session-return" class="nav-link" data-scroll-target="#minideps.get_session-return">Return</a></li>
  </ul></li>
  <li><a href="#minideps.now" id="toc-minideps.now" class="nav-link" data-scroll-target="#minideps.now">now()</a>
  <ul>
  <li><a href="#minideps.now-parameters" id="toc-minideps.now-parameters" class="nav-link" data-scroll-target="#minideps.now-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minideps.later" id="toc-minideps.later" class="nav-link" data-scroll-target="#minideps.later">later()</a>
  <ul>
  <li><a href="#minideps.later-parameters" id="toc-minideps.later-parameters" class="nav-link" data-scroll-target="#minideps.later-parameters">Parameters</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">mini.deps documentation</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><em>Generated from the <code>main</code> branch of ‘mini.nvim’</em></p>
<p><a name="mini.deps" href="../../mini.nvim/doc/mini-deps.html#mini.deps"><b>mini.deps</b></a> Plugin manager</p>
<p>MIT License Copyright (c) 2024 Evgeni Chasnovski</p>
<hr>
<section id="module" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="module">Module</h3>
<p>Features:</p>
<ul>
<li><p>Manage plugins utilizing Git and built-in <a href="https://neovim.io/doc/user/helptag.html?tag=packages">packages</a> with these actions:</p>
<ul>
<li><p>Add plugin to current session, download if absent. See <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a>.</p></li>
<li><p>Update with/without confirm, with/without parallel download of new data. See <a href="../../mini.nvim/doc/mini-deps.html#minideps.update">MiniDeps.update()</a>.</p></li>
<li><p>Delete unused plugins with/without confirm. See <a href="../../mini.nvim/doc/mini-deps.html#minideps.clean">MiniDeps.clean()</a>.</p></li>
<li><p>Get / set / save / load snapshot. See <code>MiniDeps.snap_*()</code> functions.</p></li>
</ul>
<p>All main actions are available both as Lua functions and user commands (see <a href="../../mini.nvim/doc/mini-deps.html#minideps-commands">MiniDeps-commands</a>).</p></li>
<li><p>Minimal yet flexible plugin <a href="../../mini.nvim/doc/mini-deps.html#minideps-plugin-specification">MiniDeps-plugin-specification</a>:</p>
<ul>
<li><p>Plugin source.</p></li>
<li><p>Name of target plugin directory.</p></li>
<li><p>Checkout target: branch, commit, tag, etc.</p></li>
<li><p>Monitor branch to track updates without checking out.</p></li>
<li><p>Dependencies to be set up prior to the target plugin.</p></li>
<li><p>Hooks to call before/after plugin is created/changed.</p></li>
</ul></li>
<li><p>Helpers implementing two-stage startup: <a href="../../mini.nvim/doc/mini-deps.html#minideps.now">MiniDeps.now()</a> and <a href="../../mini.nvim/doc/mini-deps.html#minideps.later">MiniDeps.later()</a>. See <a href="../../mini.nvim/doc/mini-deps.html#minideps-overview">MiniDeps-overview</a> for how to implement basic lazy loading with them.</p></li>
</ul>
<p>What it doesn’t do:</p>
<ul>
<li><p>Manage plugins which are developed without Git. The suggested approach is to create a separate package (see <a href="https://neovim.io/doc/user/helptag.html?tag=packages">packages</a>).</p></li>
<li><p>Provide ways to completely remove or update plugin’s functionality in current session. Although this is partially doable, it can not be done in full (yet) because plugins can have untraceable side effects (autocmmands, mappings, etc.). The suggested approach is to restart Nvim.</p></li>
</ul>
<p>Sources with more details:</p>
<ul>
<li><p><a href="../../mini.nvim/doc/mini-deps.html#minideps-overview">MiniDeps-overview</a></p></li>
<li><p><a href="../../mini.nvim/doc/mini-deps.html#minideps-plugin-specification">MiniDeps-plugin-specification</a></p></li>
<li><p><a href="../../mini.nvim/doc/mini-deps.html#minideps-commands">MiniDeps-commands</a></p></li>
</ul>
<section id="module-dependencies" class="level4">
<h4 class="anchored" data-anchor-id="module-dependencies">Dependencies</h4>
<p>For most of its functionality this plugin relies on <code>git</code> CLI tool. See https://git-scm.com/ for more information about how to install it. Actual knowledge of Git is not required but helpful.</p>
</section>
<section id="module-setup" class="level4">
<h4 class="anchored" data-anchor-id="module-setup">Setup</h4>
<p>This module needs a setup with <code>require('mini.deps').setup({})</code> (replace <code>{}</code> with your <code>config</code> table). It will create global Lua table <code>MiniDeps</code> which you can use for scripting or manually (with <code>:lua MiniDeps.*</code>).</p>
<p>See <a href="../../mini.nvim/doc/mini-deps.html#minideps.config">MiniDeps.config</a> for <code>config</code> structure and default values.</p>
<p>You can override runtime config settings locally to buffer inside <code>vim.b.minideps_config</code> which should have same structure as <code>MiniDeps.config</code>. See <a href="../../mini.nvim/doc/mini-nvim.html#mini.nvim-buffer-local-config">mini.nvim-buffer-local-config</a> for more details.</p>
</section>
<section id="module-comparisons" class="level4">
<h4 class="anchored" data-anchor-id="module-comparisons">Comparisons</h4>
<ul>
<li><p><a href="https://github.com/folke/lazy.nvim">folke/lazy.nvim</a>:</p>
<ul>
<li><p>More feature-rich and complex.</p></li>
<li><p>Uses table specification with dedicated functions to add plugins, while this module uses direct function call approach (calling <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a> ensures that plugin is usable).</p></li>
<li><p>Uses version tags by default, while this module is more designed towards tracking branches. Using tags is possible too (see <a href="../../mini.nvim/doc/mini-deps.html#minideps-overview">MiniDeps-overview</a>).</p></li>
</ul></li>
<li><p><a href="https://github.com/savq/paq-nvim">savq/paq-nvim</a>:</p>
<ul>
<li><p>Overall less feature-rich than this module (by design).</p></li>
<li><p>Uses array of plugin specifications inside <code>setup()</code> call to define which plugins should be installed. Requires separate <code>:PaqInstall</code> call to actually install them. This module ensures installation on first load.</p></li>
</ul></li>
<li><p><a href="https://github.com/junegunn/vim-plug">junegunn/vim-plug</a>:</p>
<ul>
<li><p>Written in Vimscript, while this module is in Lua.</p></li>
<li><p>Similar approach to defining and installing plugins as ‘savq/paq-nvim’.</p></li>
<li><p>Has basic lazy-loading built-in, while this module does not (by design).</p></li>
</ul></li>
</ul>
</section>
<section id="module-highlightgroups" class="level4">
<h4 class="anchored" data-anchor-id="module-highlightgroups">Highlight groups</h4>
<p>Highlight groups are used inside confirmation buffers after default <a href="../../mini.nvim/doc/mini-deps.html#minideps.update">MiniDeps.update()</a> and <a href="../../mini.nvim/doc/mini-deps.html#minideps.clean">MiniDeps.clean()</a>.</p>
<ul>
<li><p><code>MiniDepsChangeAdded</code> - added change (commit) during update.</p></li>
<li><p><code>MiniDepsChangeRemoved</code> - removed change (commit) during update.</p></li>
<li><p><code>MiniDepsHint</code> - various hints.</p></li>
<li><p><code>MiniDepsInfo</code> - various information.</p></li>
<li><p><code>MiniDepsMsgBreaking</code> - message for (conventional commit) breaking change.</p></li>
<li><p><code>MiniDepsPlaceholder</code> - placeholder when there is no valuable information.</p></li>
<li><p><code>MiniDepsTitle</code> - various titles.</p></li>
<li><p><code>MiniDepsTitleError</code> - title when plugin had errors during update.</p></li>
<li><p><code>MiniDepsTitleSame</code> - title when plugin has no changes to update.</p></li>
<li><p><code>MiniDepsTitleUpdate</code> - title when plugin has changes to update.</p></li>
</ul>
<p>To change any highlight group, set it directly with <a href="https://neovim.io/doc/user/helptag.html?tag=nvim_set_hl()">nvim_set_hl()</a>.</p>
<hr>
</section>
</section>
<section id="minideps-overview" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps-overview">Overview</h3>
<section id="minideps-overview-directorystructure" class="level4">
<h4 class="anchored" data-anchor-id="minideps-overview-directorystructure">Directory structure</h4>
<p>This module uses built-in <a href="https://neovim.io/doc/user/helptag.html?tag=packages">packages</a> to make plugins usable in current session. It works with “pack/deps” package inside <code>config.path.package</code> directory.</p>
<p>By default “opt” subdirectory is used to install optional plugins which are loaded on demand with <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a>. Non-optional plugins in “start” subdirectory are supported but only if moved there manually after initial install. Use it if you know what you are doing.</p>
</section>
<section id="minideps-overview-addplugin" class="level4">
<h4 class="anchored" data-anchor-id="minideps-overview-addplugin">Add plugin</h4>
<p>Use <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a> to add plugin to current session. Supply plugin’s URL source as a string or <a href="../../mini.nvim/doc/mini-deps.html#minideps-plugin-specification">MiniDeps-plugin-specification</a> in general. If plugin is not present in “pack/deps” package, it will be created (a.k.a. installed) before processing anything else.</p>
<p>The recommended way of adding a plugin is by calling <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a> in the <a href="https://neovim.io/doc/user/helptag.html?tag=init.lua">init.lua</a> file (make sure <a href="../../mini.nvim/doc/mini-deps.html#minideps.setup">MiniDeps.setup()</a> is called prior):</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">add</span> <span class="op">=</span> <span class="va">MiniDeps</span><span class="op">.</span><span class="va">add</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Add to current session (install if absent)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>add<span class="op">({</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="va">source</span> <span class="op">=</span> <span class="st">'neovim/nvim-lspconfig'</span><span class="op">,</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Supply dependencies near target plugin</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="va">depends</span> <span class="op">=</span> <span class="op">{</span> <span class="st">'williamboman/mason.nvim'</span> <span class="op">},</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>add<span class="op">({</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="va">source</span> <span class="op">=</span> <span class="st">'nvim-treesitter/nvim-treesitter'</span><span class="op">,</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Use 'master' while monitoring updates in 'main'</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="va">checkout</span> <span class="op">=</span> <span class="st">'master'</span><span class="op">,</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="va">monitor</span> <span class="op">=</span> <span class="st">'main'</span><span class="op">,</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Perform action after every checkout</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="va">hooks</span> <span class="op">=</span> <span class="op">{</span> <span class="va">post_checkout</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span> <span class="va">vim</span><span class="op">.</span>cmd<span class="op">(</span><span class="st">'TSUpdate'</span><span class="op">)</span> <span class="kw">end</span> <span class="op">},</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co">-- Possible to immediately execute code which depends on the added plugin</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">'nvim-treesitter.configs'</span><span class="op">).</span>setup<span class="op">({</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="va">ensure_installed</span> <span class="op">=</span> <span class="op">{</span> <span class="st">'lua'</span><span class="op">,</span> <span class="st">'vimdoc'</span> <span class="op">},</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="va">highlight</span> <span class="op">=</span> <span class="op">{</span> <span class="va">enable</span> <span class="op">=</span> <span class="kw">true</span> <span class="op">},</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>NOTE:</p>
<ul>
<li>To increase performance, <code>add()</code> only ensures presence on disk and nothing else. In particular, it doesn’t ensure <code>opts.checkout</code> state. Update or modify plugin state explicitly (see later sections).</li>
</ul>
</section>
<section id="minideps-overview-lazyloading" class="level4">
<h4 class="anchored" data-anchor-id="minideps-overview-lazyloading">Lazy loading</h4>
<p>Any lazy-loading is assumed to be done manually by calling <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a> at appropriate time. This module provides helpers implementing special safe two-stage loading:</p>
<ul>
<li><p><a href="../../mini.nvim/doc/mini-deps.html#minideps.now">MiniDeps.now()</a> safely executes code immediately. Use it to load plugins with UI necessary to make initial screen draw.</p></li>
<li><p><a href="../../mini.nvim/doc/mini-deps.html#minideps.later">MiniDeps.later()</a> schedules code to be safely executed later, preserving order. Use it (with caution) for everything else which doesn’t need precisely timed effect, as it will be executed some time soon on one of the next event loops.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">now</span><span class="op">,</span> <span class="va">later</span> <span class="op">=</span> <span class="va">MiniDeps</span><span class="op">.</span><span class="va">now</span><span class="op">,</span> <span class="va">MiniDeps</span><span class="op">.</span><span class="va">later</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">-- Safely execute immediately</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>now<span class="op">(</span><span class="kw">function</span><span class="op">()</span> <span class="va">vim</span><span class="op">.</span>cmd<span class="op">(</span><span class="st">'colorscheme miniwinter'</span><span class="op">)</span> <span class="kw">end</span><span class="op">)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>now<span class="op">(</span><span class="kw">function</span><span class="op">()</span> <span class="fu">require</span><span class="op">(</span><span class="st">'mini.statusline'</span><span class="op">).</span>setup<span class="op">()</span> <span class="kw">end</span><span class="op">)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">-- Safely execute later</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>later<span class="op">(</span><span class="kw">function</span><span class="op">()</span> <span class="fu">require</span><span class="op">(</span><span class="st">'mini.pick'</span><span class="op">).</span>setup<span class="op">()</span> <span class="kw">end</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
</section>
<section id="minideps-overview-update" class="level4">
<h4 class="anchored" data-anchor-id="minideps-overview-update">Update</h4>
<p>To update plugins from current session with new data from their sources, use <a href="../../mini.nvim/doc/mini-deps.html#depsupdate">:DepsUpdate</a>. This will download updates (utilizing multiple cores) and show confirmation buffer. Follow instructions at its top to finish an update.</p>
<p>NOTE: This updates plugins on disk which most likely won’t affect current session. Restart Nvim to have them properly loaded.</p>
</section>
<section id="minideps-overview-modify" class="level4">
<h4 class="anchored" data-anchor-id="minideps-overview-modify">Modify</h4>
<p>To change plugin’s specification (like set different <code>checkout</code>, etc.):</p>
<ul>
<li><p>Update corresponding <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a> call.</p></li>
<li><p>Run <code>:DepsUpdateOffline &lt;plugin_name&gt;</code>.</p></li>
<li><p>Review changes and confirm.</p></li>
<li><p>Restart Nvim.</p></li>
</ul>
<p>NOTE: if <code>add()</code> prior used a single source string, make sure to convert its argument to <code>{ source = '&lt;previous_argument&gt;', checkout = '&lt;state&gt;'}</code></p>
</section>
<section id="minideps-overview-snapshots" class="level4">
<h4 class="anchored" data-anchor-id="minideps-overview-snapshots">Snapshots</h4>
<p>Use <a href="../../mini.nvim/doc/mini-deps.html#depssnapsave">:DepsSnapSave</a> to save state of all plugins from current session into a snapshot file (see <code>config.path.snapshot</code>).</p>
<p>Use <a href="../../mini.nvim/doc/mini-deps.html#depssnapload">:DepsSnapLoad</a> to load snapshot. This will change (without confirmation) state on disk. Plugins present in both snapshot file and current session will be affected. Restart Nvim to see the effect.</p>
<p>NOTE: loading snapshot does not change plugin’s specification defined inside <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a> call. This means that next update might change plugin’s state. To make it permanent, freeze plugin in target state manually.</p>
</section>
<section id="minideps-overview-freeze" class="level4">
<h4 class="anchored" data-anchor-id="minideps-overview-freeze">Freeze</h4>
<p>Modify plugin’s specification to have <code>checkout</code> pointing to a static target: tag, state (commit hash), or ‘HEAD’ (to freeze in current state).</p>
<p>Frozen plugins will not receive updates. You can monitor any new changes from its source by “subscribing” to <code>monitor</code> branch which will be shown inside confirmation buffer after <a href="../../mini.nvim/doc/mini-deps.html#depsupdate">:DepsUpdate</a>.</p>
<p>Example: use <code>checkout = 'v0.10.0'</code> to freeze plugin at tag “v0.10.0” while monitoring new versions in the log from <code>monitor</code> (usually default) branch.</p>
</section>
<section id="minideps-overview-rollback" class="level4">
<h4 class="anchored" data-anchor-id="minideps-overview-rollback">Rollback</h4>
<p>To roll back after an unfortunate update:</p>
<ul>
<li><p>Get identifier of latest working state:</p>
<ul>
<li><p>Use <a href="../../mini.nvim/doc/mini-deps.html#depsshowlog">:DepsShowLog</a> to see update log, look for plugin’s name, and copy identifier listed as “State before:”.</p></li>
<li><p>See previously saved snapshot file for plugin’s name and copy identifier next to it.</p></li>
</ul></li>
<li><p>Freeze plugin at that state while monitoring appropriate branch. Revert to previous shape of <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a> call to resume updating.</p></li>
</ul>
</section>
<section id="minideps-overview-remove" class="level4">
<h4 class="anchored" data-anchor-id="minideps-overview-remove">Remove</h4>
<ul>
<li><p>Make sure that target plugin is not registered in current session. Usually it means removing corresponding <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a> call.</p></li>
<li><p>Run <a href="../../mini.nvim/doc/mini-deps.html#depsclean">:DepsClean</a>. This will show confirmation buffer with a list of plugins to be deleted from disk. Follow instructions at its top to finish cleaning.</p></li>
</ul>
<p>Alternatively, manually delete plugin’s directory from “pack/deps” package.</p>
<hr>
</section>
</section>
<section id="minideps-plugin-specification" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps-plugin-specification">Plugin specification</h3>
<p>Each plugin dependency is managed based on its specification (a.k.a. “spec”). See <a href="../../mini.nvim/doc/mini-deps.html#minideps-overview">MiniDeps-overview</a> for some examples.</p>
<p>Specification can be a single string which is inferred as:</p>
<ul>
<li><p>Plugin <span class="help-syntax-keys">&lt;name&gt;</span> if it doesn’t contain “/”.</p></li>
<li><p>Plugin <span class="help-syntax-keys">&lt;source&gt;</span> otherwise.</p></li>
</ul>
<p>Primarily, specification is a table with the following fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;source&gt;</span> <code>(string|nil)</code> - field with URI of plugin source used during creation or update. Can be anything allowed by <code>git clone</code>. Default: <code>nil</code> to rely on source set up during install. Notes:</p>
<ul>
<li><p>It is required for creating plugin, but can be omitted afterwards.</p></li>
<li><p>As the most common case, URI of the format “user/repo” (if it contains valid characters) is transformed into “https://github.com/user/repo”.</p></li>
</ul></li>
<li><p><span class="help-syntax-keys">&lt;name&gt;</span> <code>(string|nil)</code> - directory basename of where to put plugin source. It is put in “pack/deps/opt” subdirectory of <code>config.path.package</code>. Default: basename of <span class="help-syntax-keys">&lt;source&gt;</span> if it is present, otherwise should be provided explicitly.</p></li>
<li><p><span class="help-syntax-keys">&lt;checkout&gt;</span> <code>(string|nil)</code> - checkout target used to set state during update. Can be anything supported by <code>git checkout</code> - branch, commit, tag, etc. Default: <code>nil</code> for default branch (usually “main” or “master”).</p></li>
<li><p><span class="help-syntax-keys">&lt;monitor&gt;</span> <code>(string|nil)</code> - monitor branch used to track new changes from different target than <code>checkout</code>. Should be a name of present Git branch. Default: <code>nil</code> for default branch (usually “main” or “master”).</p></li>
<li><p><span class="help-syntax-keys">&lt;depends&gt;</span> <code>(table|nil)</code> - array of plugin specifications (strings or tables) to be added prior to the target. Default: <code>nil</code> for no dependencies.</p></li>
<li><p><span class="help-syntax-keys">&lt;hooks&gt;</span> <code>(table|nil)</code> - table with callable hooks to call on certain events. Possible hook names:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;pre_install&gt;</span> - before creating plugin directory.</p></li>
<li><p><span class="help-syntax-keys">&lt;post_install&gt;</span> - after creating plugin directory (before <a href="https://neovim.io/doc/user/helptag.html?tag=:packadd">:packadd</a>).</p></li>
<li><p><span class="help-syntax-keys">&lt;pre_checkout&gt;</span> - before making change in existing plugin.</p></li>
<li><p><span class="help-syntax-keys">&lt;post_checkout&gt;</span> - after making change in existing plugin. Each hook is executed with the following table as an argument:</p></li>
<li><p><span class="help-syntax-keys">&lt;path&gt;</span> (<code>string</code>) - absolute path to plugin’s directory (might not yet exist on disk).</p></li>
<li><p><span class="help-syntax-keys">&lt;source&gt;</span> (<code>string</code>) - resolved <span class="help-syntax-keys">&lt;source&gt;</span> from spec.</p></li>
<li><p><span class="help-syntax-keys">&lt;name&gt;</span> (<code>string</code>) - resolved <span class="help-syntax-keys">&lt;name&gt;</span> from spec. Default: <code>nil</code> for no hooks.</p></li>
</ul></li>
</ul>
<hr>
</section>
<section id="minideps-commands" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps-commands">Commands</h3>
<p>Note: Most commands have a Lua function alternative which they rely on. Like <a href="../../mini.nvim/doc/mini-deps.html#depsadd">:DepsAdd</a> uses <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a>, etc.</p>
<section id="minideps-commands-depsadd" class="level4">
<h4 class="anchored" data-anchor-id="minideps-commands-depsadd">:DepsAdd</h4>
<p><a name="depsadd" href="../../mini.nvim/doc/mini-deps.html#depsadd"><b>:DepsAdd</b></a> with <code>user/repo</code> argument makes plugin https://github.com/user/repo available in the current session (also creates it, if it is not present). <code>:DepsAdd name</code> adds already installed plugin <code>name</code> to current session. Accepts only single string compatible with <a href="../../mini.nvim/doc/mini-deps.html#minideps-plugin-specification">MiniDeps-plugin-specification</a>. To add plugin in every session, put <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a> in <a href="https://neovim.io/doc/user/helptag.html?tag=init.lua">init.lua</a>.</p>
</section>
<section id="minideps-commands-depsupdate" class="level4">
<h4 class="anchored" data-anchor-id="minideps-commands-depsupdate">:DepsUpdate</h4>
<p><a name="depsupdate" href="../../mini.nvim/doc/mini-deps.html#depsupdate"><b>:DepsUpdate</b></a> synchronizes plugins with their session specifications and updates them with new changes from sources. It shows confirmation buffer in a separate <a href="https://neovim.io/doc/user/helptag.html?tag=tabpage">tabpage</a> with information about an upcoming update to review and (selectively) apply. See <a href="../../mini.nvim/doc/mini-deps.html#minideps.update">MiniDeps.update()</a> for more info.</p>
<p><code>:DepsUpdate name</code> updates plugin <code>name</code>. Any number of names is allowed.</p>
<p><code>:DepsUpdate!</code> and <code>:DepsUpdate! name</code> update without confirmation. You can see what was done in the log file afterwards (<a href="../../mini.nvim/doc/mini-deps.html#depsshowlog">:DepsShowLog</a>).</p>
</section>
<section id="minideps-commands-depsupdateoffline" class="level4">
<h4 class="anchored" data-anchor-id="minideps-commands-depsupdateoffline">:DepsUpdateOffline</h4>
<p><a name="depsupdateoffline" href="../../mini.nvim/doc/mini-deps.html#depsupdateoffline"><b>:DepsUpdateOffline</b></a> is same as <a href="../../mini.nvim/doc/mini-deps.html#depsupdate">:DepsUpdate</a> but doesn’t download new updates from sources. Useful to only synchronize plugin specification in code and on disk without unnecessary downloads.</p>
</section>
<section id="minideps-commands-depsshowlog" class="level4">
<h4 class="anchored" data-anchor-id="minideps-commands-depsshowlog">:DepsShowLog</h4>
<p><a name="depsshowlog" href="../../mini.nvim/doc/mini-deps.html#depsshowlog"><b>:DepsShowLog</b></a> opens log file to review.</p>
</section>
<section id="minideps-commands-depsclean" class="level4">
<h4 class="anchored" data-anchor-id="minideps-commands-depsclean">:DepsClean</h4>
<p><a name="depsclean" href="../../mini.nvim/doc/mini-deps.html#depsclean"><b>:DepsClean</b></a> deletes plugins from disk not added to current session. It shows confirmation buffer in a separate <a href="https://neovim.io/doc/user/helptag.html?tag=tabpage">tabpage</a> with information about an upcoming deletes to review and (selectively) apply. See <a href="../../mini.nvim/doc/mini-deps.html#minideps.clean">MiniDeps.clean()</a> for more info.</p>
<p><code>:DepsClean!</code> deletes plugins without confirmation.</p>
</section>
<section id="minideps-commands-depssnapsave" class="level4">
<h4 class="anchored" data-anchor-id="minideps-commands-depssnapsave">:DepsSnapSave</h4>
<p><a name="depssnapsave" href="../../mini.nvim/doc/mini-deps.html#depssnapsave"><b>:DepsSnapSave</b></a> creates snapshot file in default location (see <a href="../../mini.nvim/doc/mini-deps.html#minideps.config">MiniDeps.config</a>). <code>:DepsSnapSave path</code> creates snapshot file at <code>path</code>.</p>
</section>
<section id="minideps-commands-depssnapload" class="level4">
<h4 class="anchored" data-anchor-id="minideps-commands-depssnapload">:DepsSnapLoad</h4>
<p><a name="depssnapload" href="../../mini.nvim/doc/mini-deps.html#depssnapload"><b>:DepsSnapLoad</b></a> loads snapshot file from default location (see <a href="../../mini.nvim/doc/mini-deps.html#minideps.config">MiniDeps.config</a>). <code>:DepsSnapLoad path</code> loads snapshot file at <code>path</code>.</p>
<hr>
</section>
</section>
<section id="minideps.setup" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.setup">setup()</h3>
<p align="center">
<code>MiniDeps.setup</code>(<span class="help-syntax-special">{config}</span>)
</p>
<p>Module setup</p>
<p>Calling this function creates user commands described in <a href="../../mini.nvim/doc/mini-deps.html#minideps-commands">MiniDeps-commands</a>.</p>
<section id="minideps.setup-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minideps.setup-parameters">Parameters</h4>
<p><span class="help-syntax-special">{config}</span> <code>(table|nil)</code> Module config table. See <a href="../../mini.nvim/doc/mini-deps.html#minideps.config">MiniDeps.config</a>.</p>
</section>
<section id="minideps.setup-usage" class="level4">
<h4 class="anchored" data-anchor-id="minideps.setup-usage">Usage</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">'mini.deps'</span><span class="op">).</span>setup<span class="op">()</span> <span class="co">-- use default config</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">-- OR</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">'mini.deps'</span><span class="op">).</span>setup<span class="op">({})</span> <span class="co">-- replace {} with your config table</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
</section>
<section id="minideps.config" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.config">config</h3>
<p align="center">
<code>MiniDeps.config</code>
</p>
<section id="minideps.config-defaults" class="level4">
<h4 class="anchored" data-anchor-id="minideps.config-defaults">Defaults</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="va">MiniDeps</span><span class="op">.</span><span class="va">config</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Parameters of CLI jobs</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">job</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Number of parallel threads to use. Default: 80% of all available.</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">n_threads</span> <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Timeout (in ms) for each job before force quit</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">timeout</span> <span class="op">=</span> <span class="dv">30000</span><span class="op">,</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Paths describing where to store data</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="va">path</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Directory for built-in package.</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- All plugins are actually stored in 'pack/deps' subdirectory.</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="va">package</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span><span class="va">fn</span><span class="op">.</span>stdpath<span class="op">(</span><span class="st">'data'</span><span class="op">)</span> <span class="op">..</span> <span class="st">'/site'</span><span class="op">,</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Default file path for a snapshot</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="va">snapshot</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span><span class="va">fn</span><span class="op">.</span>stdpath<span class="op">(</span><span class="st">'config'</span><span class="op">)</span> <span class="op">..</span> <span class="st">'/mini-deps-snap'</span><span class="op">,</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Log file</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="va">log</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span><span class="va">fn</span><span class="op">.</span>stdpath<span class="op">(</span><span class="st">'log'</span><span class="op">)</span> <span class="op">..</span> <span class="st">'/mini-deps.log'</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Whether to disable showing non-error feedback</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="va">silent</span> <span class="op">=</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="minideps.config-job" class="level4">
<h4 class="anchored" data-anchor-id="minideps.config-job">Job</h4>
<p><code>config.job</code> defines how CLI jobs are run.</p>
<p><code>job.n_threads</code> is a maximum number of parallel jobs used when needed. Default: 80% of all available.</p>
<p><code>job.timeout</code> is a duration (in ms) from job start until it is forced to stop. Default: 30000.</p>
</section>
<section id="minideps.config-paths" class="level4">
<h4 class="anchored" data-anchor-id="minideps.config-paths">Paths</h4>
<p><code>config.path</code> defines main paths used in this module.</p>
<p><code>path.package</code> is a string with path inside which “pack/deps” package is stored (see <a href="../../mini.nvim/doc/mini-deps.html#minideps-overview">MiniDeps-overview</a>). Default: “site” subdirectory of “data” standard path (see <a href="https://neovim.io/doc/user/helptag.html?tag=stdpath()">stdpath()</a>).</p>
<p><code>path.snapshot</code> is a string with default path for snapshot. See <a href="../../mini.nvim/doc/mini-deps.html#depssnapsave">:DepsSnapSave</a> and <a href="../../mini.nvim/doc/mini-deps.html#depssnapload">:DepsSnapLoad</a>. Default: “mini-deps-snap” file in “config” standard path (see <a href="https://neovim.io/doc/user/helptag.html?tag=stdpath()">stdpath()</a>).</p>
<p><code>path.log</code> is a string with path containing log of operations done by module. In particular, it contains all changes done after making an update. Default: “mini-deps.log” file in “log” standard path (see <a href="https://neovim.io/doc/user/helptag.html?tag=stdpath()">stdpath()</a>).</p>
</section>
<section id="minideps.config-silent" class="level4">
<h4 class="anchored" data-anchor-id="minideps.config-silent">Silent</h4>
<p><code>config.silent</code> is a boolean controlling whether to suppress non-error feedback. Default: <code>false</code>.</p>
<hr>
</section>
</section>
<section id="minideps.add" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.add">add()</h3>
<p align="center">
<code>MiniDeps.add</code>(<span class="help-syntax-special">{spec}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Add plugin to current session</p>
<ul>
<li><p>Process specification by expanding dependencies into single spec array.</p></li>
<li><p>Ensure plugin is present on disk along with its dependencies by installing (in parallel) absent ones:</p>
<ul>
<li><p>Execute <code>opts.hooks.pre_install</code>.</p></li>
<li><p>Use <code>git clone</code> to clone plugin from its source URI into “pack/deps/opt”.</p></li>
<li><p>Set state according to <code>opts.checkout</code>.</p></li>
<li><p>Execute <code>opts.hooks.post_install</code>.</p></li>
</ul></li>
<li><p>Register spec(s) in current session.</p></li>
<li><p>Make sure plugin(s) can be used in current session (see <a href="https://neovim.io/doc/user/helptag.html?tag=:packadd">:packadd</a>).</p></li>
<li><p>If not during startup and is needed, source all “after/plugin/” scripts.</p></li>
</ul>
<p>Notes:</p>
<ul>
<li><p>Presence of plugin is checked by its name which is the same as the name of its directory inside “pack/deps” package (see <a href="../../mini.nvim/doc/mini-deps.html#minideps-overview">MiniDeps-overview</a>).</p></li>
<li><p>To increase performance, this function only ensures presence on disk and nothing else. In particular, it doesn’t ensure <code>opts.checkout</code> state. Use <a href="../../mini.nvim/doc/mini-deps.html#minideps.update">MiniDeps.update()</a> or <a href="../../mini.nvim/doc/mini-deps.html#depsupdateoffline">:DepsUpdateOffline</a> explicitly.</p></li>
<li><p>Adding plugin several times updates its session specs.</p></li>
</ul>
<section id="minideps.add-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minideps.add-parameters">Parameters</h4>
<p><span class="help-syntax-special">{spec}</span> <code>(table|string)</code> Plugin specification. See <a href="../../mini.nvim/doc/mini-deps.html#minideps-plugin-specification">MiniDeps-plugin-specification</a>.</p>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Possible fields:</p>
<ul>
<li><span class="help-syntax-keys">&lt;bang&gt;</span> <code>(boolean)</code> - whether to use <code>:packadd!</code> instead of plain <a href="https://neovim.io/doc/user/helptag.html?tag=:packadd">:packadd</a>.</li>
</ul>
<hr>
</section>
</section>
<section id="minideps.update" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.update">update()</h3>
<p align="center">
<code>MiniDeps.update</code>(<span class="help-syntax-special">{names}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Update plugins</p>
<ul>
<li><p>Synchronize specs with state of plugins on disk (set <code>source</code>, etc.).</p></li>
<li><p>Infer data before downloading updates.</p></li>
<li><p>If not offline, download updates (in parallel).</p></li>
<li><p>Infer data after downloading updates.</p></li>
<li><p>If update is forced, apply all changes immediately while updating log file (at <code>config.path.log</code>; use <a href="../../mini.nvim/doc/mini-deps.html#depsshowlog">:DepsShowLog</a> to review). Otherwise show confirmation buffer with instructions on how to proceed.</p></li>
</ul>
<section id="minideps.update-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minideps.update-parameters">Parameters</h4>
<p><span class="help-syntax-special">{names}</span> <code>(table|nil)</code> Array of plugin names to update. Default: all plugins from current session (see <a href="../../mini.nvim/doc/mini-deps.html#minideps.get_session">MiniDeps.get_session()</a>).</p>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Possible fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;force&gt;</span> <code>(boolean)</code> - whether to force update without confirmation. Default: <code>false</code>.</p></li>
<li><p><span class="help-syntax-keys">&lt;offline&gt;</span> <code>(boolean)</code> - whether to skip downloading updates from sources. Default: <code>false</code>.</p></li>
</ul>
<hr>
</section>
</section>
<section id="minideps.clean" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.clean">clean()</h3>
<p align="center">
<code>MiniDeps.clean</code>(<span class="help-syntax-special">{opts}</span>)
</p>
<p>Clean plugins</p>
<ul>
<li><p>Compute absent plugins: not registered in current session (see <a href="../../mini.nvim/doc/mini-deps.html#minideps.get_session">MiniDeps.get_session()</a>) but present on disk in dedicated “pack/deps” package (inside <code>config.path.package</code>).</p></li>
<li><p>If cleaning is forced, delete all absent plugins from disk. Otherwise show confirmation buffer with instructions on how to proceed.</p></li>
</ul>
<section id="minideps.clean-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minideps.clean-parameters">Parameters</h4>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Possible fields:</p>
<ul>
<li><span class="help-syntax-keys">&lt;force&gt;</span> <code>(boolean)</code> - whether to force delete without confirmation. Default: <code>false</code>.</li>
</ul>
<hr>
</section>
</section>
<section id="minideps.snap_get" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.snap_get">snap_get()</h3>
<p align="center">
<code>MiniDeps.snap_get</code>()
</p>
<p>Compute snapshot</p>
<section id="minideps.snap_get-return" class="level4">
<h4 class="anchored" data-anchor-id="minideps.snap_get-return">Return</h4>
<p><code>(table)</code> A snapshot table: plugin names as keys and state as values. All plugins in current session are processed.</p>
<hr>
</section>
</section>
<section id="minideps.snap_set" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.snap_set">snap_set()</h3>
<p align="center">
<code>MiniDeps.snap_set</code>(<span class="help-syntax-special">{snap}</span>)
</p>
<p>Apply snapshot</p>
<p>Notes:</p>
<ul>
<li>Checking out states from snapshot does not update session plugin spec (<code>checkout</code> field in particular). Among others, it means that next call to <a href="../../mini.nvim/doc/mini-deps.html#minideps.update">MiniDeps.update()</a> might override the result of this function. To make changes permanent, set <code>checkout</code> spec field to state from snapshot.</li>
</ul>
<section id="minideps.snap_set-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minideps.snap_set-parameters">Parameters</h4>
<p><span class="help-syntax-special">{snap}</span> <code>(table)</code> A snapshot table: plugin names as keys and state as values. Only plugins in current session are processed.</p>
<hr>
</section>
</section>
<section id="minideps.snap_save" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.snap_save">snap_save()</h3>
<p align="center">
<code>MiniDeps.snap_save</code>(<span class="help-syntax-special">{path}</span>)
</p>
<p>Save snapshot</p>
<section id="minideps.snap_save-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minideps.snap_save-parameters">Parameters</h4>
<p><span class="help-syntax-special">{path}</span> <code>(string|nil)</code> A valid path on disk where to write snapshot computed with <a href="../../mini.nvim/doc/mini-deps.html#minideps.snap_get">MiniDeps.snap_get()</a>. Default: <code>config.path.snapshot</code>.</p>
<hr>
</section>
</section>
<section id="minideps.snap_load" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.snap_load">snap_load()</h3>
<p align="center">
<code>MiniDeps.snap_load</code>(<span class="help-syntax-special">{path}</span>)
</p>
<p>Load snapshot file</p>
<p>Notes from <a href="../../mini.nvim/doc/mini-deps.html#minideps.snap_set">MiniDeps.snap_set()</a> also apply here.</p>
<section id="minideps.snap_load-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minideps.snap_load-parameters">Parameters</h4>
<p><span class="help-syntax-special">{path}</span> <code>(string|nil)</code> A valid path on disk from where to read snapshot. Default: <code>config.path.snapshot</code>.</p>
<hr>
</section>
</section>
<section id="minideps.get_session" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.get_session">get_session()</h3>
<p align="center">
<code>MiniDeps.get_session</code>()
</p>
<p>Get session</p>
<p>Plugin is registered in current session if it either:</p>
<ul>
<li><p>Was added with <a href="../../mini.nvim/doc/mini-deps.html#minideps.add">MiniDeps.add()</a> (preserving order of calls).</p></li>
<li><p>Is a “start” plugin and present in ‘runtimpath’.</p></li>
</ul>
<section id="minideps.get_session-return" class="level4">
<h4 class="anchored" data-anchor-id="minideps.get_session-return">Return</h4>
<p><code>(table)</code> Array with specifications of all plugins registered in current session.</p>
<hr>
</section>
</section>
<section id="minideps.now" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.now">now()</h3>
<p align="center">
<code>MiniDeps.now</code>(<span class="help-syntax-special">{f}</span>)
</p>
<p>Execute function now</p>
<p>Safely execute function immediately. Errors are shown with <a href="https://neovim.io/doc/user/helptag.html?tag=vim.notify()">vim.notify()</a> later, after all queued functions (including with <a href="../../mini.nvim/doc/mini-deps.html#minideps.later">MiniDeps.later()</a>) are executed, thus not blocking execution of next code in file.</p>
<p>Assumed to be used as a first step during two-stage config execution to load plugins immediately during startup. See <a href="../../mini.nvim/doc/mini-deps.html#minideps-overview">MiniDeps-overview</a>.</p>
<section id="minideps.now-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minideps.now-parameters">Parameters</h4>
<p><span class="help-syntax-special">{f}</span> <code>(function)</code> Callable to execute.</p>
<hr>
</section>
</section>
<section id="minideps.later" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minideps.later">later()</h3>
<p align="center">
<code>MiniDeps.later</code>(<span class="help-syntax-special">{f}</span>)
</p>
<p>Execute function later</p>
<p>Queue function to be safely executed later without blocking execution of next code in file. All queued functions are guaranteed to be executed in order they were added. Errors are shown with <a href="https://neovim.io/doc/user/helptag.html?tag=vim.notify()">vim.notify()</a> after all queued functions are executed.</p>
<p>Assumed to be used as a second step during two-stage config execution to load plugins “lazily” after startup. See <a href="../../mini.nvim/doc/mini-deps.html#minideps-overview">MiniDeps-overview</a>.</p>
<section id="minideps.later-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minideps.later-parameters">Parameters</h4>
<p><span class="help-syntax-special">{f}</span> <code>(function)</code> Callable to execute.</p>


</section>
</section>

</main> <!-- /main -->
<!-- Original source: https://gc.zgo.at/count.js -->
<!-- Inlined for security reasons (less supply chain attack possibility) -->
<script data-goatcounter="https://nvim-mini.goatcounter.com/count">
// GoatCounter: https://www.goatcounter.com
// This file is released under the ISC license: https://opensource.org/licenses/ISC
;(function() {
	'use strict';

	window.goatcounter = window.goatcounter || {}

	// Load settings from data-goatcounter-settings.
	var s = document.querySelector('script[data-goatcounter]')
	if (s && s.dataset.goatcounterSettings) {
		try         { var set = JSON.parse(s.dataset.goatcounterSettings) }
		catch (err) { console.error('invalid JSON in data-goatcounter-settings: ' + err) }
		for (var k in set)
			if (['no_onload', 'no_events', 'allow_local', 'allow_frame', 'path', 'title', 'referrer', 'event'].indexOf(k) > -1)
				window.goatcounter[k] = set[k]
	}

	var enc = encodeURIComponent

	// Get all data we're going to send off to the counter endpoint.
	window.goatcounter.get_data = function(vars) {
		vars = vars || {}
		var data = {
			p: (vars.path     === undefined ? goatcounter.path     : vars.path),
			r: (vars.referrer === undefined ? goatcounter.referrer : vars.referrer),
			t: (vars.title    === undefined ? goatcounter.title    : vars.title),
			e: !!(vars.event || goatcounter.event),
			s: window.screen.width,
			b: is_bot(),
			q: location.search,
		}

		var rcb, pcb, tcb  // Save callbacks to apply later.
		if (typeof(data.r) === 'function') rcb = data.r
		if (typeof(data.t) === 'function') tcb = data.t
		if (typeof(data.p) === 'function') pcb = data.p

		if (is_empty(data.r)) data.r = document.referrer
		if (is_empty(data.t)) data.t = document.title
		if (is_empty(data.p)) data.p = get_path()

		if (rcb) data.r = rcb(data.r)
		if (tcb) data.t = tcb(data.t)
		if (pcb) data.p = pcb(data.p)
		return data
	}

	// Check if a value is "empty" for the purpose of get_data().
	var is_empty = function(v) { return v === null || v === undefined || typeof(v) === 'function' }

	// See if this looks like a bot; there is some additional filtering on the
	// backend, but these properties can't be fetched from there.
	var is_bot = function() {
		// Headless browsers are probably a bot.
		var w = window, d = document
		if (w.callPhantom || w._phantom || w.phantom)
			return 150
		if (w.__nightmare)
			return 151
		if (d.__selenium_unwrapped || d.__webdriver_evaluate || d.__driver_evaluate)
			return 152
		if (navigator.webdriver)
			return 153
		return 0
	}

	// Object to urlencoded string, starting with a ?.
	var urlencode = function(obj) {
		var p = []
		for (var k in obj)
			if (obj[k] !== '' && obj[k] !== null && obj[k] !== undefined && obj[k] !== false)
				p.push(enc(k) + '=' + enc(obj[k]))
		return '?' + p.join('&')
	}

	// Show a warning in the console.
	var warn = function(msg) {
		if (console && 'warn' in console)
			console.warn('goatcounter: ' + msg)
	}

	// Get the endpoint to send requests to.
	var get_endpoint = function() {
		var s = document.querySelector('script[data-goatcounter]')
		return (s && s.dataset.goatcounter) ? s.dataset.goatcounter : goatcounter.endpoint
	}

	// Get current path.
	var get_path = function() {
		var loc = location,
			c = document.querySelector('link[rel="canonical"][href]')
		if (c) {  // May be relative or point to different domain.
			var a = document.createElement('a')
			a.href = c.href
			if (a.hostname.replace(/^www\./, '') === location.hostname.replace(/^www\./, ''))
				loc = a
		}
		return (loc.pathname + loc.search) || '/'
	}

	// Run function after DOM is loaded.
	var on_load = function(f) {
		if (document.body === null)
			document.addEventListener('DOMContentLoaded', function() { f() }, false)
		else
			f()
	}

	// Filter some requests that we (probably) don't want to count.
	window.goatcounter.filter = function() {
		if ('visibilityState' in document && document.visibilityState === 'prerender')
			return 'visibilityState'
		if (!goatcounter.allow_frame && location !== parent.location)
			return 'frame'
		if (!goatcounter.allow_local && location.hostname.match(/(localhost$|^127\.|^10\.|^172\.(1[6-9]|2[0-9]|3[0-1])\.|^192\.168\.|^0\.0\.0\.0$)/))
			return 'localhost'
		if (!goatcounter.allow_local && location.protocol === 'file:')
			return 'localfile'
		if (localStorage && localStorage.getItem('skipgc') === 't')
			return 'disabled with #toggle-goatcounter'
		return false
	}

	// Get URL to send to GoatCounter.
	window.goatcounter.url = function(vars) {
		var data = window.goatcounter.get_data(vars || {})
		if (data.p === null)  // null from user callback.
			return
		data.rnd = Math.random().toString(36).substr(2, 5)  // Browsers don't always listen to Cache-Control.

		var endpoint = get_endpoint()
		if (!endpoint)
			return warn('no endpoint found')

		return endpoint + urlencode(data)
	}

	// Count a hit.
	window.goatcounter.count = function(vars) {
		var f = goatcounter.filter()
		if (f)
			return warn('not counting because of: ' + f)
		var url = goatcounter.url(vars)
		if (!url)
			return warn('not counting because path callback returned null')

		if (!navigator.sendBeacon(url)) {
			// This mostly fails due to being blocked by CSP; try again with an
			// image-based fallback.
			var img = document.createElement('img')
			img.src = url
			img.style.position = 'absolute'  // Affect layout less.
			img.style.bottom = '0px'
			img.style.width = '1px'
			img.style.height = '1px'
			img.loading = 'eager'
			img.setAttribute('alt', '')
			img.setAttribute('aria-hidden', 'true')

			var rm = function() { if (img && img.parentNode) img.parentNode.removeChild(img) }
			img.addEventListener('load', rm, false)
			document.body.appendChild(img)
		}
	}

	// Get a query parameter.
	window.goatcounter.get_query = function(name) {
		var s = location.search.substr(1).split('&')
		for (var i = 0; i < s.length; i++)
			if (s[i].toLowerCase().indexOf(name.toLowerCase() + '=') === 0)
				return s[i].substr(name.length + 1)
	}

	// Track click events.
	window.goatcounter.bind_events = function() {
		if (!document.querySelectorAll)  // Just in case someone uses an ancient browser.
			return

		var send = function(elem) {
			return function() {
				goatcounter.count({
					event:    true,
					path:     (elem.dataset.goatcounterClick || elem.name || elem.id || ''),
					title:    (elem.dataset.goatcounterTitle || elem.title || (elem.innerHTML || '').substr(0, 200) || ''),
					referrer: (elem.dataset.goatcounterReferrer || elem.dataset.goatcounterReferral || ''),
				})
			}
		}

		Array.prototype.slice.call(document.querySelectorAll("*[data-goatcounter-click]")).forEach(function(elem) {
			if (elem.dataset.goatcounterBound)
				return
			var f = send(elem)
			elem.addEventListener('click', f, false)
			elem.addEventListener('auxclick', f, false)  // Middle click.
			elem.dataset.goatcounterBound = 'true'
		})
	}

	// Add a "visitor counter" frame or image.
	window.goatcounter.visit_count = function(opt) {
		on_load(function() {
			opt        = opt        || {}
			opt.type   = opt.type   || 'html'
			opt.append = opt.append || 'body'
			opt.path   = opt.path   || get_path()
			opt.attr   = opt.attr   || {width: '200', height: (opt.no_branding ? '60' : '80')}

			opt.attr['src'] = get_endpoint() + 'er/' + enc(opt.path) + '.' + enc(opt.type) + '?'
			if (opt.no_branding) opt.attr['src'] += '&no_branding=1'
			if (opt.style)       opt.attr['src'] += '&style=' + enc(opt.style)
			if (opt.start)       opt.attr['src'] += '&start=' + enc(opt.start)
			if (opt.end)         opt.attr['src'] += '&end='   + enc(opt.end)

			var tag = {png: 'img', svg: 'img', html: 'iframe'}[opt.type]
			if (!tag)
				return warn('visit_count: unknown type: ' + opt.type)

			if (opt.type === 'html') {
				opt.attr['frameborder'] = '0'
				opt.attr['scrolling']   = 'no'
			}

			var d = document.createElement(tag)
			for (var k in opt.attr)
				d.setAttribute(k, opt.attr[k])

			var p = document.querySelector(opt.append)
			if (!p)
				return warn('visit_count: element to append to not found: ' + opt.append)
			p.appendChild(d)
		})
	}

	// Make it easy to skip your own views.
	if (location.hash === '#toggle-goatcounter') {
		if (localStorage.getItem('skipgc') === 't') {
			localStorage.removeItem('skipgc', 't')
			alert('GoatCounter tracking is now ENABLED in this browser.')
		}
		else {
			localStorage.setItem('skipgc', 't')
			alert('GoatCounter tracking is now DISABLED in this browser until ' + location + ' is loaded again.')
		}
	}

	if (!goatcounter.no_onload)
		on_load(function() {
			// 1. Page is visible, count request.
			// 2. Page is not yet visible; wait until it switches to 'visible' and count.
			// See #487
			if (!('visibilityState' in document) || document.visibilityState === 'visible')
				goatcounter.count()
			else {
				var f = function(e) {
					if (document.visibilityState !== 'visible')
						return
					document.removeEventListener('visibilitychange', f)
					goatcounter.count()
				}
				document.addEventListener('visibilitychange', f)
			}

			if (!goatcounter.no_events)
				goatcounter.bind_events()
		})
})();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/nvim-mini\.org");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© Evgeni Chasnovski, <a href="https://choosealicense.com/licenses/mit/">MIT</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>