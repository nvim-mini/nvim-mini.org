<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>mini.map documentation – MINI</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//assets/logo-mini_180x180.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-0ed1a58f1961f20e100ea025a42ebf64.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-fdc1b2fd0a2d1e1fd2f41bfe1f0ec5c1.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-deb52f76cf1f38a7748e513572c41f9a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-fc10660e286e6ab0b07026e33ebb6568.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": "tree",
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style> .quarto-title > h1.title { display: none } </style>


<meta property="og:title" content="mini.map documentation – MINI">
<meta property="og:description" content="Modular Independent Neovim Improvements">
<meta property="og:image" content="https://nvim-mini.org/assets/logo-mini_social.png">
<meta property="og:site_name" content="MINI">
<meta property="og:image:height" content="630">
<meta property="og:image:width" content="1200">
<meta name="twitter:title" content="mini.map documentation – MINI">
<meta name="twitter:description" content="Modular Independent Neovim Improvements">
<meta name="twitter:image" content="https://nvim-mini.org/assets/logo-mini_social.png">
<meta name="twitter:image-height" content="630">
<meta name="twitter:image-width" content="1200">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-dark"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = true;
    const queryPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    const darkModeDefault = queryPrefersDark.matches;
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    queryPrefersDark.addEventListener("change", e => {
      if(window.localStorage.getItem("quarto-color-scheme") !== null)
        return;
      const alternate = e.matches
      toggleColorMode(alternate);
      localAlternateSentinel = e.matches ? 'alternate' : 'default'; // this is used alongside local storage!
      toggleGiscusIfUsed(alternate, darkModeDefault);
    });
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">MINI</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../mini.nvim/index.html"> 
<span class="menu-text">mini.nvim</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../MiniMax/index.html"> 
<span class="menu-text">MiniMax</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/nvim-mini"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog/index.xml"> <i class="bi bi-rss-fill" role="img" aria-label="RSS">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#module" id="toc-module" class="nav-link active" data-scroll-target="#module">Module</a>
  <ul>
  <li><a href="#module-setup" id="toc-module-setup" class="nav-link" data-scroll-target="#module-setup">Setup</a></li>
  <li><a href="#module-dependencies" id="toc-module-dependencies" class="nav-link" data-scroll-target="#module-dependencies">Dependencies</a></li>
  <li><a href="#module-comparisons" id="toc-module-comparisons" class="nav-link" data-scroll-target="#module-comparisons">Comparisons</a></li>
  <li><a href="#module-highlightgroups" id="toc-module-highlightgroups" class="nav-link" data-scroll-target="#module-highlightgroups">Highlight groups</a></li>
  <li><a href="#module-disabling" id="toc-module-disabling" class="nav-link" data-scroll-target="#module-disabling">Disabling</a></li>
  </ul></li>
  <li><a href="#mini.map-usage" id="toc-mini.map-usage" class="nav-link" data-scroll-target="#mini.map-usage">Usage</a>
  <ul>
  <li><a href="#mini.map-usage-mappings" id="toc-mini.map-usage-mappings" class="nav-link" data-scroll-target="#mini.map-usage-mappings">Mappings</a></li>
  <li><a href="#mini.map-usage-howautomaticrefreshworks" id="toc-mini.map-usage-howautomaticrefreshworks" class="nav-link" data-scroll-target="#mini.map-usage-howautomaticrefreshworks">How automatic refresh works</a></li>
  </ul></li>
  <li><a href="#minimap.setup" id="toc-minimap.setup" class="nav-link" data-scroll-target="#minimap.setup">setup()</a>
  <ul>
  <li><a href="#minimap.setup-parameters" id="toc-minimap.setup-parameters" class="nav-link" data-scroll-target="#minimap.setup-parameters">Parameters</a></li>
  <li><a href="#minimap.setup-usage" id="toc-minimap.setup-usage" class="nav-link" data-scroll-target="#minimap.setup-usage">Usage</a></li>
  </ul></li>
  <li><a href="#minimap.config" id="toc-minimap.config" class="nav-link" data-scroll-target="#minimap.config">config</a>
  <ul>
  <li><a href="#minimap.config-defaults" id="toc-minimap.config-defaults" class="nav-link" data-scroll-target="#minimap.config-defaults">Defaults</a></li>
  <li><a href="#minimap.config-symbols" id="toc-minimap.config-symbols" class="nav-link" data-scroll-target="#minimap.config-symbols">Symbols</a>
  <ul>
  <li><a href="#minimap.config-symbols-encodesymbols" id="toc-minimap.config-symbols-encodesymbols" class="nav-link" data-scroll-target="#minimap.config-symbols-encodesymbols">Encode symbols</a></li>
  <li><a href="#minimap.config-symbols-scrollbarsymbols" id="toc-minimap.config-symbols-scrollbarsymbols" class="nav-link" data-scroll-target="#minimap.config-symbols-scrollbarsymbols">Scrollbar symbols</a></li>
  </ul></li>
  <li><a href="#minimap.config-integrations" id="toc-minimap.config-integrations" class="nav-link" data-scroll-target="#minimap.config-integrations">Integrations</a></li>
  <li><a href="#minimap.config-windowconfig" id="toc-minimap.config-windowconfig" class="nav-link" data-scroll-target="#minimap.config-windowconfig">Window config</a></li>
  <li><a href="#minimap.config-purescrollbarconfig" id="toc-minimap.config-purescrollbarconfig" class="nav-link" data-scroll-target="#minimap.config-purescrollbarconfig">Pure scrollbar config</a></li>
  </ul></li>
  <li><a href="#minimap.current" id="toc-minimap.current" class="nav-link" data-scroll-target="#minimap.current">current</a></li>
  <li><a href="#minimap.encode_strings" id="toc-minimap.encode_strings" class="nav-link" data-scroll-target="#minimap.encode_strings">encode_strings()</a>
  <ul>
  <li><a href="#minimap.encode_strings-parameters" id="toc-minimap.encode_strings-parameters" class="nav-link" data-scroll-target="#minimap.encode_strings-parameters">Parameters</a></li>
  <li><a href="#minimap.encode_strings-return" id="toc-minimap.encode_strings-return" class="nav-link" data-scroll-target="#minimap.encode_strings-return">Return</a></li>
  </ul></li>
  <li><a href="#minimap.open" id="toc-minimap.open" class="nav-link" data-scroll-target="#minimap.open">open()</a>
  <ul>
  <li><a href="#minimap.open-parameters" id="toc-minimap.open-parameters" class="nav-link" data-scroll-target="#minimap.open-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minimap.refresh" id="toc-minimap.refresh" class="nav-link" data-scroll-target="#minimap.refresh">refresh()</a>
  <ul>
  <li><a href="#minimap.refresh-parameters" id="toc-minimap.refresh-parameters" class="nav-link" data-scroll-target="#minimap.refresh-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minimap.close" id="toc-minimap.close" class="nav-link" data-scroll-target="#minimap.close">close()</a></li>
  <li><a href="#minimap.toggle" id="toc-minimap.toggle" class="nav-link" data-scroll-target="#minimap.toggle">toggle()</a>
  <ul>
  <li><a href="#minimap.toggle-parameters" id="toc-minimap.toggle-parameters" class="nav-link" data-scroll-target="#minimap.toggle-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minimap.toggle_focus" id="toc-minimap.toggle_focus" class="nav-link" data-scroll-target="#minimap.toggle_focus">toggle_focus()</a>
  <ul>
  <li><a href="#minimap.toggle_focus-parameters" id="toc-minimap.toggle_focus-parameters" class="nav-link" data-scroll-target="#minimap.toggle_focus-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minimap.toggle_side" id="toc-minimap.toggle_side" class="nav-link" data-scroll-target="#minimap.toggle_side">toggle_side()</a></li>
  <li><a href="#minimap.gen_encode_symbols" id="toc-minimap.gen_encode_symbols" class="nav-link" data-scroll-target="#minimap.gen_encode_symbols">gen_encode_symbols</a></li>
  <li><a href="#minimap.gen_encode_symbols.block" id="toc-minimap.gen_encode_symbols.block" class="nav-link" data-scroll-target="#minimap.gen_encode_symbols.block">gen_encode_symbols.block()</a>
  <ul>
  <li><a href="#minimap.gen_encode_symbols.block-parameters" id="toc-minimap.gen_encode_symbols.block-parameters" class="nav-link" data-scroll-target="#minimap.gen_encode_symbols.block-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minimap.gen_encode_symbols.dot" id="toc-minimap.gen_encode_symbols.dot" class="nav-link" data-scroll-target="#minimap.gen_encode_symbols.dot">gen_encode_symbols.dot()</a>
  <ul>
  <li><a href="#minimap.gen_encode_symbols.dot-parameters" id="toc-minimap.gen_encode_symbols.dot-parameters" class="nav-link" data-scroll-target="#minimap.gen_encode_symbols.dot-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minimap.gen_encode_symbols.shade" id="toc-minimap.gen_encode_symbols.shade" class="nav-link" data-scroll-target="#minimap.gen_encode_symbols.shade">gen_encode_symbols.shade()</a>
  <ul>
  <li><a href="#minimap.gen_encode_symbols.shade-parameters" id="toc-minimap.gen_encode_symbols.shade-parameters" class="nav-link" data-scroll-target="#minimap.gen_encode_symbols.shade-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minimap.gen_integration" id="toc-minimap.gen_integration" class="nav-link" data-scroll-target="#minimap.gen_integration">gen_integration</a></li>
  <li><a href="#minimap.gen_integration.builtin_search" id="toc-minimap.gen_integration.builtin_search" class="nav-link" data-scroll-target="#minimap.gen_integration.builtin_search">gen_integration.builtin_search()</a>
  <ul>
  <li><a href="#minimap.gen_integration.builtin_search-parameters" id="toc-minimap.gen_integration.builtin_search-parameters" class="nav-link" data-scroll-target="#minimap.gen_integration.builtin_search-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minimap.gen_integration.diagnostic" id="toc-minimap.gen_integration.diagnostic" class="nav-link" data-scroll-target="#minimap.gen_integration.diagnostic">gen_integration.diagnostic()</a>
  <ul>
  <li><a href="#minimap.gen_integration.diagnostic-parameters" id="toc-minimap.gen_integration.diagnostic-parameters" class="nav-link" data-scroll-target="#minimap.gen_integration.diagnostic-parameters">Parameters</a></li>
  <li><a href="#minimap.gen_integration.diagnostic-usage" id="toc-minimap.gen_integration.diagnostic-usage" class="nav-link" data-scroll-target="#minimap.gen_integration.diagnostic-usage">Usage</a></li>
  </ul></li>
  <li><a href="#minimap.gen_integration.diff" id="toc-minimap.gen_integration.diff" class="nav-link" data-scroll-target="#minimap.gen_integration.diff">gen_integration.diff()</a>
  <ul>
  <li><a href="#minimap.gen_integration.diff-parameters" id="toc-minimap.gen_integration.diff-parameters" class="nav-link" data-scroll-target="#minimap.gen_integration.diff-parameters">Parameters</a></li>
  </ul></li>
  <li><a href="#minimap.gen_integration.gitsigns" id="toc-minimap.gen_integration.gitsigns" class="nav-link" data-scroll-target="#minimap.gen_integration.gitsigns">gen_integration.gitsigns()</a>
  <ul>
  <li><a href="#minimap.gen_integration.gitsigns-parameters" id="toc-minimap.gen_integration.gitsigns-parameters" class="nav-link" data-scroll-target="#minimap.gen_integration.gitsigns-parameters">Parameters</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">mini.map documentation</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><em>Generated from the <code>main</code> branch of ‘mini.nvim’</em></p>
<p><a name="mini.map" href="../../mini.nvim/doc/mini-map.html#mini.map"><b>mini.map</b></a> Window with buffer text overview</p>
<p>MIT License Copyright (c) 2022 Evgeni Chasnovski</p>
<hr>
<section id="module" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="module">Module</h3>
<p>Features:</p>
<ul>
<li><p>Show and manage special floating window displaying automatically updated overview of current buffer text. Window takes up whole height of Neovim instance and is fixed to a left/right side. Map content is computed by taking all current lines, converting it to binary whitespace/non-whitespace mask, rescaling to appropriate dimensions, and converting back to strings consisting from special encoding symbols. All this is done very fast and asynchronously. See <a href="../../mini.nvim/doc/mini-map.html#minimap.open">MiniMap.open()</a>, <a href="../../mini.nvim/doc/mini-map.html#minimap.refresh">MiniMap.refresh()</a>, <a href="../../mini.nvim/doc/mini-map.html#minimap.close">MiniMap.close()</a>, <a href="../../mini.nvim/doc/mini-map.html#minimap.toggle">MiniMap.toggle()</a>, <a href="../../mini.nvim/doc/mini-map.html#minimap.toggle_side">MiniMap.toggle_side()</a>. For a general overview and tips, see <a href="../../mini.nvim/doc/mini-map.html#mini.map-usage">mini.map-usage</a>.</p></li>
<li><p>Show scrollbar next to map content. It represents current line and view (top and bottom visible lines). Can be the only thing shown, making map window a “pure scrollbar”. See “Pure scrollbar config” section in <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a>.</p></li>
<li><p>Highlight map lines representing certain data in current buffer. This is done via extensible set of callables, called integrations (see “Integrations” section in <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a>). There are pre-built generators for common integrations:</p>
<ul>
<li><p>Builtin search (as result of <a href="https://neovim.io/doc/user/helptag.html?tag=/">/</a> and similar).</p></li>
<li><p>Builtin diagnostic (taken from <a href="https://neovim.io/doc/user/helptag.html?tag=vim.diagnostic.get()">vim.diagnostic.get()</a>).</p></li>
<li><p>General diff hunks provided by <a href="../../mini.nvim/doc/mini-diff.html#mini.diff">mini.diff</a>.</p></li>
<li><p>Hunks computed provided by ‘lewis6991/gitsigns.nvim’. For more details see <a href="../../mini.nvim/doc/mini-map.html#minimap.gen_integration">MiniMap.gen_integration</a>.</p></li>
</ul></li>
<li><p>Focus on map window to quickly browse current (source) buffer. Moving inside map window updates cursor position in source window enabling fast and targeted buffer exploration. To focus back, hit <code>&lt;CR&gt;</code> to accept current explored position or <code>&lt;Esc&gt;</code> to go back to original position. See <a href="../../mini.nvim/doc/mini-map.html#minimap.toggle_focus">MiniMap.toggle_focus()</a>.</p></li>
<li><p>Customizable via <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a> and/or <code>opts</code> argument of <a href="../../mini.nvim/doc/mini-map.html#minimap.open">MiniMap.open()</a> or <a href="../../mini.nvim/doc/mini-map.html#minimap.refresh">MiniMap.refresh()</a>:</p>
<ul>
<li><p>Encoding symbols used to display binary information of different resolution (default is 3x2). There are pre-built generators for different basic character families and resolutions. See <a href="../../mini.nvim/doc/mini-map.html#minimap.gen_encode_symbols">MiniMap.gen_encode_symbols</a>.</p></li>
<li><p>Scrollbar symbols, separate for line and view. Can have any width (even zero, which virtually disables scrollbar).</p></li>
<li><p>Integrations producing map line highlights.</p></li>
<li><p>Window options: side (left/right), width, ‘winblend’, and more.</p></li>
</ul></li>
</ul>
<p>What it doesn’t do:</p>
<ul>
<li><p>Automatically refresh when typing in Insert mode. Although it can be done in non-blocking way, it still might introduce considerable computation overhead (especially in very large files).</p></li>
<li><p>Has more flexible window configuration. In case a full height floating window obstructs vision of underlying buffers, use <a href="../../mini.nvim/doc/mini-map.html#minimap.toggle">MiniMap.toggle()</a> or <a href="../../mini.nvim/doc/mini-map.html#minimap.toggle_side">MiniMap.toggle_side()</a>. Works best with global statusline.</p></li>
<li><p>Provide autoopen functionality. Due to vast differences in user preference of when map window should be shown, set up of automatic opening is left to user. A common approach would be to call <code>MiniMap.open()</code> on <a href="https://neovim.io/doc/user/helptag.html?tag=VimEnter">VimEnter</a> event. If you use <a href="../../mini.nvim/doc/mini-starter.html#mini.starter">mini.starter</a>, you can modify <code>&lt;CR&gt;</code> buffer mapping:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">set_map_keymap</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">rhs</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">MiniStarter</span><span class="op">.</span>eval_current_item<span class="op">()</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">MiniMap</span><span class="op">.</span>open<span class="op">()</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">end</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="va">vim</span><span class="op">.</span><span class="va">keymap</span><span class="op">.</span>set<span class="op">(</span><span class="st">'n'</span><span class="op">,</span> <span class="st">'&lt;CR&gt;'</span><span class="op">,</span> <span class="va">rhs</span><span class="op">,</span> <span class="op">{</span> <span class="va">buffer</span> <span class="op">=</span> <span class="kw">true</span> <span class="op">})</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">opts</span> <span class="op">=</span> <span class="op">{</span> <span class="va">pattern</span> <span class="op">=</span> <span class="st">'MiniStarterOpened'</span><span class="op">,</span> <span class="va">callback</span> <span class="op">=</span> <span class="va">set_map_keymap</span> <span class="op">}</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">api</span><span class="op">.</span>nvim_create_autocmd<span class="op">(</span><span class="st">'User'</span><span class="op">,</span> <span class="va">opts</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="module-setup" class="level4">
<h4 class="anchored" data-anchor-id="module-setup">Setup</h4>
<p>This module needs a setup with <code>require('mini.map').setup({})</code> (replace <code>{}</code> with your <code>config</code> table). It will create global Lua table <code>MiniMap</code> which you can use for scripting or manually (with <code>:lua MiniMap.*</code>).</p>
<p>See <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a> for available config settings.</p>
<p>You can override runtime config settings (like <code>config.modifiers</code>) locally to buffer inside <code>vim.b.minimap_config</code> which should have same structure as <code>MiniMap.config</code>. See <a href="../../mini.nvim/doc/mini-nvim.html#mini.nvim-buffer-local-config">mini.nvim-buffer-local-config</a> for more details.</p>
</section>
<section id="module-dependencies" class="level4">
<h4 class="anchored" data-anchor-id="module-dependencies">Dependencies</h4>
<p>Suggested dependencies (provide extra functionality for integrations):</p>
<ul>
<li><p>Enabled <a href="../../mini.nvim/doc/mini-diff.html#mini.diff">mini.diff</a> module for general diff highlighting via <a href="../../mini.nvim/doc/mini-map.html#minimap.gen_integration.diff">MiniMap.gen_integration.diff()</a>. If missing, no highlighting is added.</p></li>
<li><p>Plugin <a href="https://github.com/lewis6991/gitsigns.nvim">lewis6991/gitsigns.nvim</a> for Git status highlighting via <a href="../../mini.nvim/doc/mini-map.html#minimap.gen_integration.gitsigns">MiniMap.gen_integration.gitsigns()</a>. If missing, no highlighting is added.</p></li>
</ul>
</section>
<section id="module-comparisons" class="level4">
<h4 class="anchored" data-anchor-id="module-comparisons">Comparisons</h4>
<ul>
<li><p><a href="https://github.com/wfxr/minimap.vim">wfxr/minimap.vim</a>:</p>
<ul>
<li><p>‘mini.map’ doesn’t have dependencies while being as fast as written in Rust dependency of ‘minimap.vim’.</p></li>
<li><p>‘mini.map’ uses floating window, while ‘minimap.vim’ uses regular one.</p></li>
<li><p>‘mini.map’ provides slightly different visual interface with scrollbar and integration counts.</p></li>
<li><p>‘mini.map’ allows encode symbols customization, ‘minimap.vim’ does not.</p></li>
<li><p>‘mini.map’ allows extending highlight integrations, while only builtin search and git status are supported in ‘minimap.vim’.</p></li>
<li><p>‘mini.map’ updates in asynchronous (non-blocking) fashion, ‘minimap.vim’ does not.</p></li>
<li><p>‘mini.map’ can be used as a pure scrollbar, ‘minimap.vim’ can not.</p></li>
</ul></li>
<li><p><a href="https://github.com/dstein64/nvim-scrollview">dstein64/nvim-scrollview</a>:</p>
<ul>
<li><p>‘mini.map’ has two-part scrollbar showing current line and view (with variable height), while ‘nvim-scrollview’ shows only current view (with fixed height).</p></li>
<li><p>‘nvim-scrollview’ respects folds, i.e.&nbsp;shows view of visible lines, while ‘mini.map’ by design always shows view based on actual lines.</p></li>
<li><p>‘nvim-scrollview’ creates scrollbar which can be dragged with mouse, while ‘mini.nvim’ does not, by design (use <a href="../../mini.nvim/doc/mini-map.html#minimap.toggle_focus">MiniMap.toggle_focus()</a>).</p></li>
<li><p>‘mini.map’ can show buffer outline, while ‘nvim-scrollview’ can not.</p></li>
<li><p>‘mini.map’ can show highlight integrations, while ‘nvim-scrollview’ can not.</p></li>
</ul></li>
<li><p><a href="https://github.com/petertriho/nvim-scrollbar">petertriho/nvim-scrollbar</a>:</p>
<ul>
<li><p>‘mini.map’ has two-part scrollbar showing current line and view (with variable height), while ‘nvim-scrollbar’ shows only current view.</p></li>
<li><p>‘mini.map’ can show buffer outline, while ‘nvim-scrollbar’ can not.</p></li>
<li><p>‘mini.map’ has fully extendable highlight integrations, while ‘nvim-scrollbar’ only supports diagnostic and search (with dependency).</p></li>
</ul></li>
<li><p><a href="https://github.com/lewis6991/satellite.nvim">lewis6991/satellite.nvim</a>:</p>
<ul>
<li>Almost the same differences as with ‘dstein64/nvim-scrollview’, except ‘satellite.nvim’ can display some set of integration highlights.</li>
</ul></li>
</ul>
</section>
<section id="module-highlightgroups" class="level4">
<h4 class="anchored" data-anchor-id="module-highlightgroups">Highlight groups</h4>
<ul>
<li><p><code>MiniMapNormal</code> - basic highlight of whole window.</p></li>
<li><p><code>MiniMapSymbolCount</code> - counts of per-line integration items.</p></li>
<li><p><code>MiniMapSymbolLine</code> - scrollbar part representing current line.</p></li>
<li><p><code>MiniMapSymbolView</code> - scrollbar part representing current view.</p></li>
</ul>
<p>To change any highlight group, set it directly with <a href="https://neovim.io/doc/user/helptag.html?tag=nvim_set_hl()">nvim_set_hl()</a>.</p>
</section>
<section id="module-disabling" class="level4">
<h4 class="anchored" data-anchor-id="module-disabling">Disabling</h4>
<p>To disable, set <code>vim.g.minimap_disable</code> (globally) or <code>vim.b.minimap_disable</code> (for a buffer) to <code>true</code>. Considering high number of different scenarios and customization intentions, writing exact rules for disabling module’s functionality is left to user. See <a href="../../mini.nvim/doc/mini-nvim.html#mini.nvim-disabling-recipes">mini.nvim-disabling-recipes</a> for common recipes.</p>
<hr>
</section>
</section>
<section id="mini.map-usage" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="mini.map-usage">Usage</h3>
<section id="mini.map-usage-mappings" class="level4">
<h4 class="anchored" data-anchor-id="mini.map-usage-mappings">Mappings</h4>
<p>This module doesn’t make mappings, only provides functions for users to map manually. Here is how one <a href="https://neovim.io/doc/user/helptag.html?tag=%3CLeader%3E"><span class="help-syntax-keys">&lt;Leader&gt;</span></a> set of mappings can be constructed:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">keymap</span><span class="op">.</span>set<span class="op">(</span><span class="st">'n'</span><span class="op">,</span> <span class="st">'&lt;Leader&gt;mc'</span><span class="op">,</span> <span class="va">MiniMap</span><span class="op">.</span><span class="va">close</span><span class="op">)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">keymap</span><span class="op">.</span>set<span class="op">(</span><span class="st">'n'</span><span class="op">,</span> <span class="st">'&lt;Leader&gt;mf'</span><span class="op">,</span> <span class="va">MiniMap</span><span class="op">.</span><span class="va">toggle_focus</span><span class="op">)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">keymap</span><span class="op">.</span>set<span class="op">(</span><span class="st">'n'</span><span class="op">,</span> <span class="st">'&lt;Leader&gt;mo'</span><span class="op">,</span> <span class="va">MiniMap</span><span class="op">.</span><span class="va">open</span><span class="op">)</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">keymap</span><span class="op">.</span>set<span class="op">(</span><span class="st">'n'</span><span class="op">,</span> <span class="st">'&lt;Leader&gt;mr'</span><span class="op">,</span> <span class="va">MiniMap</span><span class="op">.</span><span class="va">refresh</span><span class="op">)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">keymap</span><span class="op">.</span>set<span class="op">(</span><span class="st">'n'</span><span class="op">,</span> <span class="st">'&lt;Leader&gt;ms'</span><span class="op">,</span> <span class="va">MiniMap</span><span class="op">.</span><span class="va">toggle_side</span><span class="op">)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">keymap</span><span class="op">.</span>set<span class="op">(</span><span class="st">'n'</span><span class="op">,</span> <span class="st">'&lt;Leader&gt;mt'</span><span class="op">,</span> <span class="va">MiniMap</span><span class="op">.</span><span class="va">toggle</span><span class="op">)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="mini.map-usage-howautomaticrefreshworks" class="level4">
<h4 class="anchored" data-anchor-id="mini.map-usage-howautomaticrefreshworks">How automatic refresh works</h4>
<p>Automatic refresh is done by calling <a href="../../mini.nvim/doc/mini-map.html#minimap.refresh">MiniMap.refresh()</a> when appropriate <a href="https://neovim.io/doc/user/helptag.html?tag=events">events</a> occur. It is done with specially chosen <code>parts</code> argument value (to avoid unnecessary computations). For example, when only cursor has moved (<a href="https://neovim.io/doc/user/helptag.html?tag=CursorMoved">CursorMoved</a>), only scrollbar is updated; so no recomputation of integrations or line encoding is done.</p>
<p>To avoid visual clutter, automatic refresh is done only in normal buffers and help pages (i.e.&nbsp;with <a href="https://neovim.io/doc/user/helptag.html?tag='buftype'">‘buftype’</a> being empty or “help”)</p>
<p>When you think content is not up to date, try one of these:</p>
<ul>
<li><p>Call <a href="../../mini.nvim/doc/mini-map.html#minimap.refresh">MiniMap.refresh()</a> manually. Make mapping to make it easier.</p></li>
<li><p>Save current buffer, for example with <a href="https://neovim.io/doc/user/helptag.html?tag=:write">:write</a>.</p></li>
<li><p>Exit and enter Normal mode (if your Neovim version supports <a href="https://neovim.io/doc/user/helptag.html?tag=ModeChanged">ModeChanged</a>).</p></li>
</ul>
<hr>
</section>
</section>
<section id="minimap.setup" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.setup">setup()</h3>
<p align="center">
<code>MiniMap.setup</code>(<span class="help-syntax-special">{config}</span>)
</p>
<p>Module setup</p>
<section id="minimap.setup-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.setup-parameters">Parameters</h4>
<p><span class="help-syntax-special">{config}</span> <code>(table|nil)</code> Module config table. See <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a>.</p>
</section>
<section id="minimap.setup-usage" class="level4">
<h4 class="anchored" data-anchor-id="minimap.setup-usage">Usage</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">'mini.map'</span><span class="op">).</span>setup<span class="op">()</span> <span class="co">-- use default config</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">-- OR</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">'mini.map'</span><span class="op">).</span>setup<span class="op">({})</span> <span class="co">-- replace {} with your config table</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
</section>
<section id="minimap.config" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.config">config</h3>
<p align="center">
<code>MiniMap.config</code>
</p>
<section id="minimap.config-defaults" class="level4">
<h4 class="anchored" data-anchor-id="minimap.config-defaults">Defaults</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="va">MiniMap</span><span class="op">.</span><span class="va">config</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Highlight integrations (none by default)</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">integrations</span> <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Symbols used to display data</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="va">symbols</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Encode symbols. See `:h MiniMap.config` for specification and</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- `:h MiniMap.gen_encode_symbols` for pre-built ones.</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Default: solid blocks with 3x2 resolution.</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">encode</span> <span class="op">=</span> <span class="kw">nil</span><span class="op">,</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Scrollbar parts for view and line. Use empty string to disable any.</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="va">scroll_line</span> <span class="op">=</span> <span class="st">'█'</span><span class="op">,</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="va">scroll_view</span> <span class="op">=</span> <span class="st">'┃'</span><span class="op">,</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Window options</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="va">window</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Whether window is focusable in normal way (with `wincmd` or mouse)</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    <span class="va">focusable</span> <span class="op">=</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Side to stick ('left' or 'right')</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="va">side</span> <span class="op">=</span> <span class="st">'right'</span><span class="op">,</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Whether to show count of multiple integration highlights</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="va">show_integration_count</span> <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Total width</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    <span class="va">width</span> <span class="op">=</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Value of 'winblend' option</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="va">winblend</span> <span class="op">=</span> <span class="dv">25</span><span class="op">,</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Z-index</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="va">zindex</span> <span class="op">=</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="minimap.config-symbols" class="level4">
<h4 class="anchored" data-anchor-id="minimap.config-symbols">Symbols</h4>
<p>Options in <code>config.symbols</code> define characters used to display various information in map window.</p>
<section id="minimap.config-symbols-encodesymbols" class="level5">
<h5 class="anchored" data-anchor-id="minimap.config-symbols-encodesymbols">Encode symbols</h5>
<p>The <code>config.symbols.encode</code> option defines which characters are used to encode source buffer lines. For details of encode algorithm, see <a href="../../mini.nvim/doc/mini-map.html#minimap.encode_strings">MiniMap.encode_strings()</a>.</p>
<p>This option should be a table with the following structure:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;resolution&gt;</span> field - table containing <span class="help-syntax-keys">&lt;row&gt;</span> and <span class="help-syntax-keys">&lt;col&gt;</span> elements with row and column resolution of each symbol. This defines encoding structure and number of needed encode symbols.</p></li>
<li><p>Numerical fields 1, 2, …, 2^(row_resolution * col_resolution). Each symbol represents a <code>(row_resolution, col_resolution)</code> boolean mask (<code>true</code> for non-whitespace, <code>false</code> for whitespace), created as (reversed) binary digit: <code>true</code> as 1; <code>false</code> as 0. Traversing left-right, top-bottom (top-left is lowest bit, bottom-right - highest). So first symbol encodes a complete whitespace, last - complete non-whitespace.</p></li>
</ul>
<p>If <code>nil</code> (default), output of <a href="../../mini.nvim/doc/mini-map.html#minimap.gen_encode_symbols.block">MiniMap.gen_encode_symbols.block()</a> with <code>'3x2'</code> identifier is used.</p>
<p>Example: { ‘1’, ‘2’, ‘3’, ‘4’, resolution = { row = 1, col = 2 } }. This will encode two characters in each input row. So a string <code>'  a  aaa'</code> will be encoded as <code>'1234'</code>.</p>
<p>There are pre-built generators of encode symbols:</p>
<ul>
<li><p><a href="../../mini.nvim/doc/mini-map.html#minimap.gen_encode_symbols.block">MiniMap.gen_encode_symbols.block()</a></p></li>
<li><p><a href="../../mini.nvim/doc/mini-map.html#minimap.gen_encode_symbols.dot">MiniMap.gen_encode_symbols.dot()</a></p></li>
<li><p><a href="../../mini.nvim/doc/mini-map.html#minimap.gen_encode_symbols.shade">MiniMap.gen_encode_symbols.shade()</a></p></li>
</ul>
</section>
<section id="minimap.config-symbols-scrollbarsymbols" class="level5">
<h5 class="anchored" data-anchor-id="minimap.config-symbols-scrollbarsymbols">Scrollbar symbols</h5>
<p>Options <code>config.symbols.scroll_line</code> and <code>config.symbols.scroll_view</code> define strings used to represent current line and current view inside map window. Can have any length, map window content will adjust.</p>
<p>If supplied window width is small enough so that only (part of) of scrollbar can be shown, it is called a “pure scrollbar”. The behavior differs slightly from normal map window. See “Pure scrollbar config” later section.</p>
<p>Some suggestions for scrollbar symbols:</p>
<ul>
<li><p>View-line pairs: ‘▒’ and ‘█’.</p></li>
<li><p>Line - ‘🮚’, ‘▶’.</p></li>
<li><p>View - ‘╎’, ‘┋’, ‘┋’.</p></li>
</ul>
</section>
</section>
<section id="minimap.config-integrations" class="level4">
<h4 class="anchored" data-anchor-id="minimap.config-integrations">Integrations</h4>
<p>Option <code>config.integrations</code> is an array of integrations. Each one is used to define map line highlights representing some important lines in source buffer. If <code>nil</code> (default), no integrations are used.</p>
<p>Each integration should be a callable returning an array with data about source buffer lines it wants to highlight. Each array element should be a table with <span class="help-syntax-keys">&lt;line&gt;</span> (source buffer line number) and <span class="help-syntax-keys">&lt;hl_group&gt;</span> (string with highlight group name) keys. Note: line number outside of source buffer count will be converted to a nearest appropriate one.</p>
<p>Example output of single integration:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">{</span> <span class="va">line</span> <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> <span class="va">hl_group</span> <span class="op">=</span> <span class="st">'Search'</span> <span class="op">},</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">{</span> <span class="va">line</span> <span class="op">=</span> <span class="dv">2</span><span class="op">,</span> <span class="va">hl_group</span> <span class="op">=</span> <span class="st">'Operator'</span> <span class="op">},</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">{</span> <span class="va">line</span> <span class="op">=</span> <span class="dv">9</span><span class="op">,</span> <span class="va">hl_group</span> <span class="op">=</span> <span class="st">'Search'</span><span class="op">}</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Conversion to map highlights is done on a “first seen” basis: actual highlight group applied to a map line is taken from the first integration output convertible to that map line. Other outputs with same map line (after conversion) contribute to integration count shown between scrollbar and encoded lines (if <code>config.window.show_integration_count</code> is <code>true</code>).</p>
<p>Previous example output with default <code>'3x2'</code> resolution will add <a href="https://neovim.io/doc/user/helptag.html?tag=hl-Search">hl-Search</a> highlight on map lines 1 and 3, and show integration count 2 on first line.</p>
<p>Every element of integrations array is called one by one from start to end with their outputs appended to end of single array. This means that more important integrations should be placed in the beginning of an array, as this will make them have higher priority in case other integrations will highlight same map line.</p>
<p>Example of using <code>config.integrations</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">map</span> <span class="op">=</span> <span class="fu">require</span><span class="op">(</span><span class="st">'mini.map'</span><span class="op">)</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="va">map</span><span class="op">.</span>setup<span class="op">({</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="va">integrations</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">map</span><span class="op">.</span><span class="va">gen_integration</span><span class="op">.</span>builtin_search<span class="op">(),</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">map</span><span class="op">.</span><span class="va">gen_integration</span><span class="op">.</span>diff<span class="op">(),</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">map</span><span class="op">.</span><span class="va">gen_integration</span><span class="op">.</span>diagnostic<span class="op">(),</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="op">},</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="minimap.config-windowconfig" class="level4">
<h4 class="anchored" data-anchor-id="minimap.config-windowconfig">Window config</h4>
<p>Option <code>config.window</code> defines some properties of map window.</p>
<p><code>window.focusable</code> - whether to allow focusing on map window with other methods beside <a href="../../mini.nvim/doc/mini-map.html#minimap.toggle_focus">MiniMap.toggle_focus()</a> (like <a href="https://neovim.io/doc/user/helptag.html?tag=:wincmd">:wincmd</a>, <a href="https://neovim.io/doc/user/helptag.html?tag=CTRL-W">CTRL-W</a>, or mouse). Default: <code>false</code>.</p>
<p><code>window.side</code> - which side to stick map window: <code>'left'</code> or <code>'right'</code> (default).</p>
<p><code>window.show_integration_count</code> - whether to show integration count between scrollbar and encoded lines. Integration count is a number of integration outputs which were converted to same map line. When <code>true</code>, adds single cell column with numbers from 2 to 9 and character ‘+’ indicating count greater than 9. Count 1 is not shown, because it is redundant to highlighted map line. Default: <code>true</code>.</p>
<p><code>window.width</code> - width of floating window, including scrollbar and integration count column. Default: 10.</p>
<p><code>window.winblend</code> - value of ‘winblend’ of floating window. Value 0 makes it completely non-transparent, 100 - completely transparent (content is still visible, but with slightly different highlights).</p>
<p><code>window.zindex</code> - z-index of floating window. Default: 10.</p>
</section>
<section id="minimap.config-purescrollbarconfig" class="level4">
<h4 class="anchored" data-anchor-id="minimap.config-purescrollbarconfig">Pure scrollbar config</h4>
<p>“Pure scrollbar” is a configuration when window width is not enough to show encoded content. It has following differences from default “map” approach:</p>
<ul>
<li><p>It doesn’t perform line encoding with <a href="../../mini.nvim/doc/mini-map.html#minimap.encode_strings">MiniMap.encode_strings()</a> but instead uses encoding with fixed number of lines (equal to window height).</p></li>
<li><p>Integration highlights are not computed.</p></li>
</ul>
<p>Config:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">'mini.map'</span><span class="op">).</span>setup<span class="op">({</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Customize `symbols` to your liking</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="va">window</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Set this to the maximum width of your scroll symbols</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">width</span> <span class="op">=</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Set this to your liking. Try values 0, 25, 50, 75, 100</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="va">winblend</span> <span class="op">=</span> <span class="dv">100</span><span class="op">,</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">-- Don't need extra column</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="va">show_integration_count</span> <span class="op">=</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
</section>
<section id="minimap.current" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.current">current</h3>
<p align="center">
<code>MiniMap.current</code>
</p>
<p>Table with information about current state of map</p>
<p>At least these keys are supported:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;buf_data&gt;</span> - table with buffer identifiers. Field <span class="help-syntax-keys">&lt;map&gt;</span> contains identifier of a buffer used to display map. Field <span class="help-syntax-keys">&lt;source&gt;</span> - buffer identifier which content map is displaying (i.e.&nbsp;source buffer).</p></li>
<li><p><span class="help-syntax-keys">&lt;win_data&gt;</span> - table of window identifiers used to display map in certain tabpage. Keys: tabpage identifier. Values: window identifier.</p></li>
<li><p><span class="help-syntax-keys">&lt;opts&gt;</span> - current options used to control map display. Same structure as <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a>. Takes precedence over global and buffer-local configs. Is reset when last map window is closed with <a href="../../mini.nvim/doc/mini-map.html#minimap.close">MiniMap.close()</a>.</p></li>
</ul>
<hr>
</section>
<section id="minimap.encode_strings" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.encode_strings">encode_strings()</h3>
<p align="center">
<code>MiniMap.encode_strings</code>(<span class="help-syntax-special">{strings}</span>, <span class="help-syntax-special">{opts}</span>)
</p>
<p>Encode strings</p>
<p>This takes arbitrary array of strings and computes its non-whitespace outline. Output is an array of strings with configurable array length, string width, and symbols representing encoding.</p>
<p>Each encode symbol is assumed to have resolution within which it can convey binary information. For example, resolution <code>3x2</code> (row resolution 3, column - 2) means that each symbol can encode 3 rows and 2 columns of binary data. Here it is used to encode non-whitespace mask. See more in “Encode symbols” section of <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a>.</p>
<p>Encoding has the following steps:</p>
<ul>
<li><p>Convert strings to boolean mask: 2d boolean array with each row representing a string. Element in every row subarray is <code>true</code> if respective (possibly multibyte) character in a string is not a whitespace, <code>false</code> otherwise. Note: tabs are expanded into ‘tabstop’ spaces.</p></li>
<li><p>Rescale to appropriate dimensions:</p>
<ul>
<li><p>Each output dimension is just enough to encode all input strings, but not more than supplied dimensions (<code>opts.n_rows * resolution.row</code> and <code>opts.n_cols * resolution.col</code> respectively).</p></li>
<li><p>If input dimensions are too big to fit inside output, perform grid downscaling with loss of information. Input boolean mask is divided into 2d-bins with as equal as possible dimensions. Each bin then converted into single boolean value: <code>true</code> if bin contains at least one <code>true</code> element, <code>false</code> otherwise. This leads to a whitespace output meaning that all entries in a bin are whitespace, while non-whitespace output means that some entry is non-whitespace.</p></li>
</ul></li>
<li><p>Convert boolean mask to symbol strings:</p>
<ul>
<li><p>Input rescaled boolean mask is divided into bins with dimensions of symbol resolution (assuming <code>false</code> outer padding).</p></li>
<li><p>Each bin with resolution dimensions is transformed into encode symbol. Single convertible <code>(resolution.row, resolution.col)</code> boolean mask is treated as (reversed) binary digit: <code>true</code> as 1; <code>false</code> as 0. Traversing left-right, top-bottom (top-left is lowest bit, bottom-right - highest).</p></li>
</ul></li>
</ul>
<p>Example:</p>
<p>Assume the output should have 3 rows of symbols each with width 2. Encode symbols are ’ ‘,’▌‘,’▐‘,’█’ with <code>1x2</code> resolution.</p>
<p>Assume input strings:</p>
<pre><code>aaaaa
 b b

 d d
e e</code></pre>
<p>Steps:</p>
<ul>
<li><p>Convert to boolean mask (each row is a boolean array, “t”/“f” ~ <code>true</code>/<code>false</code>, empty spots are equivalent to being <code>false</code>):</p>
<pre><code>ttttt
ftft

ftft
tft</code></pre></li>
<li><p>Rescale. Output dimensions are <code>n_rows * resolution.row = 3 * 1 = 3</code> rows and <code>n_cols * resolution.col = 2 * 2 = 4</code>. It creates as equal as possible grid with 3 rows and 4 columns and converts bins to single booleans. Result:</p>
<pre><code>tttt
tftf
ttff</code></pre></li>
<li><p>Convert to symbols. It makes <code>1x2</code> bins, treats their input as (reversed) binary digits (<code>ff=00=0</code>, <code>tf=10=1</code>, <code>ft=01=2</code>, <code>tt=11=3</code>) and takes corresponding symbols from supplied options (value plus 1). Result:</p>
<pre><code>██
▌▌
█</code></pre></li>
</ul>
<section id="minimap.encode_strings-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.encode_strings-parameters">Parameters</h4>
<p><span class="help-syntax-special">{strings}</span> <code>(table)</code> Array of arbitrary strings.</p>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options. Possible fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;n_rows&gt;</span> - number of rows in output encoding. If too big, will be truncated to be maximum needed to encode all input strings (taking into account symbols row resolution). Default: <code>math.huge</code>.</p></li>
<li><p><span class="help-syntax-keys">&lt;n_cols&gt;</span> - width of every encoding string. If too big, will be truncated to be maximum needed to encode all input strings (taking into account symbols column resolution). Default: <code>math.huge</code>.</p></li>
<li><p><span class="help-syntax-keys">&lt;symbols&gt;</span> - array of symbols with extra <code>resolution</code> field. See “Encode symbols” section of <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a> for more details. Default: output of <a href="../../mini.nvim/doc/mini-map.html#minimap.gen_encode_symbols.block">MiniMap.gen_encode_symbols.block()</a> with <code>'3x2'</code> identifier.</p></li>
</ul>
</section>
<section id="minimap.encode_strings-return" class="level4">
<h4 class="anchored" data-anchor-id="minimap.encode_strings-return">Return</h4>
<p><code>(table)</code> Array of encoded strings.</p>
<hr>
</section>
</section>
<section id="minimap.open" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.open">open()</h3>
<p align="center">
<code>MiniMap.open</code>(<span class="help-syntax-special">{opts}</span>)
</p>
<p>Open map window</p>
<p>This creates and shows map window in current tabpage. It basically has two steps:</p>
<ul>
<li><p>If not already done, create map buffer (used to set lines and other visual indicators) and map window.</p></li>
<li><p>Call <a href="../../mini.nvim/doc/mini-map.html#minimap.refresh">MiniMap.refresh()</a>.</p></li>
</ul>
<section id="minimap.open-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.open-parameters">Parameters</h4>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options used to define map configuration. Same structure as <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a>. Will have effect until at least one tabpage has opened map window. Default values are taken in the following order:</p>
<ul>
<li><p>From <code>opts</code> field of <a href="../../mini.nvim/doc/mini-map.html#minimap.current">MiniMap.current</a>.</p></li>
<li><p>From <code>vim.b.minimap_config</code>.</p></li>
<li><p>From <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a>.</p></li>
</ul>
<hr>
</section>
</section>
<section id="minimap.refresh" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.refresh">refresh()</h3>
<p align="center">
<code>MiniMap.refresh</code>(<span class="help-syntax-special">{opts}</span>, <span class="help-syntax-special">{parts}</span>)
</p>
<p>Refresh map window</p>
<p>This function serves two purposes:</p>
<ul>
<li><p>Update current map configuration via <code>opts</code>.</p></li>
<li><p>Update parts of displayed content via <code>parts</code>.</p></li>
</ul>
<section id="minimap.refresh-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.refresh-parameters">Parameters</h4>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Options used to define map configuration. Same structure as <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a>. Will have effect until at least one tabpage has opened map window. Default values are taken in the following order:</p>
<ul>
<li><p>From <code>opts</code> field of <a href="../../mini.nvim/doc/mini-map.html#minimap.current">MiniMap.current</a>.</p></li>
<li><p>From <code>vim.b.minimap_config</code>.</p></li>
<li><p>From <a href="../../mini.nvim/doc/mini-map.html#minimap.config">MiniMap.config</a>.</p></li>
</ul>
<p><span class="help-syntax-special">{parts}</span> <code>(table|nil)</code> Which parts to update. Recognised keys with boolean values (all <code>true</code> by default):</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;integrations&gt;</span> - whether to update integration highlights.</p></li>
<li><p><span class="help-syntax-keys">&lt;lines&gt;</span> - whether to update map lines.</p></li>
<li><p><span class="help-syntax-keys">&lt;scrollbar&gt;</span> - whether to update scrollbar.</p></li>
</ul>
<hr>
</section>
</section>
<section id="minimap.close" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.close">close()</h3>
<p align="center">
<code>MiniMap.close</code>()
</p>
<p>Close map window</p>
<p>Also resets <code>opts</code> field of <a href="../../mini.nvim/doc/mini-map.html#minimap.current">MiniMap.current</a> after closing last map window (among possibly several tabpages).</p>
<hr>
</section>
<section id="minimap.toggle" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.toggle">toggle()</h3>
<p align="center">
<code>MiniMap.toggle</code>(<span class="help-syntax-special">{opts}</span>)
</p>
<p>Toggle map window</p>
<p>Open if not shown in current tabpage, close otherwise.</p>
<section id="minimap.toggle-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.toggle-parameters">Parameters</h4>
<p><span class="help-syntax-special">{opts}</span> <code>(table|nil)</code> Input for <a href="../../mini.nvim/doc/mini-map.html#minimap.open">MiniMap.open()</a>.</p>
<hr>
</section>
</section>
<section id="minimap.toggle_focus" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.toggle_focus">toggle_focus()</h3>
<p align="center">
<code>MiniMap.toggle_focus</code>(<span class="help-syntax-special">{use_previous_cursor}</span>)
</p>
<p>Toggle focus to/from map window</p>
<p>When not inside map window, put cursor inside map window; otherwise put cursor in previous window with source buffer.</p>
<p>When cursor is moving inside map window (but not just after focusing), view of source window is updated to show first line convertible to current map line. This allows quick targeted source buffer exploration.</p>
<p>There are at least these extra methods to focus back from map window:</p>
<ul>
<li><p>Press <code>&lt;CR&gt;</code> to accept current explored position in source buffer. Equivalent to calling this function with <code>false</code> argument.</p></li>
<li><p>Press <code>&lt;Esc&gt;</code> to go back to original position prior focusing on map window. Equivalent to calling this function with <code>true</code> argument.</p></li>
</ul>
<section id="minimap.toggle_focus-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.toggle_focus-parameters">Parameters</h4>
<p><span class="help-syntax-special">{use_previous_cursor}</span> <code>(boolean|nil)</code> Whether to focus on source window at original cursor position (the one prior focusing on map window).</p>
<hr>
</section>
</section>
<section id="minimap.toggle_side" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.toggle_side">toggle_side()</h3>
<p align="center">
<code>MiniMap.toggle_side</code>()
</p>
<p>Toggle side of map window</p>
<p>A small convenience wrapper for calling <a href="../../mini.nvim/doc/mini-map.html#minimap.refresh">MiniMap.refresh()</a> to change the side of map window.</p>
<hr>
</section>
<section id="minimap.gen_encode_symbols" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.gen_encode_symbols">gen_encode_symbols</h3>
<p align="center">
<code>MiniMap.gen_encode_symbols</code>
</p>
<p>Generate encode symbols</p>
<p>This is a table with function elements. Call to actually get encode symbols.</p>
<p>Each element takes a string resolution identifier of a form <code>'rxc'</code> (like <code>'3x2'</code>) where <code>r</code> is a row resolution of each symbol (how many rows of binary data it can encode) and <code>c</code> is a column resolution (how many columns it can encode).</p>
<hr>
</section>
<section id="minimap.gen_encode_symbols.block" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.gen_encode_symbols.block">gen_encode_symbols.block()</h3>
<p align="center">
<code>MiniMap.gen_encode_symbols.block</code>(<span class="help-syntax-special">{id}</span>)
</p>
<p>Generate block encode symbols</p>
<p>Outputs use solid block to encode binary data. Example: ‘🬗’, ‘▟’, ‘█’.</p>
<section id="minimap.gen_encode_symbols.block-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.gen_encode_symbols.block-parameters">Parameters</h4>
<p><span class="help-syntax-special">{id}</span> <code>(string)</code> Resolution identifier. Available values: <code>'1x2'</code>, <code>'2x1'</code>, <code>'2x2'</code>, <code>'3x2'</code> (default in ‘mini.map’).</p>
<hr>
</section>
</section>
<section id="minimap.gen_encode_symbols.dot" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.gen_encode_symbols.dot">gen_encode_symbols.dot()</h3>
<p align="center">
<code>MiniMap.gen_encode_symbols.dot</code>(<span class="help-syntax-special">{id}</span>)
</p>
<p>Generate dot encode symbols</p>
<p>Outputs use dots to encode binary data. Example: ‘⡪’, ‘⣼’, ‘⣿’.</p>
<section id="minimap.gen_encode_symbols.dot-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.gen_encode_symbols.dot-parameters">Parameters</h4>
<p><span class="help-syntax-special">{id}</span> <code>(string)</code> Resolution identifier. Available values: <code>'4x2'</code>, <code>'3x2'</code>.</p>
<hr>
</section>
</section>
<section id="minimap.gen_encode_symbols.shade" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.gen_encode_symbols.shade">gen_encode_symbols.shade()</h3>
<p align="center">
<code>MiniMap.gen_encode_symbols.shade</code>(<span class="help-syntax-special">{id}</span>)
</p>
<p>Generate shade encode symbols</p>
<p>Outputs use whole cell shades to encode binary data. They use same set of characters (‘░’, ‘▒’, ‘▒’, ’▓), but with different resolution.</p>
<section id="minimap.gen_encode_symbols.shade-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.gen_encode_symbols.shade-parameters">Parameters</h4>
<p><span class="help-syntax-special">{id}</span> <code>(string)</code> Resolution identifier. Available values: <code>'1x2'</code>, <code>'2x1'</code>.</p>
<hr>
</section>
</section>
<section id="minimap.gen_integration" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.gen_integration">gen_integration</h3>
<p align="center">
<code>MiniMap.gen_integration</code>
</p>
<p>Generate integrations</p>
<p>This is a table with function elements. Call to actually get encode symbols.</p>
<p>Each element takes a table defining highlight groups used for to highlight map lines.</p>
<hr>
</section>
<section id="minimap.gen_integration.builtin_search" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.gen_integration.builtin_search">gen_integration.builtin_search()</h3>
<p align="center">
<code>MiniMap.gen_integration.builtin_search</code>(<span class="help-syntax-special">{hl_groups}</span>)
</p>
<p>Builtin search</p>
<p>Highlight lines with matches of current builtin search (like with <a href="https://neovim.io/doc/user/helptag.html?tag=/">/</a>, <a href="https://neovim.io/doc/user/helptag.html?tag=?">?</a>, etc.). Integration count reflects number of actual matches.</p>
<p>It prompts integration highlighting update on every change of <a href="https://neovim.io/doc/user/helptag.html?tag='hlsearch'">‘hlsearch’</a> (see <a href="https://neovim.io/doc/user/helptag.html?tag=OptionSet">OptionSet</a>) or <a href="https://neovim.io/doc/user/helptag.html?tag=v:hlsearch">v:hlsearch</a>. Note that it is not happening for some keys:</p>
<ul>
<li><p>After starting search with <a href="https://neovim.io/doc/user/helptag.html?tag=n">n</a>, <a href="https://neovim.io/doc/user/helptag.html?tag=N">N</a>, <a href="https://neovim.io/doc/user/helptag.html?tag=star">star</a>, or <a href="https://neovim.io/doc/user/helptag.html?tag=#">#</a>. To enable highlight update on this keys, make custom mappings. Like this:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="cn">_</span><span class="op">,</span> <span class="va">key</span> <span class="kw">in</span> <span class="fu">ipairs</span><span class="op">({</span> <span class="st">'n'</span><span class="op">,</span> <span class="st">'N'</span><span class="op">,</span> <span class="st">'*'</span><span class="op">,</span> <span class="st">'#'</span> <span class="op">})</span> <span class="cf">do</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">local</span> <span class="va">rhs</span> <span class="op">=</span> <span class="va">key</span> <span class="op">..</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'&lt;Cmd&gt;lua MiniMap.refresh({}, {lines = false, scrollbar = false})&lt;CR&gt;'</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="va">vim</span><span class="op">.</span><span class="va">keymap</span><span class="op">.</span>set<span class="op">(</span><span class="st">'n'</span><span class="op">,</span> <span class="va">key</span><span class="op">,</span> <span class="va">rhs</span><span class="op">)</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="minimap.gen_integration.builtin_search-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.gen_integration.builtin_search-parameters">Parameters</h4>
<p><span class="help-syntax-special">{hl_groups}</span> <code>(table|nil)</code> Table defining highlight groups. Can have the following fields:</p>
<ul>
<li><span class="help-syntax-keys">&lt;search&gt;</span> - highlight group for search matches. Default: <a href="https://neovim.io/doc/user/helptag.html?tag=hl-Search">hl-Search</a>.</li>
</ul>
<hr>
</section>
</section>
<section id="minimap.gen_integration.diagnostic" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.gen_integration.diagnostic">gen_integration.diagnostic()</h3>
<p align="center">
<code>MiniMap.gen_integration.diagnostic</code>(<span class="help-syntax-special">{hl_groups}</span>)
</p>
<p>Builtin diagnostic</p>
<p>Highlight lines with matches of current diagnostic items. Items are computed with <a href="https://neovim.io/doc/user/helptag.html?tag=vim.diagnostic.get()">vim.diagnostic.get()</a> for current (source) buffer.</p>
<p>It prompts integration highlighting update on every <a href="https://neovim.io/doc/user/helptag.html?tag=DiagnosticChanged">DiagnosticChanged</a> event. Diagnostic items with higher severity (see <a href="https://neovim.io/doc/user/helptag.html?tag=vim.diagnostic.severity">vim.diagnostic.severity</a>) have higher highlight priority (errors will be shown over all others, etc.).</p>
<section id="minimap.gen_integration.diagnostic-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.gen_integration.diagnostic-parameters">Parameters</h4>
<p><span class="help-syntax-special">{hl_groups}</span> <code>(table|nil)</code> Table defining highlight groups. Supplied fields also define which diagnostic severity to highlight. Can have the following fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;error&gt;</span> - highlight group for error items. Default: <a href="https://neovim.io/doc/user/helptag.html?tag=hl-DiagnosticFloatingError">hl-DiagnosticFloatingError</a>.</p></li>
<li><p><span class="help-syntax-keys">&lt;warn&gt;</span> - highlight group for warning items. Default: <code>nil</code> (not shown).</p></li>
<li><p><span class="help-syntax-keys">&lt;info&gt;</span> - highlight group for info items. Default: <code>nil</code> (not shown).</p></li>
<li><p><span class="help-syntax-keys">&lt;hint&gt;</span> - highlight group for hint items. Default: <code>nil</code> (not shown).</p></li>
</ul>
</section>
<section id="minimap.gen_integration.diagnostic-usage" class="level4">
<h4 class="anchored" data-anchor-id="minimap.gen_integration.diagnostic-usage">Usage</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode lua code-with-copy"><code class="sourceCode lua"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Show all diagnostic levels</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">map</span> <span class="op">=</span> <span class="fu">require</span><span class="op">(</span><span class="st">'mini.map'</span><span class="op">)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">diagnostic_integration</span> <span class="op">=</span> <span class="va">map</span><span class="op">.</span><span class="va">gen_integration</span><span class="op">.</span>diagnostic<span class="op">({</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">error</span> <span class="op">=</span> <span class="st">'DiagnosticFloatingError'</span><span class="op">,</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">warn</span>  <span class="op">=</span> <span class="st">'DiagnosticFloatingWarn'</span><span class="op">,</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="va">info</span>  <span class="op">=</span> <span class="st">'DiagnosticFloatingInfo'</span><span class="op">,</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="va">hint</span>  <span class="op">=</span> <span class="st">'DiagnosticFloatingHint'</span><span class="op">,</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="va">map</span><span class="op">.</span>setup<span class="op">({</span> <span class="va">integrations</span> <span class="op">=</span> <span class="op">{</span> <span class="va">diagnostic_integration</span> <span class="op">}</span> <span class="op">})</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
</section>
<section id="minimap.gen_integration.diff" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.gen_integration.diff">gen_integration.diff()</h3>
<p align="center">
<code>MiniMap.gen_integration.diff</code>(<span class="help-syntax-special">{hl_groups}</span>)
</p>
<p>General diff hunks from <a href="../../mini.nvim/doc/mini-diff.html#mini.diff">mini.diff</a></p>
<p>Highlight lines which are part of current diff. Requires ‘mini.diff’ as dependency.</p>
<section id="minimap.gen_integration.diff-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.gen_integration.diff-parameters">Parameters</h4>
<p><span class="help-syntax-special">{hl_groups}</span> <code>(table|nil)</code> Table defining highlight groups. If <code>nil</code> (not supplied), this status is not highlighted. Can have the following fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;add&gt;</span> - group name for “add” hunks. Default: “MiniDiffSignAdd”.</p></li>
<li><p><span class="help-syntax-keys">&lt;change&gt;</span> - group name for “change” hunks. Default: “MiniDiffSignChange”.</p></li>
<li><p><span class="help-syntax-keys">&lt;delete&gt;</span> - group name for “delete” hunks. Default: “MiniDiffSignDelete”.</p></li>
</ul>
<hr>
</section>
</section>
<section id="minimap.gen_integration.gitsigns" class="level3 help-syntax-right-anchor">
<h3 class="help-syntax-right-anchor anchored" data-anchor-id="minimap.gen_integration.gitsigns">gen_integration.gitsigns()</h3>
<p align="center">
<code>MiniMap.gen_integration.gitsigns</code>(<span class="help-syntax-special">{hl_groups}</span>)
</p>
<p>Hunks from ‘lewis6991/gitsigns.nvim’</p>
<p>Highlight lines which have non-trivial Git status. Requires <a href="https://github.com/lewis6991/gitsigns.nvim">lewis6991/gitsigns.nvim</a>.</p>
<section id="minimap.gen_integration.gitsigns-parameters" class="level4">
<h4 class="anchored" data-anchor-id="minimap.gen_integration.gitsigns-parameters">Parameters</h4>
<p><span class="help-syntax-special">{hl_groups}</span> <code>(table|nil)</code> Table defining highlight groups. If <code>nil</code> (not supplied), this status is not highlighted. Can have the following fields:</p>
<ul>
<li><p><span class="help-syntax-keys">&lt;add&gt;</span> - group name for added lines. Default: “GitSignsAdd”.</p></li>
<li><p><span class="help-syntax-keys">&lt;change&gt;</span> - group name for changed lines. Default: “GitSignsChange”.</p></li>
<li><p><span class="help-syntax-keys">&lt;delete&gt;</span> - group name for deleted lines. Default: “GitSignsDelete”.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<!-- Original source: https://gc.zgo.at/count.js -->
<!-- Inlined for security reasons (less supply chain attack possibility) -->
<script data-goatcounter="https://nvim-mini.goatcounter.com/count">
// GoatCounter: https://www.goatcounter.com
// This file is released under the ISC license: https://opensource.org/licenses/ISC
;(function() {
	'use strict';

	window.goatcounter = window.goatcounter || {}

	// Load settings from data-goatcounter-settings.
	var s = document.querySelector('script[data-goatcounter]')
	if (s && s.dataset.goatcounterSettings) {
		try         { var set = JSON.parse(s.dataset.goatcounterSettings) }
		catch (err) { console.error('invalid JSON in data-goatcounter-settings: ' + err) }
		for (var k in set)
			if (['no_onload', 'no_events', 'allow_local', 'allow_frame', 'path', 'title', 'referrer', 'event'].indexOf(k) > -1)
				window.goatcounter[k] = set[k]
	}

	var enc = encodeURIComponent

	// Get all data we're going to send off to the counter endpoint.
	window.goatcounter.get_data = function(vars) {
		vars = vars || {}
		var data = {
			p: (vars.path     === undefined ? goatcounter.path     : vars.path),
			r: (vars.referrer === undefined ? goatcounter.referrer : vars.referrer),
			t: (vars.title    === undefined ? goatcounter.title    : vars.title),
			e: !!(vars.event || goatcounter.event),
			s: window.screen.width,
			b: is_bot(),
			q: location.search,
		}

		var rcb, pcb, tcb  // Save callbacks to apply later.
		if (typeof(data.r) === 'function') rcb = data.r
		if (typeof(data.t) === 'function') tcb = data.t
		if (typeof(data.p) === 'function') pcb = data.p

		if (is_empty(data.r)) data.r = document.referrer
		if (is_empty(data.t)) data.t = document.title
		if (is_empty(data.p)) data.p = get_path()

		if (rcb) data.r = rcb(data.r)
		if (tcb) data.t = tcb(data.t)
		if (pcb) data.p = pcb(data.p)
		return data
	}

	// Check if a value is "empty" for the purpose of get_data().
	var is_empty = function(v) { return v === null || v === undefined || typeof(v) === 'function' }

	// See if this looks like a bot; there is some additional filtering on the
	// backend, but these properties can't be fetched from there.
	var is_bot = function() {
		// Headless browsers are probably a bot.
		var w = window, d = document
		if (w.callPhantom || w._phantom || w.phantom)
			return 150
		if (w.__nightmare)
			return 151
		if (d.__selenium_unwrapped || d.__webdriver_evaluate || d.__driver_evaluate)
			return 152
		if (navigator.webdriver)
			return 153
		return 0
	}

	// Object to urlencoded string, starting with a ?.
	var urlencode = function(obj) {
		var p = []
		for (var k in obj)
			if (obj[k] !== '' && obj[k] !== null && obj[k] !== undefined && obj[k] !== false)
				p.push(enc(k) + '=' + enc(obj[k]))
		return '?' + p.join('&')
	}

	// Show a warning in the console.
	var warn = function(msg) {
		if (console && 'warn' in console)
			console.warn('goatcounter: ' + msg)
	}

	// Get the endpoint to send requests to.
	var get_endpoint = function() {
		var s = document.querySelector('script[data-goatcounter]')
		return (s && s.dataset.goatcounter) ? s.dataset.goatcounter : goatcounter.endpoint
	}

	// Get current path.
	var get_path = function() {
		var loc = location,
			c = document.querySelector('link[rel="canonical"][href]')
		if (c) {  // May be relative or point to different domain.
			var a = document.createElement('a')
			a.href = c.href
			if (a.hostname.replace(/^www\./, '') === location.hostname.replace(/^www\./, ''))
				loc = a
		}
		return (loc.pathname + loc.search) || '/'
	}

	// Run function after DOM is loaded.
	var on_load = function(f) {
		if (document.body === null)
			document.addEventListener('DOMContentLoaded', function() { f() }, false)
		else
			f()
	}

	// Filter some requests that we (probably) don't want to count.
	window.goatcounter.filter = function() {
		if ('visibilityState' in document && document.visibilityState === 'prerender')
			return 'visibilityState'
		if (!goatcounter.allow_frame && location !== parent.location)
			return 'frame'
		if (!goatcounter.allow_local && location.hostname.match(/(localhost$|^127\.|^10\.|^172\.(1[6-9]|2[0-9]|3[0-1])\.|^192\.168\.|^0\.0\.0\.0$)/))
			return 'localhost'
		if (!goatcounter.allow_local && location.protocol === 'file:')
			return 'localfile'
		if (localStorage && localStorage.getItem('skipgc') === 't')
			return 'disabled with #toggle-goatcounter'
		return false
	}

	// Get URL to send to GoatCounter.
	window.goatcounter.url = function(vars) {
		var data = window.goatcounter.get_data(vars || {})
		if (data.p === null)  // null from user callback.
			return
		data.rnd = Math.random().toString(36).substr(2, 5)  // Browsers don't always listen to Cache-Control.

		var endpoint = get_endpoint()
		if (!endpoint)
			return warn('no endpoint found')

		return endpoint + urlencode(data)
	}

	// Count a hit.
	window.goatcounter.count = function(vars) {
		var f = goatcounter.filter()
		if (f)
			return warn('not counting because of: ' + f)
		var url = goatcounter.url(vars)
		if (!url)
			return warn('not counting because path callback returned null')

		if (!navigator.sendBeacon(url)) {
			// This mostly fails due to being blocked by CSP; try again with an
			// image-based fallback.
			var img = document.createElement('img')
			img.src = url
			img.style.position = 'absolute'  // Affect layout less.
			img.style.bottom = '0px'
			img.style.width = '1px'
			img.style.height = '1px'
			img.loading = 'eager'
			img.setAttribute('alt', '')
			img.setAttribute('aria-hidden', 'true')

			var rm = function() { if (img && img.parentNode) img.parentNode.removeChild(img) }
			img.addEventListener('load', rm, false)
			document.body.appendChild(img)
		}
	}

	// Get a query parameter.
	window.goatcounter.get_query = function(name) {
		var s = location.search.substr(1).split('&')
		for (var i = 0; i < s.length; i++)
			if (s[i].toLowerCase().indexOf(name.toLowerCase() + '=') === 0)
				return s[i].substr(name.length + 1)
	}

	// Track click events.
	window.goatcounter.bind_events = function() {
		if (!document.querySelectorAll)  // Just in case someone uses an ancient browser.
			return

		var send = function(elem) {
			return function() {
				goatcounter.count({
					event:    true,
					path:     (elem.dataset.goatcounterClick || elem.name || elem.id || ''),
					title:    (elem.dataset.goatcounterTitle || elem.title || (elem.innerHTML || '').substr(0, 200) || ''),
					referrer: (elem.dataset.goatcounterReferrer || elem.dataset.goatcounterReferral || ''),
				})
			}
		}

		Array.prototype.slice.call(document.querySelectorAll("*[data-goatcounter-click]")).forEach(function(elem) {
			if (elem.dataset.goatcounterBound)
				return
			var f = send(elem)
			elem.addEventListener('click', f, false)
			elem.addEventListener('auxclick', f, false)  // Middle click.
			elem.dataset.goatcounterBound = 'true'
		})
	}

	// Add a "visitor counter" frame or image.
	window.goatcounter.visit_count = function(opt) {
		on_load(function() {
			opt        = opt        || {}
			opt.type   = opt.type   || 'html'
			opt.append = opt.append || 'body'
			opt.path   = opt.path   || get_path()
			opt.attr   = opt.attr   || {width: '200', height: (opt.no_branding ? '60' : '80')}

			opt.attr['src'] = get_endpoint() + 'er/' + enc(opt.path) + '.' + enc(opt.type) + '?'
			if (opt.no_branding) opt.attr['src'] += '&no_branding=1'
			if (opt.style)       opt.attr['src'] += '&style=' + enc(opt.style)
			if (opt.start)       opt.attr['src'] += '&start=' + enc(opt.start)
			if (opt.end)         opt.attr['src'] += '&end='   + enc(opt.end)

			var tag = {png: 'img', svg: 'img', html: 'iframe'}[opt.type]
			if (!tag)
				return warn('visit_count: unknown type: ' + opt.type)

			if (opt.type === 'html') {
				opt.attr['frameborder'] = '0'
				opt.attr['scrolling']   = 'no'
			}

			var d = document.createElement(tag)
			for (var k in opt.attr)
				d.setAttribute(k, opt.attr[k])

			var p = document.querySelector(opt.append)
			if (!p)
				return warn('visit_count: element to append to not found: ' + opt.append)
			p.appendChild(d)
		})
	}

	// Make it easy to skip your own views.
	if (location.hash === '#toggle-goatcounter') {
		if (localStorage.getItem('skipgc') === 't') {
			localStorage.removeItem('skipgc', 't')
			alert('GoatCounter tracking is now ENABLED in this browser.')
		}
		else {
			localStorage.setItem('skipgc', 't')
			alert('GoatCounter tracking is now DISABLED in this browser until ' + location + ' is loaded again.')
		}
	}

	if (!goatcounter.no_onload)
		on_load(function() {
			// 1. Page is visible, count request.
			// 2. Page is not yet visible; wait until it switches to 'visible' and count.
			// See #487
			if (!('visibilityState' in document) || document.visibilityState === 'visible')
				goatcounter.count()
			else {
				var f = function(e) {
					if (document.visibilityState !== 'visible')
						return
					document.removeEventListener('visibilitychange', f)
					goatcounter.count()
				}
				document.addEventListener('visibilitychange', f)
			}

			if (!goatcounter.no_events)
				goatcounter.bind_events()
		})
})();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/nvim-mini\.org");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© Evgeni Chasnovski, <a href="https://choosealicense.com/licenses/mit/">MIT</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>